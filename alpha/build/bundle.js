!function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(n){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?t(Object(r),!0).forEach((function(t){e(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function a(){}function l(e){return e()}function c(){return Object.create(null)}function u(e){e.forEach(l)}function h(e){return"function"==typeof e}function f(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e){if(null==e)return a;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function p(e,t,n){e.$$.on_destroy.push(d(t,n))}function O(e){return null==e?"":e}function g(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function Q(e){return document.createTextNode(e)}function x(){return Q(" ")}function w(){return Q("")}function $(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function k(e){return function(t){t.target===this&&e.call(this,t)}}function S(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e){return Array.from(e.childNodes)}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function A(e,t){e.value=null==t?"":t}function C(e,t,n,i){e.style.setProperty(t,n,i?"important":"")}function T(e,t){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}function W(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function R(e,t,n){e.classList[n?"add":"remove"](t)}let _;function E(e){_=e}function X(){if(!_)throw new Error("Function called outside component initialization");return _}function F(e){X().$$.on_destroy.push(e)}const z=[],Y=[],L=[],Z=[],q=Promise.resolve();let B=!1;function M(){B||(B=!0,q.then(G))}function j(){return M(),q}function V(e){L.push(e)}function I(e){Z.push(e)}let U=!1;const N=new Set;function G(){if(!U){U=!0;do{for(let e=0;e<z.length;e+=1){const t=z[e];E(t),H(t.$$)}for(E(null),z.length=0;Y.length;)Y.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];N.has(t)||(N.add(t),t())}L.length=0}while(z.length);for(;Z.length;)Z.pop()();B=!1,U=!1,N.clear()}}function H(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}const K=new Set;let J;function ee(){J={r:0,c:[],p:J}}function te(){J.r||u(J.c),J=J.p}function ne(e,t){e&&e.i&&(K.delete(e),e.i(t))}function ie(e,t,n,i){if(e&&e.o){if(K.has(e))return;K.add(e),J.c.push((()=>{K.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}}function re(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function se(e){e&&e.c()}function oe(e,t,n,i){const r=e.$$,s=r.fragment,o=r.on_mount,a=r.on_destroy,c=r.after_update;s&&s.m(t,n),i||V((()=>{const t=o.map(l).filter(h);a?a.push(...t):u(t),e.$$.on_mount=[]})),c.forEach(V)}function ae(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){-1===e.$$.dirty[0]&&(z.push(e),M(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(e,t,n,i,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1];const l=_;E(e);const h=e.$$={fragment:null,ctx:null,props:s,update:a,not_equal:r,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:c(),dirty:o,skip_bound:!1};let f=!1;if(h.ctx=n?n(e,t.props||{},(function(t,n){const i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return h.ctx&&r(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&le(e,t)),n})):[],h.update(),f=!0,u(h.before_update),h.fragment=!!i&&i(h.ctx),t.target){if(t.hydrate){const e=D(t.target);h.fragment&&h.fragment.l(e),e.forEach(y)}else h.fragment&&h.fragment.c();t.intro&&ne(e.$$.fragment),oe(e,t.target,t.anchor,t.customElement),G()}E(l)}class ue{$destroy(){ae(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const he=[];function fe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;const i=[];function r(n){if(f(e,n)&&(e=n,t)){const t=!he.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),he.push(n,e)}if(t){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}function s(t){r(t(e))}function o(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;const l=[s,o];return i.push(l),1===i.length&&(t=n(r)||a),s(e),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&(t(),t=null)}}return{set:r,update:s,subscribe:o}}function de(e,t,n){const i=!Array.isArray(e),r=i?[e]:e,s=t.length<2;return{subscribe:fe(n,(e=>{let n=!1;const o=[];let l=0,c=a;const f=()=>{if(l)return;c();const n=t(i?o[0]:o,e);s?e(n):c=h(n)?n:a},p=r.map(((e,t)=>d(e,(e=>{o[t]=e,l&=~(1<<t),n&&f()}),(()=>{l|=1<<t}))));return n=!0,f(),function(){u(p),c()}})).subscribe}}var pe=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Oe}(e)}(e)};var Oe="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ge(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Qe((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function me(e,t,n){return e.concat(t).map((function(e){return ge(e,n)}))}function ye(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function ve(e,t){try{return t in e}catch(e){return!1}}function be(e,t,n){var i={};return n.isMergeableObject(e)&&ye(e).forEach((function(t){i[t]=ge(e[t],n)})),ye(t).forEach((function(r){(function(e,t){return ve(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(ve(e,r)&&n.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return Qe;var n=t.customMerge(e);return"function"==typeof n?n:Qe}(r,n)(e[r],t[r],n):i[r]=ge(t[r],n))})),i}function Qe(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||me,n.isMergeableObject=n.isMergeableObject||pe,n.cloneUnlessOtherwiseSpecified=ge;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):be(e,t,n):ge(t,n)}Qe.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Qe(e,n,t)}),{})};var xe=Qe,we=function(e,t){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}we(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ke,Se,De=function(){return(De=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Pe(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}function Ae(e){return e.type===ke.literal}function Ce(e){return e.type===ke.argument}function Te(e){return e.type===ke.number}function We(e){return e.type===ke.date}function Re(e){return e.type===ke.time}function _e(e){return e.type===ke.select}function Ee(e){return e.type===ke.plural}function Xe(e){return e.type===ke.pound}function Fe(e){return e.type===ke.tag}function ze(e){return!(!e||"object"!=typeof e||e.type!==Se.number)}function Ye(e){return!(!e||"object"!=typeof e||e.type!==Se.dateTime)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(ke||(ke={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Se||(Se={}));var Le=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;var Ze=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,qe=/^(@+)?(\+|#+)?$/g,Be=/(\*)(0+)|(#+)(0+)|(0+)/g,Me=/^(0+)$/;function je(e){var t={};return e.replace(qe,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function Ve(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Ie(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!Me.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Ue(e){var t=Ve(e);return t||{}}function Ne(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=De(De(De({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return De(De({},e),Ue(t))}),{}));continue;case"engineering":t=De(De(De({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return De(De({},e),Ue(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace(Be,(function(e,n,i,r,s,o){if(n)t.minimumIntegerDigits=i.length;else{if(r&&s)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Me.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(Ze.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(Ze,(function(e,n,i,r,s,o){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:s&&o?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+o.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),r.options.length&&(t=De(De({},t),je(r.options[0])))}else if(qe.test(r.stem))t=De(De({},t),je(r.stem));else{var s=Ve(r.stem);s&&(t=De(De({},t),s));var o=Ie(r.stem);o&&(t=De(De({},t),o))}}return t}var Ge=function(e){function t(n,i,r,s){var o=e.call(this)||this;return o.message=n,o.expected=i,o.found=r,o.location=s,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return $e(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function r(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function s(e){switch(e.type){case"literal":return'"'+i(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?r(e[0])+"-"+r(e[1]):r(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,i=e.map(s);if(i.sort(),i.length>0){for(t=1,n=1;t<i.length;t++)i[t-1]!==i[t]&&(i[n]=i[t],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+(((o=t)?'"'+i(o)+'"':"end of input")+" found.");var o},t}(Error);var He=function(e,t){t=void 0!==t?t:{};var n,i={},r={start:je},s=je,o="<",a=ze("<",!1),l=function(e){return e.join("")},c=ze("#",!1),u=Ze("tagElement"),h=ze("/>",!1),f=ze(">",!1),d=ze("</",!1),p=Ze("argumentElement"),O="{",g=ze("{",!1),m="}",y=ze("}",!1),v=Ze("numberSkeletonId"),b=/^['\/{}]/,Q=Ye(["'","/","{","}"],!1,!1),x={type:"any"},w=Ze("numberSkeletonTokenOption"),$=ze("/",!1),k=Ze("numberSkeletonToken"),S="::",D=ze("::",!1),P=function(e){return vt.pop(),e.replace(/\s*$/,"")},A=",",C=ze(",",!1),T="number",W=ze("number",!1),R=function(e,t,n){return De({type:"number"===t?ke.number:"date"===t?ke.date:ke.time,style:n&&n[2],value:e},Qt())},_="'",E=ze("'",!1),X=/^[^']/,F=Ye(["'"],!0,!1),z=/^[^a-zA-Z'{}]/,Y=Ye([["a","z"],["A","Z"],"'","{","}"],!0,!1),L=/^[a-zA-Z]/,Z=Ye([["a","z"],["A","Z"]],!1,!1),q="date",B=ze("date",!1),M="time",j=ze("time",!1),V="plural",I=ze("plural",!1),U="selectordinal",N=ze("selectordinal",!1),G="offset:",H=ze("offset:",!1),K="select",J=ze("select",!1),ee=ze("=",!1),te=Ze("whitespace"),ne=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ie=Ye([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),re=Ze("syntax pattern"),se=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,oe=Ye([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),ae=Ze("optional whitespace"),le=Ze("number"),ce="-",ue=ze("-",!1),he=Ze("double apostrophes"),fe="''",de=ze("''",!1),pe=function(e){return!("<"===e||"{"===e||bt()&&"#"===e||vt.length>1&&"}"===e)},Oe=ze("\n",!1),ge=Ze("argNameOrNumber"),me=Ze("validTag"),ye=Ze("argNumber"),ve=ze("0",!1),be=/^[1-9]/,Qe=Ye([["1","9"]],!1,!1),xe=/^[0-9]/,we=Ye([["0","9"]],!1,!1),$e=Ze("argName"),Pe=Ze("tagName"),Ae=0,Ce=0,Te=[{line:1,column:1}],We=0,Re=[],_e=0;if(void 0!==t.startRule){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=r[t.startRule]}function Ee(){return e.substring(Ce,Ae)}function Xe(){return Be(Ce,Ae)}function Fe(e,t){throw function(e,t){return new Ge(e,[],"",t)}(e,t=void 0!==t?t:Be(Ce,Ae))}function ze(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ye(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Ze(e){return{type:"other",description:e}}function qe(t){var n,i=Te[t];if(i)return i;for(n=t-1;!Te[n];)n--;for(i={line:(i=Te[n]).line,column:i.column};n<t;)10===e.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return Te[t]=i,i}function Be(e,t){var n=qe(e),i=qe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function Me(e){Ae<We||(Ae>We&&(We=Ae,Re=[]),Re.push(e))}function je(){return Ve()}function Ve(){var e,t;for(e=[],t=Ie();t!==i;)e.push(t),t=Ie();return e}function Ie(){var t,n;return t=Ae,Ce=Ae,(!kt?void 0:i)!==i&&(n=function(){var e,t,n,r;_e++,(e=Ke())===i&&(e=Ae,(t=Je())!==i&&(n=Ve())!==i&&(r=et())!==i?(Ce=e,e=t=function(e,t,n){return e!==n&&Fe('Mismatch tag "'+e+'" !== "'+n+'"',Xe()),De({type:ke.tag,value:e,children:t},Qt())}(t,n,r)):(Ae=e,e=i));_e--,e===i&&(t=i,0===_e&&Me(u));return e}())!==i?(Ce=t,t=n):(Ae=t,t=i),t===i&&(t=function(){var e,t;e=Ae,(t=Ue())!==i&&(Ce=e,n=t,t=De({type:ke.literal,value:n},Qt()));var n;return e=t}())===i&&(t=function(){var t,n,r,s;_e++,t=Ae,123===e.charCodeAt(Ae)?(n=O,Ae++):(n=i,0===_e&&Me(g));n!==i&&ut()!==i&&(r=Ot())!==i&&ut()!==i?(125===e.charCodeAt(Ae)?(s=m,Ae++):(s=i,0===_e&&Me(y)),s!==i?(Ce=t,o=r,t=n=De({type:ke.argument,value:o},Qt())):(Ae=t,t=i)):(Ae=t,t=i);var o;_e--,t===i&&(n=i,0===_e&&Me(p));return t}())===i&&(t=function(){var t;(t=function(){var t,n,r,s,o,a,l,c,u;t=Ae,123===e.charCodeAt(Ae)?(n=O,Ae++):(n=i,0===_e&&Me(g));n!==i&&ut()!==i&&(r=Ot())!==i&&ut()!==i?(44===e.charCodeAt(Ae)?(s=A,Ae++):(s=i,0===_e&&Me(C)),s!==i&&ut()!==i?(e.substr(Ae,6)===T?(o=T,Ae+=6):(o=i,0===_e&&Me(W)),o!==i&&ut()!==i?(a=Ae,44===e.charCodeAt(Ae)?(l=A,Ae++):(l=i,0===_e&&Me(C)),l!==i&&(c=ut())!==i&&(u=function(){var t,n,r;t=Ae,e.substr(Ae,2)===S?(n=S,Ae+=2):(n=i,0===_e&&Me(D));n!==i&&(r=function(){var e,t,n;if(e=Ae,t=[],(n=it())!==i)for(;n!==i;)t.push(n),n=it();else t=i;t!==i&&(Ce=e,r=t,t=De({type:Se.number,tokens:r,parsedOptions:St?Ne(r):{}},Qt()));var r;return e=t}())!==i?(Ce=t,t=n=r):(Ae=t,t=i);t===i&&(t=Ae,Ce=Ae,vt.push("numberArgStyle"),(n=(n=!0)?void 0:i)!==i&&(r=Ue())!==i?(Ce=t,t=n=P(r)):(Ae=t,t=i));return t}())!==i?a=l=[l,c,u]:(Ae=a,a=i),a===i&&(a=null),a!==i&&(l=ut())!==i?(125===e.charCodeAt(Ae)?(c=m,Ae++):(c=i,0===_e&&Me(y)),c!==i?(Ce=t,t=n=R(r,o,a)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i);return t}())===i&&(t=function(){var t,n,r,s,o,a,l,c,u;t=Ae,123===e.charCodeAt(Ae)?(n=O,Ae++):(n=i,0===_e&&Me(g));n!==i&&ut()!==i&&(r=Ot())!==i&&ut()!==i?(44===e.charCodeAt(Ae)?(s=A,Ae++):(s=i,0===_e&&Me(C)),s!==i&&ut()!==i?(e.substr(Ae,4)===q?(o=q,Ae+=4):(o=i,0===_e&&Me(B)),o===i&&(e.substr(Ae,4)===M?(o=M,Ae+=4):(o=i,0===_e&&Me(j))),o!==i&&ut()!==i?(a=Ae,44===e.charCodeAt(Ae)?(l=A,Ae++):(l=i,0===_e&&Me(C)),l!==i&&(c=ut())!==i&&(u=function(){var t,n,r;t=Ae,e.substr(Ae,2)===S?(n=S,Ae+=2):(n=i,0===_e&&Me(D));n!==i&&(r=function(){var t,n,r,s;t=Ae,n=Ae,r=[],(s=rt())===i&&(s=st());if(s!==i)for(;s!==i;)r.push(s),(s=rt())===i&&(s=st());else r=i;n=r!==i?e.substring(n,Ae):r;n!==i&&(Ce=t,o=n,n=De({type:Se.dateTime,pattern:o,parsedOptions:St?(a=o,l={},a.replace(Le,(function(e){var t=e.length;switch(e[0]){case"G":l.era=4===t?"long":5===t?"narrow":"short";break;case"y":l.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":l.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":l.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":l.weekday=4===t?"short":5===t?"narrow":"short";break;case"e":if(t<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");l.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");l.weekday=["short","long","narrow","short"][t-4];break;case"a":l.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":l.hourCycle="h12",l.hour=["numeric","2-digit"][t-1];break;case"H":l.hourCycle="h23",l.hour=["numeric","2-digit"][t-1];break;case"K":l.hourCycle="h11",l.hour=["numeric","2-digit"][t-1];break;case"k":l.hourCycle="h24",l.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":l.minute=["numeric","2-digit"][t-1];break;case"s":l.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":l.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),l):{}},Qt()));var o,a,l;return t=n}())!==i?(Ce=t,t=n=r):(Ae=t,t=i);t===i&&(t=Ae,Ce=Ae,vt.push("dateOrTimeArgStyle"),(n=(n=!0)?void 0:i)!==i&&(r=Ue())!==i?(Ce=t,t=n=P(r)):(Ae=t,t=i));return t}())!==i?a=l=[l,c,u]:(Ae=a,a=i),a===i&&(a=null),a!==i&&(l=ut())!==i?(125===e.charCodeAt(Ae)?(c=m,Ae++):(c=i,0===_e&&Me(y)),c!==i?(Ce=t,t=n=R(r,o,a)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i);return t}());return t}())===i&&(t=function(){var t,n,r,s,o,a,l,c,u,h,f;t=Ae,123===e.charCodeAt(Ae)?(n=O,Ae++):(n=i,0===_e&&Me(g));if(n!==i)if(ut()!==i)if((r=Ot())!==i)if(ut()!==i)if(44===e.charCodeAt(Ae)?(s=A,Ae++):(s=i,0===_e&&Me(C)),s!==i)if(ut()!==i)if(e.substr(Ae,6)===V?(o=V,Ae+=6):(o=i,0===_e&&Me(I)),o===i&&(e.substr(Ae,13)===U?(o=U,Ae+=13):(o=i,0===_e&&Me(N))),o!==i)if(ut()!==i)if(44===e.charCodeAt(Ae)?(a=A,Ae++):(a=i,0===_e&&Me(C)),a!==i)if(ut()!==i)if(l=Ae,e.substr(Ae,7)===G?(c=G,Ae+=7):(c=i,0===_e&&Me(H)),c!==i&&(u=ut())!==i&&(h=ht())!==i?l=c=[c,u,h]:(Ae=l,l=i),l===i&&(l=null),l!==i)if((c=ut())!==i){if(u=[],(h=at())!==i)for(;h!==i;)u.push(h),h=at();else u=i;u!==i&&(h=ut())!==i?(125===e.charCodeAt(Ae)?(f=m,Ae++):(f=i,0===_e&&Me(y)),f!==i?(Ce=t,t=n=function(e,t,n,i){return De({type:ke.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:i.reduce((function(e,t){var n=t.id,i=t.value,r=t.location;return n in e&&Fe('Duplicate option "'+n+'" in plural element: "'+Ee()+'"',Xe()),e[n]={value:i,location:r},e}),{})},Qt())}(r,o,l,u)):(Ae=t,t=i)):(Ae=t,t=i)}else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;return t}())===i&&(t=function(){var t,n,r,s,o,a,l,c,u;t=Ae,123===e.charCodeAt(Ae)?(n=O,Ae++):(n=i,0===_e&&Me(g));if(n!==i)if(ut()!==i)if((r=Ot())!==i)if(ut()!==i)if(44===e.charCodeAt(Ae)?(s=A,Ae++):(s=i,0===_e&&Me(C)),s!==i)if(ut()!==i)if(e.substr(Ae,6)===K?(o=K,Ae+=6):(o=i,0===_e&&Me(J)),o!==i)if(ut()!==i)if(44===e.charCodeAt(Ae)?(a=A,Ae++):(a=i,0===_e&&Me(C)),a!==i)if(ut()!==i){if(l=[],(c=ot())!==i)for(;c!==i;)l.push(c),c=ot();else l=i;l!==i&&(c=ut())!==i?(125===e.charCodeAt(Ae)?(u=m,Ae++):(u=i,0===_e&&Me(y)),u!==i?(Ce=t,t=n=function(e,t){return De({type:ke.select,value:e,options:t.reduce((function(e,t){var n=t.id,i=t.value,r=t.location;return n in e&&Fe('Duplicate option "'+n+'" in select element: "'+Ee()+'"',Xe()),e[n]={value:i,location:r},e}),{})},Qt())}(r,l)):(Ae=t,t=i)):(Ae=t,t=i)}else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;else Ae=t,t=i;return t}())===i&&(t=function(){var t,n;t=Ae,35===e.charCodeAt(Ae)?(n="#",Ae++):(n=i,0===_e&&Me(c));n!==i&&(Ce=t,n=De({type:ke.pound},Qt()));return t=n}()),t}function Ue(){var t,n,r,s;if(t=Ae,Ce=Ae,(n=(n=kt)?void 0:i)!==i){if(r=[],(s=ft())===i&&(s=dt())===i&&(s=pt())===i&&(60===e.charCodeAt(Ae)?(s=o,Ae++):(s=i,0===_e&&Me(a))),s!==i)for(;s!==i;)r.push(s),(s=ft())===i&&(s=dt())===i&&(s=pt())===i&&(60===e.charCodeAt(Ae)?(s=o,Ae++):(s=i,0===_e&&Me(a)));else r=i;r!==i?(Ce=t,t=n=l(r)):(Ae=t,t=i)}else Ae=t,t=i;if(t===i){if(t=Ae,n=[],(r=ft())===i&&(r=dt())===i&&(r=pt())===i&&(r=He()),r!==i)for(;r!==i;)n.push(r),(r=ft())===i&&(r=dt())===i&&(r=pt())===i&&(r=He());else n=i;n!==i&&(Ce=t,n=l(n)),t=n}return t}function He(){var t,n,r;return t=Ae,n=Ae,_e++,(r=Je())===i&&(r=et())===i&&(r=Ke()),_e--,r===i?n=void 0:(Ae=n,n=i),n!==i?(60===e.charCodeAt(Ae)?(r=o,Ae++):(r=i,0===_e&&Me(a)),r!==i?(Ce=t,t=n="<"):(Ae=t,t=i)):(Ae=t,t=i),t}function Ke(){var t,n,r,s,l,c,u;return t=Ae,n=Ae,60===e.charCodeAt(Ae)?(r=o,Ae++):(r=i,0===_e&&Me(a)),r!==i&&(s=gt())!==i&&(l=ut())!==i?("/>"===e.substr(Ae,2)?(c="/>",Ae+=2):(c=i,0===_e&&Me(h)),c!==i?n=r=[r,s,l,c]:(Ae=n,n=i)):(Ae=n,n=i),n!==i&&(Ce=t,u=n,n=De({type:ke.literal,value:u.join("")},Qt())),t=n}function Je(){var t,n,r,s;return t=Ae,60===e.charCodeAt(Ae)?(n=o,Ae++):(n=i,0===_e&&Me(a)),n!==i&&(r=gt())!==i?(62===e.charCodeAt(Ae)?(s=">",Ae++):(s=i,0===_e&&Me(f)),s!==i?(Ce=t,t=n=r):(Ae=t,t=i)):(Ae=t,t=i),t}function et(){var t,n,r,s;return t=Ae,"</"===e.substr(Ae,2)?(n="</",Ae+=2):(n=i,0===_e&&Me(d)),n!==i&&(r=gt())!==i?(62===e.charCodeAt(Ae)?(s=">",Ae++):(s=i,0===_e&&Me(f)),s!==i?(Ce=t,t=n=r):(Ae=t,t=i)):(Ae=t,t=i),t}function tt(){var t,n,r,s,o;if(_e++,t=Ae,n=[],r=Ae,s=Ae,_e++,(o=lt())===i&&(b.test(e.charAt(Ae))?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(Q))),_e--,o===i?s=void 0:(Ae=s,s=i),s!==i?(e.length>Ae?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(x)),o!==i?r=s=[s,o]:(Ae=r,r=i)):(Ae=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Ae,s=Ae,_e++,(o=lt())===i&&(b.test(e.charAt(Ae))?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(Q))),_e--,o===i?s=void 0:(Ae=s,s=i),s!==i?(e.length>Ae?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(x)),o!==i?r=s=[s,o]:(Ae=r,r=i)):(Ae=r,r=i);else n=i;return t=n!==i?e.substring(t,Ae):n,_e--,t===i&&(n=i,0===_e&&Me(v)),t}function nt(){var t,n,r;return _e++,t=Ae,47===e.charCodeAt(Ae)?(n="/",Ae++):(n=i,0===_e&&Me($)),n!==i&&(r=tt())!==i?(Ce=t,t=n=r):(Ae=t,t=i),_e--,t===i&&(n=i,0===_e&&Me(w)),t}function it(){var e,t,n,r;if(_e++,e=Ae,ut()!==i)if((t=tt())!==i){for(n=[],r=nt();r!==i;)n.push(r),r=nt();n!==i?(Ce=e,e=function(e,t){return{stem:e,options:t}}(t,n)):(Ae=e,e=i)}else Ae=e,e=i;else Ae=e,e=i;return _e--,e===i&&(i,0===_e&&Me(k)),e}function rt(){var t,n,r,s;if(t=Ae,39===e.charCodeAt(Ae)?(n=_,Ae++):(n=i,0===_e&&Me(E)),n!==i){if(r=[],(s=ft())===i&&(X.test(e.charAt(Ae))?(s=e.charAt(Ae),Ae++):(s=i,0===_e&&Me(F))),s!==i)for(;s!==i;)r.push(s),(s=ft())===i&&(X.test(e.charAt(Ae))?(s=e.charAt(Ae),Ae++):(s=i,0===_e&&Me(F)));else r=i;r!==i?(39===e.charCodeAt(Ae)?(s=_,Ae++):(s=i,0===_e&&Me(E)),s!==i?t=n=[n,r,s]:(Ae=t,t=i)):(Ae=t,t=i)}else Ae=t,t=i;if(t===i)if(t=[],(n=ft())===i&&(z.test(e.charAt(Ae))?(n=e.charAt(Ae),Ae++):(n=i,0===_e&&Me(Y))),n!==i)for(;n!==i;)t.push(n),(n=ft())===i&&(z.test(e.charAt(Ae))?(n=e.charAt(Ae),Ae++):(n=i,0===_e&&Me(Y)));else t=i;return t}function st(){var t,n;if(t=[],L.test(e.charAt(Ae))?(n=e.charAt(Ae),Ae++):(n=i,0===_e&&Me(Z)),n!==i)for(;n!==i;)t.push(n),L.test(e.charAt(Ae))?(n=e.charAt(Ae),Ae++):(n=i,0===_e&&Me(Z));else t=i;return t}function ot(){var t,n,r,s,o;return t=Ae,ut()!==i&&(n=yt())!==i&&ut()!==i?(123===e.charCodeAt(Ae)?(r=O,Ae++):(r=i,0===_e&&Me(g)),r!==i?(Ce=Ae,vt.push("select"),(!0?void 0:i)!==i&&(s=Ve())!==i?(125===e.charCodeAt(Ae)?(o=m,Ae++):(o=i,0===_e&&Me(y)),o!==i?(Ce=t,t=function(e,t){return vt.pop(),De({id:e,value:t},Qt())}(n,s)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i),t}function at(){var t,n,r,s,o;return t=Ae,ut()!==i&&(n=function(){var t,n,r,s;return t=Ae,n=Ae,61===e.charCodeAt(Ae)?(r="=",Ae++):(r=i,0===_e&&Me(ee)),r!==i&&(s=ht())!==i?n=r=[r,s]:(Ae=n,n=i),(t=n!==i?e.substring(t,Ae):n)===i&&(t=yt()),t}())!==i&&ut()!==i?(123===e.charCodeAt(Ae)?(r=O,Ae++):(r=i,0===_e&&Me(g)),r!==i?(Ce=Ae,vt.push("plural"),(!0?void 0:i)!==i&&(s=Ve())!==i?(125===e.charCodeAt(Ae)?(o=m,Ae++):(o=i,0===_e&&Me(y)),o!==i?(Ce=t,t=function(e,t){return vt.pop(),De({id:e,value:t},Qt())}(n,s)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i)):(Ae=t,t=i),t}function lt(){var t;return _e++,ne.test(e.charAt(Ae))?(t=e.charAt(Ae),Ae++):(t=i,0===_e&&Me(ie)),_e--,t===i&&0===_e&&Me(te),t}function ct(){var t;return _e++,se.test(e.charAt(Ae))?(t=e.charAt(Ae),Ae++):(t=i,0===_e&&Me(oe)),_e--,t===i&&0===_e&&Me(re),t}function ut(){var t,n,r;for(_e++,t=Ae,n=[],r=lt();r!==i;)n.push(r),r=lt();return t=n!==i?e.substring(t,Ae):n,_e--,t===i&&(n=i,0===_e&&Me(ae)),t}function ht(){var t,n,r,s,o;return _e++,t=Ae,45===e.charCodeAt(Ae)?(n="-",Ae++):(n=i,0===_e&&Me(ue)),n===i&&(n=null),n!==i&&(r=mt())!==i?(Ce=t,s=n,t=n=(o=r)?s?-o:o:0):(Ae=t,t=i),_e--,t===i&&(n=i,0===_e&&Me(le)),t}function ft(){var t,n;return _e++,t=Ae,e.substr(Ae,2)===fe?(n=fe,Ae+=2):(n=i,0===_e&&Me(de)),n!==i&&(Ce=t,n="'"),_e--,(t=n)===i&&(n=i,0===_e&&Me(he)),t}function dt(){var t,n,r,s,o,a;if(t=Ae,39===e.charCodeAt(Ae)?(n=_,Ae++):(n=i,0===_e&&Me(E)),n!==i)if((r=function(){var t,n,r,s;t=Ae,n=Ae,e.length>Ae?(r=e.charAt(Ae),Ae++):(r=i,0===_e&&Me(x));r!==i?(Ce=Ae,(s=(s=function(e){return"<"===e||">"===e||"{"===e||"}"===e||bt()&&"#"===e}(r))?void 0:i)!==i?n=r=[r,s]:(Ae=n,n=i)):(Ae=n,n=i);t=n!==i?e.substring(t,Ae):n;return t}())!==i){for(s=Ae,o=[],e.substr(Ae,2)===fe?(a=fe,Ae+=2):(a=i,0===_e&&Me(de)),a===i&&(X.test(e.charAt(Ae))?(a=e.charAt(Ae),Ae++):(a=i,0===_e&&Me(F)));a!==i;)o.push(a),e.substr(Ae,2)===fe?(a=fe,Ae+=2):(a=i,0===_e&&Me(de)),a===i&&(X.test(e.charAt(Ae))?(a=e.charAt(Ae),Ae++):(a=i,0===_e&&Me(F)));(s=o!==i?e.substring(s,Ae):o)!==i?(39===e.charCodeAt(Ae)?(o=_,Ae++):(o=i,0===_e&&Me(E)),o===i&&(o=null),o!==i?(Ce=t,t=n=r+s.replace("''","'")):(Ae=t,t=i)):(Ae=t,t=i)}else Ae=t,t=i;else Ae=t,t=i;return t}function pt(){var t,n,r,s;return t=Ae,n=Ae,e.length>Ae?(r=e.charAt(Ae),Ae++):(r=i,0===_e&&Me(x)),r!==i?(Ce=Ae,(s=(s=pe(r))?void 0:i)!==i?n=r=[r,s]:(Ae=n,n=i)):(Ae=n,n=i),n===i&&(10===e.charCodeAt(Ae)?(n="\n",Ae++):(n=i,0===_e&&Me(Oe))),t=n!==i?e.substring(t,Ae):n}function Ot(){var t,n;return _e++,t=Ae,(n=mt())===i&&(n=yt()),t=n!==i?e.substring(t,Ae):n,_e--,t===i&&(n=i,0===_e&&Me(ge)),t}function gt(){var t,n;return _e++,t=Ae,(n=mt())===i&&(n=function(){var t,n,r,s,o;_e++,t=Ae,n=[],45===e.charCodeAt(Ae)?(r=ce,Ae++):(r=i,0===_e&&Me(ue));r===i&&(r=Ae,s=Ae,_e++,(o=lt())===i&&(o=ct()),_e--,o===i?s=void 0:(Ae=s,s=i),s!==i?(e.length>Ae?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(x)),o!==i?r=s=[s,o]:(Ae=r,r=i)):(Ae=r,r=i));if(r!==i)for(;r!==i;)n.push(r),45===e.charCodeAt(Ae)?(r=ce,Ae++):(r=i,0===_e&&Me(ue)),r===i&&(r=Ae,s=Ae,_e++,(o=lt())===i&&(o=ct()),_e--,o===i?s=void 0:(Ae=s,s=i),s!==i?(e.length>Ae?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(x)),o!==i?r=s=[s,o]:(Ae=r,r=i)):(Ae=r,r=i));else n=i;t=n!==i?e.substring(t,Ae):n;_e--,t===i&&(n=i,0===_e&&Me(Pe));return t}()),t=n!==i?e.substring(t,Ae):n,_e--,t===i&&(n=i,0===_e&&Me(me)),t}function mt(){var t,n,r,s,o;if(_e++,t=Ae,48===e.charCodeAt(Ae)?(n="0",Ae++):(n=i,0===_e&&Me(ve)),n!==i&&(Ce=t,n=0),(t=n)===i){if(t=Ae,n=Ae,be.test(e.charAt(Ae))?(r=e.charAt(Ae),Ae++):(r=i,0===_e&&Me(Qe)),r!==i){for(s=[],xe.test(e.charAt(Ae))?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(we));o!==i;)s.push(o),xe.test(e.charAt(Ae))?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(we));s!==i?n=r=[r,s]:(Ae=n,n=i)}else Ae=n,n=i;n!==i&&(Ce=t,n=parseInt(n.join(""),10)),t=n}return _e--,t===i&&(n=i,0===_e&&Me(ye)),t}function yt(){var t,n,r,s,o;if(_e++,t=Ae,n=[],r=Ae,s=Ae,_e++,(o=lt())===i&&(o=ct()),_e--,o===i?s=void 0:(Ae=s,s=i),s!==i?(e.length>Ae?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(x)),o!==i?r=s=[s,o]:(Ae=r,r=i)):(Ae=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Ae,s=Ae,_e++,(o=lt())===i&&(o=ct()),_e--,o===i?s=void 0:(Ae=s,s=i),s!==i?(e.length>Ae?(o=e.charAt(Ae),Ae++):(o=i,0===_e&&Me(x)),o!==i?r=s=[s,o]:(Ae=r,r=i)):(Ae=r,r=i);else n=i;return t=n!==i?e.substring(t,Ae):n,_e--,t===i&&(n=i,0===_e&&Me($e)),t}var vt=["root"];function bt(){return"plural"===vt[vt.length-1]}function Qt(){return t&&t.captureLocation?{location:Xe()}:{}}var xt,wt,$t,kt=t&&t.ignoreTag,St=t&&t.shouldParseSkeleton;if((n=s())!==i&&Ae===e.length)return n;throw n!==i&&Ae<e.length&&Me({type:"end"}),xt=Re,wt=We<e.length?e.charAt(We):null,$t=We<e.length?Be(We,We+1):Be(We,We),new Ge(Ge.buildMessage(xt,wt),xt,wt,$t)},Ke=/(^|[^\\])#/g;function Je(e){e.forEach((function(e){(Ee(e)||_e(e))&&Object.keys(e.options).forEach((function(t){for(var n,i=e.options[t],r=-1,s=void 0,o=0;o<i.value.length;o++){var a=i.value[o];if(Ae(a)&&Ke.test(a.value)){r=o,s=a;break}}if(s){var l=s.value.replace(Ke,"$1{"+e.value+", number}"),c=He(l);(n=i.value).splice.apply(n,Pe([r,1],c))}Je(i.value)}))}))}function et(e,t){t=De({normalizeHashtagInPlural:!0,shouldParseSkeleton:!0},t||{});var n=He(e,t);return t.normalizeHashtagInPlural&&Je(n),n}function tt(e,t,n,i){var r,s=null==(r=i)||"number"==typeof r||"boolean"==typeof r?i:n(i),o=t.get(s);return void 0===o&&(o=e.call(this,i),t.set(s,o)),o}function nt(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),s=t.get(r);return void 0===s&&(s=e.apply(this,i),t.set(r,s)),s}function it(e,t,n,i,r){return n.bind(t,e,i,r)}function rt(e,t){return it(e,this,1===e.length?tt:nt,t.cache.create(),t.serializer)}function st(){return JSON.stringify(arguments)}function ot(){this.cache=Object.create(null)}ot.prototype.has=function(e){return e in this.cache},ot.prototype.get=function(e){return this.cache[e]},ot.prototype.set=function(e,t){this.cache[e]=t};var at={create:function(){return new ot}},lt=function(e,t){var n=t&&t.cache?t.cache:at,i=t&&t.serializer?t.serializer:st;return(t&&t.strategy?t.strategy:rt)(e,{cache:n,serializer:i})},ct={variadic:function(e,t){return it(e,this,nt,t.cache.create(),t.serializer)},monadic:function(e,t){return it(e,this,tt,t.cache.create(),t.serializer)}};lt.strategies=ct;var ut,ht=Object.freeze(Object.assign(Object.create(null),lt,{default:lt,strategies:ct}));!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(ut||(ut={}));var ft,dt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return $e(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),pt=function(e){function t(t,n,i,r){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(i).join('", "')+'"',ut.INVALID_VALUE,r)||this}return $e(t,e),t}(dt),Ot=function(e){function t(t,n,i){return e.call(this,'Value for "'+t+'" must be of type '+n,ut.INVALID_VALUE,i)||this}return $e(t,e),t}(dt),gt=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',ut.MISSING_VALUE,n)||this}return $e(t,e),t}(dt);function mt(e){return"function"==typeof e}function yt(e,t,n,i,r,s,o){if(1===e.length&&Ae(e[0]))return[{type:ft.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var u=c[l];if(Ae(u))a.push({type:ft.literal,value:u.value});else if(Xe(u))"number"==typeof s&&a.push({type:ft.literal,value:n.getNumberFormat(t).format(s)});else{var h=u.value;if(!r||!(h in r))throw new gt(h,o);var f=r[h];if(Ce(u))f&&"string"!=typeof f&&"number"!=typeof f||(f="string"==typeof f||"number"==typeof f?String(f):""),a.push({type:"string"==typeof f?ft.literal:ft.object,value:f});else if(We(u)){var d="string"==typeof u.style?i.date[u.style]:Ye(u.style)?u.style.parsedOptions:void 0;a.push({type:ft.literal,value:n.getDateTimeFormat(t,d).format(f)})}else if(Re(u)){d="string"==typeof u.style?i.time[u.style]:Ye(u.style)?u.style.parsedOptions:void 0;a.push({type:ft.literal,value:n.getDateTimeFormat(t,d).format(f)})}else if(Te(u)){(d="string"==typeof u.style?i.number[u.style]:ze(u.style)?u.style.parsedOptions:void 0)&&d.scale&&(f*=d.scale||1),a.push({type:ft.literal,value:n.getNumberFormat(t,d).format(f)})}else{if(Fe(u)){var p=u.children,O=u.value,g=r[O];if(!mt(g))throw new Ot(O,"function",o);var m=g(yt(p,t,n,i,r,s).map((function(e){return e.value})));Array.isArray(m)||(m=[m]),a.push.apply(a,m.map((function(e){return{type:"string"==typeof e?ft.literal:ft.object,value:e}})))}if(_e(u)){if(!(y=u.options[f]||u.options.other))throw new pt(u.value,f,Object.keys(u.options),o);a.push.apply(a,yt(y.value,t,n,i,r))}else if(Ee(u)){var y;if(!(y=u.options["="+f])){if(!Intl.PluralRules)throw new dt('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ut.MISSING_INTL_API,o);var v=n.getPluralRules(t,{type:u.pluralType}).select(f-(u.offset||0));y=u.options[v]||u.options.other}if(!y)throw new pt(u.value,f,Object.keys(u.options),o);a.push.apply(a,yt(y.value,t,n,i,r,f-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===ft.literal&&t.type===ft.literal?n.value+=t.value:e.push(t),e}),[])}(a)}function vt(e,t){return t?Object.keys(e).reduce((function(n,i){var r,s;return n[i]=(r=e[i],(s=t[i])?De(De(De({},r||{}),s||{}),Object.keys(r).reduce((function(e,t){return e[t]=De(De({},r[t]),s[t]||{}),e}),{})):r),n}),De({},e)):e}function bt(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(ft||(ft={}));var Qt=lt||ht;var xt=function(){function e(t,n,i,r){var s,o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===ft.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return yt(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1,ignoreTag:null==r?void 0:r.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=vt(e.formats,i),this.locales=n,this.formatters=r&&r.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Qt((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Pe([void 0],t)))}),{cache:bt(s.number),strategy:Qt.strategies.variadic}),getDateTimeFormat:Qt((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Pe([void 0],t)))}),{cache:bt(s.dateTime),strategy:Qt.strategies.variadic}),getPluralRules:Qt((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Pe([void 0],t)))}),{cache:bt(s.pluralRules),strategy:Qt.strategies.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=et,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const wt={},$t=(e,t)=>{if(null==t)return;return function(e,t){if(!Pt(e))return null;return function(e,t){if(t in e)return e[t];const n=t.split(".");let i=e;for(let e=0;e<n.length;e++)if("object"==typeof i){if(e>0){const t=n.slice(e,n.length).join(".");if(t in i){i=i[t];break}}i=i[n[e]]}else i=void 0;return i}(function(e){return St[e]||null}(e),t)}(t,e)||$t(e,Mt(t))},kt=(e,t)=>{if(t in wt&&e in wt[t])return wt[t][e];const n=$t(e,t);return n?((e,t,n)=>n?(t in wt||(wt[t]={}),e in wt[t]||(wt[t][e]=n),n):n)(e,t,n):void 0};let St;const Dt=fe({});function Pt(e){return e in St}function At(e){return null==e||Pt(e)?e:At(Mt(e))}function Ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];delete wt[e],Dt.update((t=>(t[e]=xe.all([t[e]||{},...n]),t)))}de([Dt],(e=>{let t=i(e,1)[0];return Object.keys(t)})),Dt.subscribe((e=>St=e));const Tt={};function Wt(e){return Tt[e]}function Rt(e){return jt(e).reverse().some((e=>{var t;return null===(t=Wt(e))||void 0===t?void 0:t.size}))}const _t={};function Et(e){if(!Rt(e))return e in _t?_t[e]:void 0;const t=function(e){return jt(e).reverse().map((e=>{const t=Wt(e);return[e,t?[...t]:[]]})).filter((e=>i(e,2)[1].length>0))}(e);return _t[e]=Promise.all(t.map((e=>{let t=i(e,2);return function(e,t){return Promise.all(t.map((t=>(function(e,t){Tt[e].delete(t),0===Tt[e].size&&delete Tt[e]}(e,t),t().then((e=>e.default||e)))))).then((t=>Ct(e,...t)))}(t[0],t[1])}))).then((()=>{if(Rt(e))return Et(e);delete _t[e]})),_t[e]
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */}function Xt(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}const Ft={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function zt(){return Ft}const Yt=fe(!1);let Lt;const Zt=fe(null);function qt(e,t){return 0===t.indexOf(e)&&e!==t}function Bt(e,t){return e===t||qt(e,t)||qt(t,e)}function Mt(e){const t=e.lastIndexOf("-");if(t>0)return e.slice(0,t);const n=zt().fallbackLocale;return n&&!Bt(e,n)?n:null}function jt(e){const t=e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))),n=zt().fallbackLocale;return n&&!Bt(e,n)?t.concat(jt(n)):t}function Vt(){return Lt}Zt.subscribe((e=>{Lt=e,"undefined"!=typeof window&&document.documentElement.setAttribute("lang",e)}));const It=Zt.set;Zt.set=e=>{if(At(e)&&Rt(e)){const t=zt().loadingDelay;let n;return"undefined"!=typeof window&&null!=Vt()&&t?n=window.setTimeout((()=>Yt.set(!0)),t):Yt.set(!0),Et(e).then((()=>{It(e)})).finally((()=>{clearTimeout(n),Yt.set(!1)}))}return It(e)},Zt.update=e=>It(e(Lt));const Ut=e=>{const t=Object.create(null);return n=>{const i=JSON.stringify(n);return i in t?t[i]:t[i]=e(n)}},Nt=(e,t)=>{const n=zt().formats;if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},Gt=Ut((e=>{var t=e.locale,n=e.format,i=Xt(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(i=Nt("number",n)),new Intl.NumberFormat(t,i)})),Ht=Ut((e=>{var t=e.locale,n=e.format,i=Xt(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?i=Nt("date",n):0===Object.keys(i).length&&(i=Nt("date","short")),new Intl.DateTimeFormat(t,i)})),Kt=Ut((e=>{var t=e.locale,n=e.format,i=Xt(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?i=Nt("time",n):0===Object.keys(i).length&&(i=Nt("time","short")),new Intl.DateTimeFormat(t,i)})),Jt=Ut((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt();return new xt(e,t,zt().formats,{ignoreTag:zt().ignoreTag})})),en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"==typeof e&&(e=(t=e).id);const n=t,i=n.values,r=n.locale,s=void 0===r?Vt():r,o=n.default;if(null==s)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let a=kt(e,s);if(a){if("string"!=typeof a)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof a}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),a}else zt().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${jt(s).join('", "')}".${Rt(Vt())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),a=o||e;if(!i)return a;let l=a;try{l=Jt(a,s).format(i)}catch(t){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return l},tn=(e,t)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.locale,n=void 0===t?Vt():t,i=Xt(e,["locale"]);return Kt(Object.assign({locale:n},i))}(t).format(e),nn=(e,t)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.locale,n=void 0===t?Vt():t,i=Xt(e,["locale"]);return Ht(Object.assign({locale:n},i))}(t).format(e),rn=(e,t)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.locale,n=void 0===t?Vt():t,i=Xt(e,["locale"]);return Gt(Object.assign({locale:n},i))}(t).format(e),sn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt();return kt(e,t)},on=de([Zt,Dt],(()=>en));function an(e){let t,n,i,r,s,o,a;var l=e[0];function c(e){return{props:{params:e[2],callback:e[1]}}}return l&&(r=new l(c(e))),{c(){t=b("div"),n=x(),i=b("div"),r&&se(r.$$.fragment),S(t,"class","dialog-mask"),S(i,"class","dialog-container")},m(l,c){m(l,t,c),m(l,n,c),m(l,i,c),r&&oe(r,i,null),s=!0,o||(a=[$(t,"click",k(e[3])),$(i,"click",k(e[4]))],o=!0)},p(e,t){const n={};if(4&t&&(n.params=e[2]),2&t&&(n.callback=e[1]),l!==(l=e[0])){if(r){ee();const e=r;ie(e.$$.fragment,1,0,(()=>{ae(e,1)})),te()}l?(r=new l(c(e)),se(r.$$.fragment),ne(r.$$.fragment,1),oe(r,i,null)):r=null}else l&&r.$set(n)},i(e){s||(r&&ne(r.$$.fragment,e),s=!0)},o(e){r&&ie(r.$$.fragment,e),s=!1},d(e){e&&y(t),e&&y(n),e&&y(i),r&&ae(r),o=!1,u(a)}}}function ln(e){let t,n,r=e[0]&&an(e);return{c(){r&&r.c(),t=w()},m(e,i){r&&r.m(e,i),m(e,t,i),n=!0},p(e,n){let s=i(n,1)[0];e[0]?r?(r.p(e,s),1&s&&ne(r,1)):(r=an(e),r.c(),ne(r,1),r.m(t.parentNode,t)):r&&(ee(),ie(r,1,1,(()=>{r=null})),te())},i(e){n||(ne(r),n=!0)},o(e){ie(r),n=!1},d(e){r&&r.d(e),e&&y(t)}}}de([Zt],(()=>tn)),de([Zt],(()=>nn)),de([Zt],(()=>rn)),de([Zt,Dt],(()=>sn));const cn=fe({}),un=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((t=>cn.set({component:e,callback(){cn.set({}),t(...arguments)},params:fe(n)})))};function hn(e,t,n){let i,r,s;cn.subscribe((e=>{var t,o;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n(0,(i=(t=e).component,r=t.callback,s=t.params,t),i,n(1,r),n(2,s)),a.next=3,regeneratorRuntime.awrap(j());case 3:(o=document.querySelector("button.ok"))&&o.focus();case 5:case"end":return a.stop()}}),null,null,null,Promise)}));return[i,r,s,()=>r(!1),()=>r(!1)]}class fn extends ue{constructor(e){super(),ce(this,e,hn,ln,f,{})}}const dn={O:()=>console.log("ciao")},pn=e=>Object.assign(dn,e),On=function(e){if(e.ctrlKey){const t=String.fromCharCode(e.keyCode).toUpperCase();t in dn&&(dn[t](),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}},gn=e=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t};function mn(e){for(let n=e.length-1;n>0;n--){let i=Math.floor(Math.random()*(n+1));var t=[e[i],e[n]];e[n]=t[0],e[i]=t[1]}}const yn=e=>/^-?\d+$/.test(e),vn={key:"1",properties:{},chapters:{1:{title:"",group:"",flags:[],text:""}}},bn=new Dexie("magebook");bn.version(1).stores({sessions:"&id, time, preview"});const Qn=new function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;const t=[],r=e=>t.push(e),s=new fe(e),o=s.set,a=s.subscribe,l=()=>({title:"",group:"",flags:[],text:""}),c=e=>e.replace(/[^a-z0-9]/gi,""),u=i=>{[...t,i].forEach((t=>{e=n(n({},e),t(e))})),e.chapters&&0!=Object.keys(e.chapters).length||(e.chapters={1:l()}),e.chapters[e.key]||(console.warn("Key not found, rewriting with first key"),e.key=Object.keys(e.chapters)[0]),o(e)},h=()=>{for(let t=1;t<5e3;t++){const n=String(t);if(!e.chapters[n])return n}},f=t=>t+(e.chapters[t].title?" - "+e.chapters[t].title:""),d=t=>{const n=new RegExp(String.raw`\[([^\[]*)\](\(\s*\#${(e=>e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\s*\))`,"g");return Object.keys(e.chapters).filter((t=>n.test(e.chapters[t].text)))},p=()=>(u((()=>{})),JSON.parse(JSON.stringify(e))),O=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.chapters;return Object.keys(t).sort(((e,t)=>{const n=yn(e),i=yn(t);return!n&&i?-1:n&&!i?1:n||i?n&&i?parseInt(e,10)-parseInt(t,10):void 0:e.localeCompare(t)}))},g=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u((t=>{let n=t.properties;if(e){let e=Number(n.revision||"0");return n.revision=String(e+1),{properties:n}}return{}}))},m=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=[],o=[];Object.entries(e.chapters).forEach((e=>{let r=i(e,2),a=r[0],l=r[1];yn(a)?l.flags&&l.flags.some((e=>t.includes(e)))?o.push(a):!(n.length>0)||l.group&&n.includes(l.group)?s.push(a):o.push(a):o.push(a)}));const a=JSON.parse(JSON.stringify(s));mn(a);const l=Object.fromEntries(s.map(((e,t)=>[e,a[t]]))),c=Object.fromEntries(s.map(((e,t)=>[a[t],e]))),u=e=>o.includes(e)?e:l[e];mn(s);const h=p();if(r){let e=Number(h.properties.revision||"0");h.properties.revision=String(e+1)}return h.key=u(e.key),Object.keys(e.chapters).forEach((t=>{const n=o.includes(t)?t:c[t];h.chapters[t]=JSON.parse(JSON.stringify(e.chapters[n])),h.chapters[t].text=h.chapters[t].text.replace(/\[([^\[]*)\](\(\s*#(\w+)\s*\))/g,(function(){return`[${arguments.length<=1?void 0:arguments[1]}](#${u(arguments.length<=3?void 0:arguments[3])})`}))})),h};Object.assign(this,{beforeUpdate:r,update:u,refresh:g,subscribe:a,get:p,newChapter:l,availableKey:h,sanitizeKey:c,sortedKeys:O,linksTo:d,fullTitle:f,shuffle:m})},xn=new function(e,t){const i=gn(20),r=e=>{const t=e.file.name.padEnd(30,"").substr(0,30),n=String(e.data.properties.revision||"1").trim().padStart(6,"0");return`${String(e.time).padStart(30,"0")}-${e.id}-${n}-${t}`},s=()=>{var e,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"time",n.next=3,regeneratorRuntime.awrap(bn.sessions.orderBy("time").keys());case 3:if(!((e=n.sent.reverse()).length>50)){n.next=8;break}return t=e[50],n.next=8,regeneratorRuntime.awrap(bn.sessions.where("time").below(t).modify((function(){delete this.value})));case 8:case"end":return n.stop()}}),null,null,null,Promise)};let o;Object.assign(this,{sessionName:o,load:()=>{var a,l;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!o){c.next=3;break}return console.error("Session loaded twice!"),c.abrupt("return");case 3:return c.next=5,regeneratorRuntime.awrap((()=>{var e,t,n;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e="msession=",!window.location.hash||!window.location.hash.includes(e)){i.next=9;break}if((t=window.location.hash.indexOf(e)+e.length)+20>window.location.hash.length){i.next=9;break}return n=window.location.hash.substr(t,20),i.next=7,regeneratorRuntime.awrap(bn.sessions.get(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return",n);case 9:return i.abrupt("return",localStorage.getItem("mage-session-last")||gn());case 10:case"end":return i.stop()}}),null,null,null,Promise)})());case 5:return o=c.sent,location.replace(`#msession=${o}`),window.addEventListener("hashchange",(()=>{window.location.hash.includes(`#msession=${o}`)||window.location.reload()}),!1),localStorage.setItem("mage-session-last",o),localStorage.setItem(`mage-lock-${o}`,i),c.next=12,regeneratorRuntime.awrap(bn.sessions.get(o));case 12:if(c.t0=c.sent,c.t0){c.next=15;break}c.t0={data:t,file:{name:t.properties.title}};case 15:a=c.t0,l=a.data,this.file=a.file,e.update((()=>l)),e.subscribe((e=>{var t;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return localStorage.getItem(`mage-lock-${o}`)!=i&&console.log("LOCK PROBLEM"),localStorage.setItem("mage-session-last",o),t={file:this.file,id:o,data:e,time:(new Date).getTime()},s.next=5,regeneratorRuntime.awrap(bn.sessions.put(n({preview:r(t)},t)));case 5:case"end":return s.stop()}}),null,this,null,Promise)})),window.onbeforeunload=()=>e.refresh(),setInterval((()=>e.refresh()),1e4),s();case 23:case"end":return c.stop()}}),null,this,null,Promise)},open:e=>{var t;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n({id:gn(20),file:{name:"New"},time:(new Date).getTime()},e),i.next=3,regeneratorRuntime.awrap(bn.sessions.put(t));case 3:location.replace(`#msession=${t.id}`);case 4:case"end":return i.stop()}}),null,null,null,Promise)}})}(Qn,{key:"1",properties:{title:"My book",author:"Luca Fabbian",revision:"1"},chapters:{intro:{title:"Introduzione",group:"",text:"",flags:[]},rules:{title:"Regolamento",group:"",text:"",flags:[]},1:{title:"Titolo",group:"",text:"Nel nuovo formato, si usa il doppio asterisco **per fare il grassetto**, mentre `così si fa il codice`.\nI link si fanno con [Titolo](#numero), se il titolo viene omesso verrà preso quello del paragrafo, ad esempio [](#2).",flags:[]},2:{title:"",group:"",text:"Nel menu laterale dovrebbe apparire che il paragrafo laterale ha un link verso questo paragrafo.",flags:["final","death"]}}}),wn=de(Qn,(e=>({key:e.key,value:n(n({},Qn.newChapter()),e.chapters[e.key])})));window.mage={db:bn,session:xn,book:Qn};let $n=new Viz({workerURL:"static/graphviz/lite.render.js"});const kn=e=>{const t=e.get();let n="digraph{\n";return e.sortedKeys(t.chapters).forEach((t=>{n+=`${t} [label="${(e=>e.replace(/\//g,"\\").replace(/\"/g,'"'))(e.fullTitle(t))}"]\n`,e.linksTo(t).forEach((e=>{n+=`${e} -> ${t}\n`}))})),n+"}"};var Sn={mimetype:"text/markdown",decode:e=>{let t={properties:{},chapters:{}},n="";const i=()=>{t.chapters[n].text=t.chapters[n].text.replace(/[\n\s]+$/,"")};return e.split("\n").forEach(((e,r)=>{const s=e.trim();if(""===n&&!s.startsWith("### ")){if(s.startsWith("# "))return void(t.properties.title=s.replace(/\#/g,"").trim());const e=s.indexOf(":");return void(-1!==e&&(t.properties[s.substr(0,e)]=s.substr(e+1)))}if(s.startsWith("### ")){""!==n&&i(),n=s.substr(4).trim();let e="";const r=n.indexOf("{#");return-1!=r&&(e=n.substr(0,r-1).trim(),n=n.substr(r+2,n.lastIndexOf("}")-2-r).trim()),void(t.chapters[n]={title:e,text:"",group:"",flags:[]})}if(s.includes("![flag-"))return void["final","fixed","death"].forEach((e=>{s.includes(`![flag-${e}]`)&&t.chapters[n].flags.push(e)}));const o=s.indexOf('[group]:<> ("');-1!=o&&(t.chapters[n].group=s.substr(o+13,s.lastIndexOf('")')-o-13)),t.chapters[n].text+=e+"\n"})),i(),t.key=String(t.properties.last_edited||Object.keys(t.chapters)[0]).trim(),t},encode:e=>{const t=e.get(),r=t.key,s=t.chapters,o=t.properties;let a=`# ${o.title}\n`;return Object.entries(n(n({},o),{},{last_edited:r})).forEach((e=>{let t=i(e,2),n=t[0],r=t[1];"title"!==n&&(a+=`${n}: ${r}\n`)})),a+="\n\n\n",e.sortedKeys(s).forEach((e=>{const t=s[e];if(a+=t.title?`### ${t.title} {#${e}}\n`:`### ${e}\n`,t.flags&&t.flags.length){const e={death:"![flag-death](https://librogamesland.github.io/lgcjs/release/static/flags/death.png)",final:"![flag-final](https://librogamesland.github.io/lgcjs/release/static/flags/final.png)",fixed:"![flag-fixed](https://librogamesland.github.io/lgcjs/release/static/flags/fixed.png)"};a+=t.flags.map((t=>e[t])).join(" ")+"\n"}t.group&&(a+=`[group]:<> ("${t.group}")\n`),a+=t.text.replace(/\n+$/,"")+"\n\n\n"})),a}},Dn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Pn(e){var t={exports:{}};return e(t,t.exports),t.exports}var An=Pn((function(e,t){e.exports=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function s(e){var t={exports:{}};return e(t,t.exports),t.exports}var o=s((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}})),a=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=function(e){return h[e]};function d(e,t){if(t){if(a.test(e))return e.replace(l,f)}else if(c.test(e))return e.replace(u,f);return e}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function O(e){return e.replace(p,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var g=/(^|[^\[])\^/g;function m(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(g,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n}var y=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(e,t,n){if(e){var i;try{i=decodeURIComponent(O(n)).replace(y,"").toLowerCase()}catch(e){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!v.test(n)&&(n=k(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var Q={},x=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,$=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,t){Q[" "+e]||(x.test(e)?Q[" "+e]=e+"/":Q[" "+e]=P(e,"/",!0));var n=-1===(e=Q[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(w,"$1")+t:"/"===t.charAt(0)?n?t:e.replace($,"$1")+t:e+t}function S(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function D(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,r=t;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function P(e,t,n){var i=e.length;if(0===i)return"";for(var r=0;r<i;){var s=e.charAt(i-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.substr(0,i-r)}function A(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return-1}function C(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var W={escape:d,unescape:O,edit:m,cleanUrl:b,resolveUrl:k,noopTest:{exec:function(){}},merge:S,splitCells:D,rtrim:P,findClosingBracket:A,checkSanitizeDeprecation:C,repeatString:T},R=o.defaults,_=W.rtrim,E=W.splitCells,X=W.escape,F=W.findClosingBracket;function z(e,t,n){var i=t.href,r=t.title?X(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:s}:{type:"image",raw:n,href:i,title:r,text:X(s)}}function Y(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}var L=function(){function e(e){this.options=e||R}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:_(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=Y(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=_(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:E(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=E(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,r,s,o,a,l,c,u,h=t[0],f=t[2],d=f.length>1,p={type:"list",raw:h,ordered:d,start:d?+f.slice(0,-1):"",loose:!1,items:[]},O=t[0].match(this.rules.block.item),g=!1,m=O.length;r=this.rules.block.listItemStart.exec(O[0]);for(var y=0;y<m;y++){if(h=n=O[y],this.options.pedantic||(u=n.match(new RegExp("\\n\\s*\\n {0,"+(r[0].length-1)+"}\\S")))&&(o=n.length-u.index+O.slice(y+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-o),h=n=n.substring(0,u.index),m=y+1),y!==m-1){if(s=this.rules.block.listItemStart.exec(O[y+1]),this.options.pedantic?s[1].length>r[1].length:s[1].length>=r[0].length||s[1].length>3){O.splice(y,2,O[y]+(!this.options.pedantic&&s[1].length<r[0].length&&!O[y].match(/\n$/)?"":"\n")+O[y+1]),y--,m--;continue}(!this.options.pedantic||this.options.smartLists?s[2][s[2].length-1]!==f[f.length-1]:d===(1===s[2].length))&&(o=O.slice(y+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-o),y=m-1),r=s}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),n=_(n,"\n"),y!==m-1&&(h+="\n"),a=g||/\n\n(?!\s*$)/.test(h),y!==m-1&&(g="\n\n"===h.slice(-2),a||(a=g)),a&&(p.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:h,task:l,checked:c,loose:a,text:n})}return p}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):X(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:E(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=E(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:X(t[1])}},t.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):X(i[0]):i[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=_(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var r=F(t[2],"()");if(r>-1){var s=(0===t[0].indexOf("!")?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,s).trim(),t[3]=""}}var o=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),z(t,{href:o?o.replace(this.rules.inline._escapes,"$1"):o,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return z(n,i,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(e);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){var s,o,a=i[0].length-1,l=a,c=0,u="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);null!=(i=u.exec(t));)if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(o=s.length,i[3]||i[4])l+=o;else if(!((i[5]||i[6])&&a%3)||(a+o)%3){if(!((l-=o)>0)){if(l+c-o<=0&&!t.slice(u.lastIndex).match(u)&&(o=Math.min(o,o+l+c)),Math.min(a,o)%2)return{type:"em",raw:e.slice(0,a+i.index+o+1),text:e.slice(1,a+i.index+o)};if(Math.min(a,o)%2==0)return{type:"strong",raw:e.slice(0,a+i.index+o+1),text:e.slice(2,a+i.index+o-1)}}}else c+=o}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=X(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,i,r=this.rules.inline.autolink.exec(e);if(r)return i="@"===r[2]?"mailto:"+(n=X(this.options.mangle?t(r[1]):r[1])):n=X(r[1]),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,r;if("@"===n[2])r="mailto:"+(i=X(this.options.mangle?t(n[0]):n[0]));else{var s;do{s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(s!==n[0]);i=X(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},t.inlineText=function(e,t,n){var i,r=this.rules.inline.text.exec(e);if(r)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):X(r[0]):r[0]:X(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}},e}(),Z=W.noopTest,q=W.edit,B=W.merge,M={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Z,table:Z,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};M.def=q(M.def).replace("label",M._label).replace("title",M._title).getRegex(),M.bullet=/(?:[*+-]|\d{1,9}[.)])/,M.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,M.item=q(M.item,"gm").replace(/bull/g,M.bullet).getRegex(),M.listItemStart=q(/^( *)(bull) */).replace("bull",M.bullet).getRegex(),M.list=q(M.list).replace(/bull/g,M.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+M.def.source+")").getRegex(),M._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,M.html=q(M.html,"i").replace("comment",M._comment).replace("tag",M._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),M.paragraph=q(M._paragraph).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.blockquote=q(M.blockquote).replace("paragraph",M.paragraph).getRegex(),M.normal=B({},M),M.gfm=B({},M.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),M.gfm.nptable=q(M.gfm.nptable).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.gfm.table=q(M.gfm.table).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.pedantic=B({},M.normal,{html:q("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",M._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Z,paragraph:q(M.normal._paragraph).replace("hr",M.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",M.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var j={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Z,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Z,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};j.punctuation=q(j.punctuation).replace(/punctuation/g,j._punctuation).getRegex(),j.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,j.escapedEmSt=/\\\*|\\_/g,j._comment=q(M._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),j.emStrong.lDelim=q(j.emStrong.lDelim).replace(/punct/g,j._punctuation).getRegex(),j.emStrong.rDelimAst=q(j.emStrong.rDelimAst,"g").replace(/punct/g,j._punctuation).getRegex(),j.emStrong.rDelimUnd=q(j.emStrong.rDelimUnd,"g").replace(/punct/g,j._punctuation).getRegex(),j._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,j._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,j._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,j.autolink=q(j.autolink).replace("scheme",j._scheme).replace("email",j._email).getRegex(),j._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,j.tag=q(j.tag).replace("comment",j._comment).replace("attribute",j._attribute).getRegex(),j._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,j._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,j.link=q(j.link).replace("label",j._label).replace("href",j._href).replace("title",j._title).getRegex(),j.reflink=q(j.reflink).replace("label",j._label).getRegex(),j.reflinkSearch=q(j.reflinkSearch,"g").replace("reflink",j.reflink).replace("nolink",j.nolink).getRegex(),j.normal=B({},j),j.pedantic=B({},j.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:q(/^!?\[(label)\]\((.*?)\)/).replace("label",j._label).getRegex(),reflink:q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j._label).getRegex()}),j.gfm=B({},j.normal,{escape:q(j.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),j.gfm.url=q(j.gfm.url,"i").replace("email",j.gfm._extended_email).getRegex(),j.breaks=B({},j.gfm,{br:q(j.br).replace("{2,}","*").getRegex(),text:q(j.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var V={block:M,inline:j},I=o.defaults,U=V.block,N=V.inline,G=W.repeatString;function H(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function K(e){var t,n,i="",r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var J=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||I,this.options.tokenizer=this.options.tokenizer||new L,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:U.normal,inline:N.normal};this.options.pedantic?(t.block=U.pedantic,t.inline=N.pedantic):this.options.gfm&&(t.block=U.gfm,this.options.breaks?t.inline=N.breaks:t.inline=N.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var i,r,s,o;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),(o=t[t.length-1])&&"paragraph"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):t.push(i);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),s=i.items.length,r=0;r<s;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(o=t[t.length-1])&&"text"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},n.inline=function(e){var t,n,i,r,s,o,a=e.length;for(t=0;t<a;t++)switch((o=e[t]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},r=o.header.length,n=0;n<r;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(r=o.cells.length,n=0;n<r;n++)for(s=o.cells[n],o.tokens.cells[n]=[],i=0;i<s.length;i++)o.tokens.cells[n][i]=[],this.inlineTokens(s[i],o.tokens.cells[n][i]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(r=o.items.length,n=0;n<r;n++)this.inline(o.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,i){var r,s;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var o,a,l,c=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,o.index)+"["+G("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,o.index)+"["+G("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,o.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i)){e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock;var h=t[t.length-1];h&&"text"===r.type&&"text"===h.type?(h.raw+=r.raw,h.text+=r.text):t.push(r)}else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);var f=t[t.length-1];"link"===r.type?(r.tokens=this.inlineTokens(r.text,[],!0,i),t.push(r)):f&&"text"===r.type&&"text"===f.type?(f.raw+=r.raw,f.text+=r.text):t.push(r)}else if(r=this.tokenizer.emStrong(e,c,l))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,K))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,K))){if(r=this.tokenizer.inlineText(e,i,H))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(l=r.raw.slice(-1)),a=!0,(s=t[t.length-1])&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(r.raw.length),t.push(r);return t},t(e,null,[{key:"rules",get:function(){return{block:U,inline:N}}}]),e}(),ee=o.defaults,te=W.cleanUrl,ne=W.escape,ie=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,i);null!=r&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+ne(i,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+ne(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),re=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),se=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),oe=o.defaults,ae=W.unescape,le=function(){function e(e){this.options=e||oe,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new re,this.slugger=new se}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,i,r,s,o,a,l,c,u,h,f,d,p,O,g,m,y,v,b="",Q=e.length;for(n=0;n<Q;n++)switch((h=e[n]).type){case"space":continue;case"hr":b+=this.renderer.hr();continue;case"heading":b+=this.renderer.heading(this.parseInline(h.tokens),h.depth,ae(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":b+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",s=h.header.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(h.tokens.header[i]),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),u="",s=h.cells.length,i=0;i<s;i++){for(l="",o=(a=h.tokens.cells[i]).length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(a[r]),{header:!1,align:h.align[r]});u+=this.renderer.tablerow(l)}b+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),b+=this.renderer.blockquote(u);continue;case"list":for(f=h.ordered,d=h.start,p=h.loose,s=h.items.length,u="",i=0;i<s;i++)m=(g=h.items[i]).checked,y=g.task,O="",g.task&&(v=this.renderer.checkbox(m),p?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=v+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=v+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:v}):O+=v),O+=this.parse(g.tokens,p),u+=this.renderer.listitem(O,y,m);b+=this.renderer.list(u,f,d);continue;case"html":b+=this.renderer.html(h.text);continue;case"paragraph":b+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<Q&&"text"===e[n+1].type;)u+="\n"+((h=e[++n]).tokens?this.parseInline(h.tokens):h.text);b+=t?this.renderer.paragraph(u):u;continue;default:var x='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}return b},t.parseInline=function(e,t){t=t||this.renderer;var n,i,r="",s=e.length;for(n=0;n<s;n++)switch((i=e[n]).type){case"escape":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;case"text":r+=t.text(i.text);break;default:var o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}return r},e}(),ce=W.merge,ue=W.checkSanitizeDeprecation,he=W.escape,fe=o.getDefaults,de=o.changeDefaults,pe=o.defaults;function Oe(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=ce({},Oe.defaults,t||{}),ue(t),n){var i,r=t.highlight;try{i=J.lex(e,t)}catch(e){return n(e)}var s=function(e){var s;if(!e)try{s=le.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,s)};if(!r||r.length<3)return s();if(delete t.highlight,!i.length)return s();var o=0;return Oe.walkTokens(i,(function(e){"code"===e.type&&(o++,setTimeout((function(){r(e.text,e.lang,(function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--o&&s()}))}),0))})),void(0===o&&s())}try{var a=J.lex(e,t);return t.walkTokens&&Oe.walkTokens(a,t.walkTokens),le.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+he(e.message+"",!0)+"</pre>";throw e}}return Oe.options=Oe.setOptions=function(e){return ce(Oe.defaults,e),de(Oe.defaults),Oe},Oe.getDefaults=fe,Oe.defaults=pe,Oe.use=function(e){var t=ce({},e);if(e.renderer&&function(){var n=Oe.defaults.renderer||new ie,i=function(t){var i=n[t];n[t]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=e.renderer[t].apply(n,s);return!1===a&&(a=i.apply(n,s)),a}};for(var r in e.renderer)i(r);t.renderer=n}(),e.tokenizer&&function(){var n=Oe.defaults.tokenizer||new L,i=function(t){var i=n[t];n[t]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=e.tokenizer[t].apply(n,s);return!1===a&&(a=i.apply(n,s)),a}};for(var r in e.tokenizer)i(r);t.tokenizer=n}(),e.walkTokens){var n=Oe.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}Oe.setOptions(t)},Oe.walkTokens=function(e,t){for(var n,i=r(e);!(n=i()).done;){var s=n.value;switch(t(s),s.type){case"table":for(var o,a=r(s.tokens.header);!(o=a()).done;){var l=o.value;Oe.walkTokens(l,t)}for(var c,u=r(s.tokens.cells);!(c=u()).done;)for(var h,f=r(c.value);!(h=f()).done;){var d=h.value;Oe.walkTokens(d,t)}break;case"list":Oe.walkTokens(s.items,t);break;default:s.tokens&&Oe.walkTokens(s.tokens,t)}}},Oe.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ce({},Oe.defaults,t||{}),ue(t);try{var n=J.lexInline(e,t);return t.walkTokens&&Oe.walkTokens(n,t.walkTokens),le.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+he(e.message+"",!0)+"</pre>";throw e}},Oe.Parser=le,Oe.parser=le.parse,Oe.Renderer=ie,Oe.TextRenderer=re,Oe.Lexer=J,Oe.lexer=J.lex,Oe.Tokenizer=L,Oe.Slugger=se,Oe.parse=Oe,Oe}()}));if("undefined"==typeof DOMParser){const e=global.JSDOM||require("jsdom").JSDOM;global.DOMParser=(new e).window.DOMParser,global.document=(new e).window.document}const Cn=document.createElement("p"),Tn=e=>(Cn.innerHTML=e,Cn.textContent),Wn=e=>(Cn.textContent=e,Cn.innerHTML),Rn={heading(e){},nptable(e){},hr(e){},blockquote(e){},code(e){},list(e){},def(e){},table(e){},lheading(e){}};An.use({tokenizer:Rn});const _n={html:e=>Wn(e),paragraph:e=>`${e}<br>`,strong:e=>`<b>${e}</b>`,em:e=>`<i>${e}</i>`,codespan:e=>Tn(e),code:e=>""},En=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;return An.use({renderer:new An.Renderer}),An.use({renderer:n(n({},t),{},{code:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.code(e.replace(/\n\n/g,"\n").replace("\n",""),...i)}})}),An(e.replace(/\n/g,"\n\n"))},Xn={html:e=>Wn(e),paragraph:e=>`<p>${e}</p>`,strong:e=>`<b>${e}</b>`,em:e=>`<i>${e}</i>`,codespan:e=>"`"+e+"`",code:(e,t)=>"<p>```"+t+Wn(e).replace(/\n/g,"</p><p>")+"```</p>",link:(e,t,n)=>`{link ${e.replace("#","")}:${n||"@T"}}`};var Fn={decode:e=>{const t={},n={};let i="";const r=["lgc_version","title","author","version","revision","table_of_contents","editing_action","editing_chapter"],s=(new DOMParser).parseFromString(e,"text/xml");return[...s.documentElement.children||s.documentElement.childNodes].forEach((e=>{const s=e.getAttribute("name"),o=e.getAttribute("type"),a=e.getAttribute("group");if("entity"===o&&"game"===s)return void[...e.children].forEach((e=>{const n=e.getAttribute("name"),s=e.innerHTML.substring(9,e.innerHTML.length-3);"editing_chapter"==n?i=s:r.includes(n)&&(t[n]=s)}));if("entity"===o&&"map_data"===s)return void[...e.children].forEach((e=>{const n=e.getAttribute("name"),i=e.innerHTML.substring(9,e.innerHTML.length-3);"map_file"===n&&(t.map=i)}));let l={title:"",text:"",flags:[]};a&&(l.group=a),[...e.children].forEach((e=>{const t=e.getAttribute("name"),n=e.innerHTML.substring(9,e.innerHTML.length-3);"chapter_title"===t&&n&&(l.title=n),"description"===t&&(l.text=n),"map_position"===t&&(l.map=n),t.startsWith("flag_")&&"true"===n&&l.flags.push(t.substring(5))})),l.text=Tn(l.text.replace(/\<\/\p\>/g,"\n").replace(/\<\p\>/g,"").replace(/\<b\>/g,"**").replace(/\<\/b\>/g,"**").replace(/\<i\>/g,"*").replace(/\<\/i\>/g,"*").replace(/{link (\w+):([^\}\{]+)}/g,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`[${"@T"==t[2].trim()?"":t[2]}](#${t[1]})`})).replace(/[\n\s]+$/,"")),n[s]=l})),{properties:t,chapters:n,key:i}},encode:e=>{const t=e.get(),n=t.key,i=t.chapters,r=t.properties;return`<?xml version="1.0" encoding="UTF-8"?><entities>${((e,t)=>`<entity group="setup" name="game" type="entity"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"/><attribute name="lgc_version" type="string"><![CDATA[${e.lgc_version||""}]]></attribute><attribute name="title" type="string"><![CDATA[${e.title||""}]]></attribute><attribute name="author" type="string"><![CDATA[${e.author||""}]]></attribute><attribute name="version" type="string"><![CDATA[${e.version||""}]]></attribute><attribute name="revision" type="integer"><![CDATA[${e.revision||"1"}]]></attribute><attribute name="editing_action" type="string"><![CDATA[${e.editing_action||"WRITING"}]]></attribute><attribute name="table_of_contents" type="string"><![CDATA[${e.table_of_contents||"P(ALL)"}]]></attribute><attribute name="editing_chapter" type="string"><![CDATA[${t||"1"}]]></attribute></entity>`)(r,n)+(e=>e.map?`<entity group="setup" name="map_data" type="entity"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"/><attribute name="map_file" type="string"><![CDATA[${e.map}]]></attribute></entity>`:"")(r)+e.sortedKeys().reduce(((e,t)=>e+((e,t)=>`<entity group="${t.group||""}" name="${e}" type="${yn(e)?"chapter":"section"}"><attribute name="description" type="string"><![CDATA[${En(t.text,Xn)||"<p></p>"}]]></attribute><attribute name="chapter_title" type="string"><![CDATA[${t.title||""}]]></attribute>`+(t.type&&"chapter"!==t.type?"":`<attribute name="flag_final" type="boolean"><![CDATA[${t.flags&&t.flags.includes("final")?"true":"false"}]]></attribute><attribute name="flag_fixed" type="boolean"><![CDATA[${t.flags&&t.flags.includes("fixed")?"true":"false"}]]></attribute><attribute name="flag_death" type="boolean"><![CDATA[${t.flags&&t.flags.includes("death")?"true":"false"}]]></attribute>`)+(t.map?`<attribute name="map_position" type="string"><![CDATA[${t.map||""}]]></attribute>`:"")+"</entity>")(t,i[t])),"")}</entities>`},mimetype:"application/xml"};const zn=(e,t)=>`<text:span text:style-name="bold"><text:bookmark-start text:name="mage${e}"/>${t}<text:bookmark-end text:name="mage${e}"/></text:span>`,Yn=(e,t)=>{let n="";const i=yn(e);return i||(n+=`<text:p text:style-name="center">${zn(e,t[e].title.trim()||e)}</text:p>`),n+=En(t[e].text,(e=>({html:e=>Wn(e),paragraph:e=>`<text:p text:style-name="Standard">${e}</text:p>`,strong:e=>`<text:span text:style-name="bold">${e}</text:span>`,em:e=>`<text:span text:style-name="italic">${e}</text:span>`,codespan:()=>"",code:()=>"",link:(t,n,i)=>`<text:a xlink:type="simple" xlink:href="#mage${t.replace("#","")}" text:style-name="Internet_20_link" text:visited-style-name="Visited_20_Internet_20_Link">${i.trim()||e[t.replace("#","")].title.trim()||t.replace("#","")}</text:a>`}))(t)),n=n.trim()||'<text:p text:style-name="justify"> </text:p>',i&&(n=n.replace(">",">"+zn(e,(t[e].title.trim()||e)+". "))),n+=`<text:p text:style-name="${i?"Standard":"break"}"/>`,n};var Ln={encode:e=>{const t=e.get().chapters;return(e=>`<?xml version="1.0" encoding="UTF-8"?>\n\n<office:document xmlns:grddl="http://www.w3.org/2003/g/data-view#" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:css3t="http://www.w3.org/TR/css3-text/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:formx="urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0" xmlns:xforms="http://www.w3.org/2002/xforms" xmlns:dom="http://www.w3.org/2001/xml-events" xmlns:script="urn:oasis:names:tc:opendocument:xmlns:script:1.0" xmlns:form="urn:oasis:names:tc:opendocument:xmlns:form:1.0" xmlns:math="http://www.w3.org/1998/Math/MathML" xmlns:field="urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0" xmlns:of="urn:oasis:names:tc:opendocument:xmlns:of:1.2" xmlns:oooc="http://openoffice.org/2004/calc" xmlns:ooow="http://openoffice.org/2004/writer" xmlns:config="urn:oasis:names:tc:opendocument:xmlns:config:1.0" xmlns:tableooo="http://openoffice.org/2009/table" xmlns:text="urn:oasis:names:tc:opendocument:xmlns:text:1.0" xmlns:calcext="urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0" xmlns:fo="urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:loext="urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ooo="http://openoffice.org/2004/office" xmlns:table="urn:oasis:names:tc:opendocument:xmlns:table:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:officeooo="http://openoffice.org/2009/office" xmlns:style="urn:oasis:names:tc:opendocument:xmlns:style:1.0" xmlns:drawooo="http://openoffice.org/2010/draw" xmlns:draw="urn:oasis:names:tc:opendocument:xmlns:drawing:1.0" xmlns:dr3d="urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0" xmlns:svg="urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0" xmlns:chart="urn:oasis:names:tc:opendocument:xmlns:chart:1.0" xmlns:rpt="http://openoffice.org/2005/report" xmlns:number="urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0" office:version="1.2" office:mimetype="application/vnd.oasis.opendocument.text">\n <office:meta><meta:creation-date>2017-01-01T14:28:30.863048091</meta:creation-date><meta:generator>LibreOffice/6.4.1.2$Linux_X86_64 LibreOffice_project/e1ad903d8acbc5f5b474f1d8ec3defef24b8c46b</meta:generator><meta:editing-cycles>0</meta:editing-cycles><meta:editing-duration>P0D</meta:editing-duration><meta:document-statistic meta:table-count="0" meta:image-count="0" meta:object-count="0" meta:page-count="2" meta:paragraph-count="14" meta:word-count="48" meta:character-count="272" meta:non-whitespace-character-count="237"/></office:meta>\n <office:settings>\n  <config:config-item-set config:name="ooo:view-settings">\n   <config:config-item config:name="ViewAreaTop" config:type="long">7895</config:config-item>\n   <config:config-item config:name="ViewAreaLeft" config:type="long">0</config:config-item>\n   <config:config-item config:name="ViewAreaWidth" config:type="long">33413</config:config-item>\n   <config:config-item config:name="ViewAreaHeight" config:type="long">15162</config:config-item>\n   <config:config-item config:name="ShowRedlineChanges" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="InBrowseMode" config:type="boolean">false</config:config-item>\n   <config:config-item-map-indexed config:name="Views">\n    <config:config-item-map-entry>\n     <config:config-item config:name="ViewId" config:type="string">view2</config:config-item>\n     <config:config-item config:name="ViewLeft" config:type="long">16095</config:config-item>\n     <config:config-item config:name="ViewTop" config:type="long">7869</config:config-item>\n     <config:config-item config:name="VisibleLeft" config:type="long">0</config:config-item>\n     <config:config-item config:name="VisibleTop" config:type="long">7895</config:config-item>\n     <config:config-item config:name="VisibleRight" config:type="long">33412</config:config-item>\n     <config:config-item config:name="VisibleBottom" config:type="long">23056</config:config-item>\n     <config:config-item config:name="ZoomType" config:type="short">0</config:config-item>\n     <config:config-item config:name="ViewLayoutColumns" config:type="short">1</config:config-item>\n     <config:config-item config:name="ViewLayoutBookMode" config:type="boolean">false</config:config-item>\n     <config:config-item config:name="ZoomFactor" config:type="short">140</config:config-item>\n     <config:config-item config:name="IsSelectedFrame" config:type="boolean">false</config:config-item>\n     <config:config-item config:name="AnchoredTextOverflowLegacy" config:type="boolean">true</config:config-item>\n    </config:config-item-map-entry>\n   </config:config-item-map-indexed>\n  </config:config-item-set>\n  <config:config-item-set config:name="ooo:configuration-settings">\n   <config:config-item config:name="PrintPaperFromSetup" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintFaxName" config:type="string"/>\n   <config:config-item config:name="PrintSingleJobs" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintProspectRTL" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintProspect" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintReversed" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintTextPlaceholder" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintTables" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PrintPageBackground" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PrintLeftPages" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PrintAnnotationMode" config:type="short">0</config:config-item>\n   <config:config-item config:name="PrintControls" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PrintHiddenText" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintDrawings" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="IgnoreFirstLineIndentInNumbering" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrinterSetup" config:type="base64Binary"/>\n   <config:config-item config:name="CollapseEmptyCellPara" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="UseOldPrinterMetrics" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="UseOldNumbering" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="AddExternalLeading" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="TreatSingleColumnBreakAsPageBreak" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="IsLabelDocument" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="RsidRoot" config:type="int">1031266</config:config-item>\n   <config:config-item config:name="ConsiderTextWrapOnObjPos" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="TableRowKeep" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="TabsRelativeToIndent" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="UpdateFromTemplate" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="SaveVersionOnClose" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="UseFormerTextWrapping" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="ChartAutoUpdate" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="AllowPrintJobCancel" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="AddParaTableSpacing" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="AddParaSpacingToTableCells" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="UseFormerLineSpacing" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="OutlineLevelYieldsNumbering" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="AlignTabStopPosition" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="DoNotJustifyLinesWithManualBreak" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="EmbedOnlyUsedFonts" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="LinkUpdateMode" config:type="short">1</config:config-item>\n   <config:config-item config:name="CurrentDatabaseCommandType" config:type="int">0</config:config-item>\n   <config:config-item config:name="CurrentDatabaseCommand" config:type="string"/>\n   <config:config-item config:name="CharacterCompressionType" config:type="short">0</config:config-item>\n   <config:config-item config:name="SmallCapsPercentage66" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="ApplyUserData" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="StylesNoDefault" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="EmbeddedDatabaseName" config:type="string"/>\n   <config:config-item config:name="FloattableNomargins" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="BackgroundParaOverDrawings" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrinterName" config:type="string"/>\n   <config:config-item config:name="UseFormerObjectPositioning" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="TabOverMargin" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="SaveGlobalDocumentLinks" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="CurrentDatabaseDataSource" config:type="string"/>\n   <config:config-item config:name="IsKernAsianPunctuation" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="SaveThumbnail" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PrinterPaperFromSetup" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrinterIndependentLayout" config:type="string">high-resolution</config:config-item>\n   <config:config-item config:name="TabOverflow" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PrintGraphics" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="PropLineSpacingShrinksFirstLine" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="DoNotResetParaAttrsForNumFont" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="FieldAutoUpdate" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="IgnoreTabsAndBlanksForLineCalculation" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="RedlineProtectionKey" config:type="base64Binary"/>\n   <config:config-item config:name="EmbedComplexScriptFonts" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="LoadReadonly" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="DoNotCaptureDrawObjsOnPage" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="ClipAsCharacterAnchoredWriterFlyFrames" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintBlackFonts" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="DisableOffPagePositioning" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="SurroundTextWrapSmall" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="UnxForceZeroExtLeading" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="EmbedAsianScriptFonts" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="TabAtLeftIndentForParagraphsInList" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintRightPages" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="Rsid" config:type="int">1168269</config:config-item>\n   <config:config-item config:name="MathBaselineAlignment" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="MsWordCompTrailingBlanks" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="InvertBorderSpacing" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="EmbedFonts" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="UnbreakableNumberings" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="AddFrameOffsets" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="ClippedPictures" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="EmbedLatinScriptFonts" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="EmbedSystemFonts" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="AddParaTableSpacingAtStart" config:type="boolean">true</config:config-item>\n   <config:config-item config:name="ContinuousEndnotes" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="ApplyParagraphMarkFormatToNumbering" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="SubtractFlysAnchoredAtFlys" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="EmptyDbFieldHidesPara" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="ProtectForm" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="AddVerticalFrameOffsets" config:type="boolean">false</config:config-item>\n   <config:config-item config:name="PrintEmptyPages" config:type="boolean">false</config:config-item>\n  </config:config-item-set>\n </office:settings>\n <office:scripts>\n  <office:script script:language="ooo:Basic">\n   <ooo:libraries xmlns:ooo="http://openoffice.org/2004/office" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <ooo:library-embedded ooo:name="Standard"/>\n   </ooo:libraries>\n  </office:script>\n </office:scripts>\n <office:font-face-decls>\n  <style:font-face style:name="FreeSans1" svg:font-family="FreeSans" style:font-family-generic="swiss"/>\n  <style:font-face style:name="Liberation Serif" svg:font-family="&apos;Liberation Serif&apos;" style:font-family-generic="roman" style:font-pitch="variable"/>\n  <style:font-face style:name="Times New Roman" svg:font-family="&apos;Times New Roman&apos;" style:font-adornments="Normale" style:font-family-generic="roman" style:font-pitch="variable"/>\n  <style:font-face style:name="Liberation Sans" svg:font-family="&apos;Liberation Sans&apos;" style:font-family-generic="swiss" style:font-pitch="variable"/>\n  <style:font-face style:name="FreeSans" svg:font-family="FreeSans" style:font-family-generic="system" style:font-pitch="variable"/>\n  <style:font-face style:name="Noto Sans CJK SC Regular" svg:font-family="&apos;Noto Sans CJK SC Regular&apos;" style:font-family-generic="system" style:font-pitch="variable"/>\n </office:font-face-decls>\n <office:styles>\n  <style:default-style style:family="graphic">\n   <style:graphic-properties svg:stroke-color="#3465a4" draw:fill-color="#729fcf" fo:wrap-option="no-wrap" draw:shadow-offset-x="0.3cm" draw:shadow-offset-y="0.3cm" draw:start-line-spacing-horizontal="0.283cm" draw:start-line-spacing-vertical="0.283cm" draw:end-line-spacing-horizontal="0.283cm" draw:end-line-spacing-vertical="0.283cm" style:flow-with-text="false"/>\n   <style:paragraph-properties style:text-autospace="ideograph-alpha" style:line-break="strict" style:font-independent-line-spacing="false">\n    <style:tab-stops/>\n   </style:paragraph-properties>\n   <style:text-properties style:use-window-font-color="true" style:font-name="Liberation Serif" fo:font-size="12pt" fo:language="en" fo:country="US" style:letter-kerning="true" style:font-name-asian="Noto Sans CJK SC Regular" style:font-size-asian="10.5pt" style:language-asian="zh" style:country-asian="CN" style:font-name-complex="FreeSans" style:font-size-complex="12pt" style:language-complex="hi" style:country-complex="IN"/>\n  </style:default-style>\n  <style:default-style style:family="paragraph">\n   <style:paragraph-properties fo:orphans="2" fo:widows="2" fo:hyphenation-ladder-count="no-limit" style:text-autospace="ideograph-alpha" style:punctuation-wrap="hanging" style:line-break="strict" style:tab-stop-distance="1.251cm" style:writing-mode="page"/>\n   <style:text-properties style:use-window-font-color="true" style:font-name="Liberation Serif" fo:font-size="12pt" fo:language="en" fo:country="US" style:letter-kerning="true" style:font-name-asian="Noto Sans CJK SC Regular" style:font-size-asian="10.5pt" style:language-asian="zh" style:country-asian="CN" style:font-name-complex="FreeSans" style:font-size-complex="12pt" style:language-complex="hi" style:country-complex="IN" fo:hyphenate="false" fo:hyphenation-remain-char-count="2" fo:hyphenation-push-char-count="2" loext:hyphenation-no-caps="false"/>\n  </style:default-style>\n  <style:default-style style:family="table">\n   <style:table-properties table:border-model="collapsing"/>\n  </style:default-style>\n  <style:default-style style:family="table-row">\n   <style:table-row-properties fo:keep-together="auto"/>\n  </style:default-style>\n  <style:style style:name="Standard" style:family="paragraph" style:class="text">\n   <style:paragraph-properties fo:line-height="115%" style:page-number="auto"/>\n   <style:text-properties style:font-name="Times New Roman" fo:font-family="&apos;Times New Roman&apos;" style:font-style-name="Normale" style:font-family-generic="roman" style:font-pitch="variable" fo:language="zxx" fo:country="none"/>\n  </style:style>\n  <style:style style:name="Heading" style:family="paragraph" style:parent-style-name="Standard" style:next-style-name="Text_20_body" style:class="text">\n   <style:paragraph-properties fo:margin-top="0.423cm" fo:margin-bottom="0.212cm" loext:contextual-spacing="false" fo:keep-with-next="always"/>\n   <style:text-properties style:font-name="Liberation Sans" fo:font-family="&apos;Liberation Sans&apos;" style:font-family-generic="swiss" style:font-pitch="variable" fo:font-size="14pt" style:font-name-asian="Noto Sans CJK SC Regular" style:font-family-asian="&apos;Noto Sans CJK SC Regular&apos;" style:font-family-generic-asian="system" style:font-pitch-asian="variable" style:font-size-asian="14pt" style:font-name-complex="FreeSans" style:font-family-complex="FreeSans" style:font-family-generic-complex="system" style:font-pitch-complex="variable" style:font-size-complex="14pt"/>\n  </style:style>\n  <style:style style:name="Text_20_body" style:display-name="Text body" style:family="paragraph" style:parent-style-name="Standard" style:class="text">\n   <style:paragraph-properties fo:margin-top="0cm" fo:margin-bottom="0.247cm" loext:contextual-spacing="false" fo:line-height="120%"/>\n  </style:style>\n  <style:style style:name="List" style:family="paragraph" style:parent-style-name="Text_20_body" style:class="list">\n   <style:text-properties style:font-size-asian="12pt" style:font-name-complex="FreeSans1" style:font-family-complex="FreeSans" style:font-family-generic-complex="swiss"/>\n  </style:style>\n  <style:style style:name="Caption" style:family="paragraph" style:parent-style-name="Standard" style:class="extra">\n   <style:paragraph-properties fo:margin-top="0.212cm" fo:margin-bottom="0.212cm" loext:contextual-spacing="false" text:number-lines="false" text:line-number="0"/>\n   <style:text-properties fo:font-size="12pt" fo:font-style="italic" style:font-size-asian="12pt" style:font-style-asian="italic" style:font-name-complex="FreeSans1" style:font-family-complex="FreeSans" style:font-family-generic-complex="swiss" style:font-size-complex="12pt" style:font-style-complex="italic"/>\n  </style:style>\n  <style:style style:name="Index" style:family="paragraph" style:parent-style-name="Standard" style:class="index">\n   <style:paragraph-properties text:number-lines="false" text:line-number="0"/>\n   <style:text-properties style:font-size-asian="12pt" style:font-name-complex="FreeSans1" style:font-family-complex="FreeSans" style:font-family-generic-complex="swiss"/>\n  </style:style>\n  <style:style style:name="Internet_20_link" style:display-name="Internet link" style:family="text">\n   <style:text-properties fo:color="#000080" fo:language="zxx" fo:country="none" style:text-underline-style="solid" style:text-underline-width="auto" style:text-underline-color="font-color" style:language-asian="zxx" style:country-asian="none" style:language-complex="zxx" style:country-complex="none"/>\n  </style:style>\n  <style:style style:name="Visited_20_Internet_20_Link" style:display-name="Visited Internet Link" style:family="text">\n   <style:text-properties fo:color="#800000" fo:language="zxx" fo:country="none" style:text-underline-style="solid" style:text-underline-width="auto" style:text-underline-color="font-color" style:language-asian="zxx" style:country-asian="none" style:language-complex="zxx" style:country-complex="none"/>\n  </style:style>\n  <text:outline-style style:name="Outline">\n   <text:outline-level-style text:level="1" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="2" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="3" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="4" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="5" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="6" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="7" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="8" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="9" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n   <text:outline-level-style text:level="10" style:num-format="">\n    <style:list-level-properties text:list-level-position-and-space-mode="label-alignment">\n     <style:list-level-label-alignment text:label-followed-by="listtab"/>\n    </style:list-level-properties>\n   </text:outline-level-style>\n  </text:outline-style>\n  <text:notes-configuration text:note-class="footnote" style:num-format="1" text:start-value="0" text:footnotes-position="page" text:start-numbering-at="document"/>\n  <text:notes-configuration text:note-class="endnote" style:num-format="i" text:start-value="0"/>\n  <text:linenumbering-configuration text:number-lines="false" text:offset="0.499cm" style:num-format="1" text:number-position="left" text:increment="5"/>\n </office:styles>\n <office:automatic-styles>\n  <style:style style:name="right" style:family="paragraph" style:parent-style-name="Standard">\n    <style:paragraph-properties fo:text-align="end" style:justify-single-word="false"/>\n  </style:style>\n  <style:style style:name="center" style:family="paragraph" style:parent-style-name="Standard">\n    <style:paragraph-properties fo:text-align="center" style:justify-single-word="false"/>\n  </style:style>\n  <style:style style:name="justify" style:family="paragraph" style:parent-style-name="Standard">\n    <style:paragraph-properties fo:text-align="justify" style:justify-single-word="false"/>\n  </style:style>\n  <style:style style:name="break" style:family="paragraph" style:parent-style-name="Standard">\n    <style:paragraph-properties fo:break-after="page"/>\n  </style:style>\n  <style:style style:name="bold" style:family="text">\n   <style:text-properties fo:font-weight="bold" style:font-weight-asian="bold" style:font-weight-complex="bold"/>\n  </style:style>\n  <style:style style:name="underline" style:family="text">\n    <style:text-properties style:text-underline-style="solid" style:text-underline-width="auto" style:text-underline-color="font-color"/>\n  </style:style>\n  <style:style style:name="italic" style:family="text">\n    <style:text-properties fo:font-style="italic" style:font-style-asian="italic" style:font-style-complex="italic"/>\n  </style:style>\n  <style:page-layout style:name="pm1">\n   <style:page-layout-properties fo:page-width="14.801cm" fo:page-height="21.001cm" style:num-format="1" style:print-orientation="portrait" fo:margin-top="2.499cm" fo:margin-bottom="2cm" fo:margin-left="2cm" fo:margin-right="2cm" style:writing-mode="lr-tb" style:layout-grid-color="#c0c0c0" style:layout-grid-lines="20" style:layout-grid-base-height="0.706cm" style:layout-grid-ruby-height="0.353cm" style:layout-grid-mode="none" style:layout-grid-ruby-below="false" style:layout-grid-print="false" style:layout-grid-display="false" style:footnote-max-height="0cm">\n    <style:footnote-sep style:width="0.018cm" style:distance-before-sep="0.101cm" style:distance-after-sep="0.101cm" style:line-style="solid" style:adjustment="left" style:rel-width="25%" style:color="#000000"/>\n   </style:page-layout-properties>\n   <style:header-style/>\n   <style:footer-style/>\n  </style:page-layout>\n </office:automatic-styles>\n <office:master-styles>\n  <style:master-page style:name="Standard" style:page-layout-name="pm1"/>\n </office:master-styles>\n <office:body>\n  <office:text text:use-soft-page-breaks="true">\n   <office:forms form:automatic-focus="false" form:apply-design-mode="false"/>\n   <text:sequence-decls>\n    <text:sequence-decl text:display-outline-level="0" text:name="Illustration"/>\n    <text:sequence-decl text:display-outline-level="0" text:name="Table"/>\n    <text:sequence-decl text:display-outline-level="0" text:name="Text"/>\n    <text:sequence-decl text:display-outline-level="0" text:name="Drawing"/>\n    <text:sequence-decl text:display-outline-level="0" text:name="Figure"/>\n   </text:sequence-decls>${e}\n  </office:text>\n </office:body>\n</office:document>`)(e.sortedKeys().reduce(((e,n)=>e+Yn(n,t)),""))},mimetype:"application/vnd.oasis.opendocument.text"},Zn=Pn((function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Dn&&Dn.global===Dn?Dn:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,o){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):i(l.href)?n(e,t,o):r(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,s,o){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),s);else if(i(e))n(e,s,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){r(a)}))}}:function(e,t,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,i);var a="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var h=s.URL||s.webkitURL,f=h.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});s.saveAs=a.saveAs=a,e.exports=a}()}));const qn=(e,t)=>{const n=t[e].title||e,i=t[e].text||" ",r=yn(e),s=!yn(e),o=new docx.Bookmark(`mage${e}`,"");o.text=new docx.TextRun({text:r?`${n}. `:n,bold:!0});const a=document.createElement("div");a.innerHTML=En(i,(e=>({html:e=>Wn(e),paragraph:e=>`<p>${e}</p>`,strong:e=>`<b>${e}</b>`,em:e=>`<i>${e}</i>`,codespan:e=>"",code:(e,t)=>"",link:(t,n,i)=>`<mage-link to="${t.replace("#","")}">${i.trim()||e[t.replace("#","")].title.trim()||t.replace("#","")}</mage-link>`}))(t))||"<p></p>";const l=[];r||l.push(new docx.Paragraph({children:[o],alignment:"center"}));return a.childNodes.forEach(((e,t)=>{const n=[];(e=>{for(var t,n=[],i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);t=i.nextNode();)n.push(t);return n})(e).forEach((e=>{let t=!1,i=!1,r=!1,s=e.parentNode;for(;"P"!==s.tagName;){const o=s.tagName;if("MAGE-LINK"===o){const t=s.getAttribute("to");return void n.push(new docx.Hyperlink(e.nodeValue,`mage${t}`,`mage${t}`))}"B"===o&&(t=!0),"I"===o&&(i=!0),"U"===o&&(r=!0),s=s.parentNode}n.push(new docx.TextRun({bold:t,italics:i,underline:r,text:e.nodeValue}))}));l.push(new docx.Paragraph({children:[...r&&0===t?[o]:[],...n],alignment:"both"}))})),l.push(new docx.Paragraph({children:[new docx.TextRun(""),...s?[new docx.PageBreak]:[]]})),l};const Bn={md:Sn,xlgc:Fn,fodt:Ln,docx:{encode:e=>{const t=new docx.Document({styles:{paragraphStyles:[{id:"Normal",name:"Normal",next:"Normal",quickFormat:!1,run:{size:24,font:"Times New Roman"},paragraph:{spacing:{line:276}}}]}}),n=[],i=e.get().chapters;e.sortedKeys().forEach((e=>{n.push(...qn(e,i))})),t.addSection({headers:{default:null},size:{width:8419,height:11906},margins:{top:1417,right:1134,bottom:1134,left:1134},children:n}),docx.Packer.toBlob(t).then((e=>{new FileReader,Zn(e,"example.docx")}))}}},Mn=(e,t)=>{var n,i,r;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=Bn[e],i=document.createElement("a"),t.refresh(!0),s.next=5,regeneratorRuntime.awrap(Promise.resolve(n.encode(t)));case 5:if(r=s.sent,console.log(r),r){s.next=9;break}return s.abrupt("return");case 9:i.setAttribute("href",`data:${n.mimetype};charset=utf-8,${encodeURIComponent(r)}`),i.setAttribute("download",xn.file.name+"."+e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i);case 15:case"end":return s.stop()}}),null,null,null,Promise)},jn={paragraph:e=>`${e}<br>`},Vn={};var In="0.1.1";function Un(e){let t,n,r,s,o,l,c,u,h,f,d,p,O,v,w,k,D,A,C,T=e[1]("about.text")+"",W=e[1]("about.contact")+"",R=e[1]("dialogs.ok")+"";return{c(){t=b("div"),n=b("h3"),n.textContent=`Lgcjs - v. ${In}`,r=x(),s=b("img"),l=x(),c=b("br"),u=x(),h=b("p"),f=x(),d=b("p"),p=Q(W),O=Q(": "),v=b("a"),v.textContent="luc.fabbian@gmail.com",w=x(),k=b("button"),D=Q(R),s.src!==(o="./static/img/logo.png")&&S(s,"src","./static/img/logo.png"),S(s,"alt","Lgcjs logo"),S(s,"class","svelte-1c8t0kd"),S(h,"class","svelte-1c8t0kd"),S(v,"target","_blank"),S(v,"rel","noopener"),S(v,"href","mailto:luc.fabbian@gmail.com?subject=Lgcjs%20-%20Segnalazione"),S(d,"class","svelte-1c8t0kd"),S(k,"class","ok svelte-1c8t0kd"),S(t,"class","dialog svelte-1c8t0kd")},m(i,o){m(i,t,o),g(t,n),g(t,r),g(t,s),g(t,l),g(t,c),g(t,u),g(t,h),h.innerHTML=T,g(t,f),g(t,d),g(d,p),g(d,O),g(d,v),g(t,w),g(t,k),g(k,D),A||(C=$(k,"click",e[3]),A=!0)},p(e,t){let n=i(t,1)[0];2&n&&T!==(T=e[1]("about.text")+"")&&(h.innerHTML=T),2&n&&W!==(W=e[1]("about.contact")+"")&&P(p,W),2&n&&R!==(R=e[1]("dialogs.ok")+"")&&P(D,R)},i:a,o:a,d(e){e&&y(t),A=!1,C()}}}function Nn(e,t,n){let i;p(e,on,(e=>n(1,i=e)));let r=t.params,s=t.callback;return e.$$set=e=>{"params"in e&&n(2,r=e.params),"callback"in e&&n(0,s=e.callback)},[s,i,r,()=>s(!0)]}class Gn extends ue{constructor(e){super(),ce(this,e,Nn,Un,f,{params:2,callback:0})}}function Hn(e){let t;return{c(){t=b("div"),t.innerHTML="<p>Loading graph...</p>",S(t,"class","dialog")},m(e,n){m(e,t,n)},p:a,d(e){e&&y(t)}}}function Kn(e){let t,n,i,r,s;return{c(){t=b("div"),n=b("img"),S(n,"class","center-fit svelte-1shfdyx"),n.src!==(i=e[3])&&S(n,"src",i),S(n,"alt","book graph"),S(t,"class","imgbox svelte-1shfdyx")},m(i,o){m(i,t,o),g(t,n),r||(s=$(t,"click",e[5]),r=!0)},p(e,t){8&t&&n.src!==(i=e[3])&&S(n,"src",i)},d(e){e&&y(t),r=!1,s()}}}function Jn(e){let t;function n(e,t){return e[1]?Kn:e[2]?Hn:void 0}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=w()},m(e,n){s&&s.m(e,n),m(e,t,n)},p(e,o){let a=i(o,1)[0];r===(r=n(e))&&s?s.p(e,a):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},i:a,o:a,d(e){s&&s.d(e),e&&y(t)}}}function ei(e,t,n){let i,r=t.params,s=t.callback,o=!1,a=!1;F(r.subscribe((e=>regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n(1,o=!1),n(2,a=!1),setTimeout((()=>{n(2,a=!0)}),2500),t.t0=n,t.next=6,regeneratorRuntime.awrap(Promise.resolve(e[0]));case 6:t.t1=i=t.sent,(0,t.t0)(3,t.t1),n(1,o=!0);case 9:case"end":return t.stop()}}),null,null,null,Promise))));return e.$$set=e=>{"params"in e&&n(4,r=e.params),"callback"in e&&n(0,s=e.callback)},[s,o,a,i,r,()=>s(!1)]}class ti extends ue{constructor(e){super(),ce(this,e,ei,Jn,f,{params:4,callback:0})}}function ni(e,t,n){const i=e.slice();return i[13]=t[n],i}function ii(e,t,n){const i=e.slice();return i[16]=t[n],i}function ri(e){let t,n,i,r=e[16]+"";return{c(){t=b("option"),n=Q(r),t.__value=i=e[16],t.value=t.__value},m(e,i){m(e,t,i),g(t,n)},p(e,s){16&s&&r!==(r=e[16]+"")&&P(n,r),16&s&&i!==(i=e[16])&&(t.__value=i,t.value=t.__value)},d(e){e&&y(t)}}}function si(e){let t,n,i;function r(){return e[11](e[13])}return{c(){t=b("div"),t.innerHTML=`<img alt="${e[13]}" src="./static/img/flags/${e[13]}.png" class="svelte-1ergg8"/> \n      `,S(t,"class","svelte-1ergg8"),R(t,"selected",e[3][e[13]])},m(e,s){m(e,t,s),n||(i=$(t,"click",r),n=!0)},p(n,i){e=n,8&i&&R(t,"selected",e[3][e[13]])},d(e){e&&y(t),n=!1,i()}}}function oi(e){let t,n,r,s,o,l,c,h,f,d,p,O,w,k,D,W,R,_,E,X,F,z,Y,L,Z,q,B,M,j,I,U,N,G=e[5]("dialogs.shuffle.title")+"",H=e[5]("dialogs.shuffle.hint")+"",K=e[5]("dialogs.shuffle.group")+"",J=e[5]("sidemenu.allgroup")+"",ee=e[5]("dialogs.shuffle.flags")+"",te=e[5]("dialogs.ok")+"",ne=e[5]("dialogs.cancel")+"",ie=e[4],re=[];for(let t=0;t<ie.length;t+=1)re[t]=ri(ii(e,ie,t));let se=["final","fixed","death"],oe=[];for(let t=0;t<3;t+=1)oe[t]=si(ni(e,se,t));return{c(){t=b("div"),n=b("h3"),r=Q(G),s=x(),o=b("p"),l=Q(H),c=x(),h=b("h4"),f=Q(K),d=Q(":"),p=x(),O=b("div"),w=b("input"),k=x(),D=b("span"),W=b("select"),R=b("option"),_=Q(J);for(let e=0;e<re.length;e+=1)re[e].c();E=x(),X=b("h4"),F=Q(ee),z=Q(":"),Y=x(),L=b("div");for(let e=0;e<3;e+=1)oe[e].c();Z=x(),q=b("button"),B=Q(te),M=x(),j=b("button"),I=Q(ne),S(h,"class","svelte-1ergg8"),S(w,"type","text"),S(w,"class","svelte-1ergg8"),R.__value="allgroupidtag",R.value=R.__value,void 0===e[1]&&V((()=>e[10].call(W))),S(D,"class","select-dropdown svelte-1ergg8"),C(D,"margin-left","5px"),S(O,"class","input svelte-1ergg8"),S(X,"class","svelte-1ergg8"),S(L,"class","flags svelte-1ergg8"),S(q,"class","ok"),S(j,"class","cancel"),S(t,"class","dialog svelte-1ergg8")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(t,s),g(t,o),g(o,l),g(t,c),g(t,h),g(h,f),g(h,d),g(t,p),g(t,O),g(O,w),A(w,e[2]),g(O,k),g(O,D),g(D,W),g(W,R),g(R,_);for(let e=0;e<re.length;e+=1)re[e].m(W,null);T(W,e[1]),g(t,E),g(t,X),g(X,F),g(X,z),g(t,Y),g(t,L);for(let e=0;e<3;e+=1)oe[e].m(L,null);g(t,Z),g(t,q),g(q,B),g(t,M),g(t,j),g(j,I),U||(N=[$(w,"input",e[9]),$(W,"change",e[10]),$(q,"click",e[6]),$(j,"click",e[12])],U=!0)},p(e,t){let n=i(t,1)[0];if(32&n&&G!==(G=e[5]("dialogs.shuffle.title")+"")&&P(r,G),32&n&&H!==(H=e[5]("dialogs.shuffle.hint")+"")&&P(l,H),32&n&&K!==(K=e[5]("dialogs.shuffle.group")+"")&&P(f,K),4&n&&w.value!==e[2]&&A(w,e[2]),32&n&&J!==(J=e[5]("sidemenu.allgroup")+"")&&P(_,J),16&n){let t;for(ie=e[4],t=0;t<ie.length;t+=1){const i=ii(e,ie,t);re[t]?re[t].p(i,n):(re[t]=ri(i),re[t].c(),re[t].m(W,null))}for(;t<re.length;t+=1)re[t].d(1);re.length=ie.length}if(18&n&&T(W,e[1]),32&n&&ee!==(ee=e[5]("dialogs.shuffle.flags")+"")&&P(F,ee),8&n){let t;for(se=["final","fixed","death"],t=0;t<3;t+=1){const i=ni(e,se,t);oe[t]?oe[t].p(i,n):(oe[t]=si(i),oe[t].c(),oe[t].m(L,null))}for(;t<3;t+=1)oe[t].d(1)}32&n&&te!==(te=e[5]("dialogs.ok")+"")&&P(B,te),32&n&&ne!==(ne=e[5]("dialogs.cancel")+"")&&P(I,ne)},i:a,o:a,d(e){e&&y(t),v(re,e),v(oe,e),U=!1,u(N)}}}function ai(e,t,n){let i,r,s;p(e,Qn,(e=>n(8,r=e))),p(e,on,(e=>n(5,s=e)));let o=t.params,a=t.callback,l="",c={final:!1,fixed:!1,death:!1},u="allgroupidtag";return e.$$set=e=>{"params"in e&&n(7,o=e.params),"callback"in e&&n(0,a=e.callback)},e.$$.update=()=>{256&e.$$.dirty&&n(4,i=[...new Set(Object.values(r.chapters).map((e=>e.group||"")))].filter((e=>e&&""!=e))),6&e.$$.dirty&&"allgroupidtag"!=u&&(n(2,l+=u+", "),j().then((()=>{n(1,u="allgroupidtag")})))},[a,u,l,c,i,s,()=>{const e=Object.keys(c).filter((e=>c[e])),t=l.split(",").map((e=>e.trim())).filter((e=>e));xn.open({file:{name:xn.file.name},data:Qn.shuffle(e,t,!0)})},o,r,function(){l=this.value,n(2,l),n(1,u)},function(){u=W(this),n(1,u),n(2,l),n(4,i),n(8,r)},e=>n(3,c[e]=!c[e],c),()=>a(!1)]}class li extends ue{constructor(e){super(),ce(this,e,ai,oi,f,{params:7,callback:0})}}function ci(e){let t,n,r,s,o,l,c,h,f,d,p,O,v,w,k,D,T,W,R,_,E,X,F,z,Y,L=e[3]("dialogs.newbook.new")+"",Z=e[3]("dialogs.newbook.title")+"",q=e[3]("dialogs.newbook.author")+"",B=e[3]("dialogs.newbook.hint")+"",M=e[3]("dialogs.ok")+"",j=e[3]("dialogs.cancel")+"";return{c(){t=b("div"),n=b("h3"),r=Q(L),s=x(),o=b("div"),l=b("span"),c=Q(Z),h=x(),f=b("input"),d=x(),p=b("div"),O=b("span"),v=Q(q),w=x(),k=b("input"),D=x(),T=b("p"),W=x(),R=b("button"),_=Q(M),E=x(),X=b("button"),F=Q(j),S(l,"class","svelte-a6dheh"),S(f,"type","text"),S(f,"class","svelte-a6dheh"),S(o,"class","input svelte-a6dheh"),S(O,"class","svelte-a6dheh"),S(k,"type","text"),S(k,"class","svelte-a6dheh"),S(p,"class","input svelte-a6dheh"),C(T,"margin","1rem 0"),S(R,"class","ok"),S(X,"class","cancel"),S(t,"class","dialog")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(t,s),g(t,o),g(o,l),g(l,c),g(o,h),g(o,f),A(f,e[1]),g(t,d),g(t,p),g(p,O),g(O,v),g(p,w),g(p,k),A(k,e[2]),g(t,D),g(t,T),T.innerHTML=B,g(t,W),g(t,R),g(R,_),g(t,E),g(t,X),g(X,F),z||(Y=[$(f,"input",e[6]),$(k,"input",e[7]),$(R,"click",e[8]),$(X,"click",e[9])],z=!0)},p(e,t){let n=i(t,1)[0];8&n&&L!==(L=e[3]("dialogs.newbook.new")+"")&&P(r,L),8&n&&Z!==(Z=e[3]("dialogs.newbook.title")+"")&&P(c,Z),2&n&&f.value!==e[1]&&A(f,e[1]),8&n&&q!==(q=e[3]("dialogs.newbook.author")+"")&&P(v,q),4&n&&k.value!==e[2]&&A(k,e[2]),8&n&&B!==(B=e[3]("dialogs.newbook.hint")+"")&&(T.innerHTML=B),8&n&&M!==(M=e[3]("dialogs.ok")+"")&&P(_,M),8&n&&j!==(j=e[3]("dialogs.cancel")+"")&&P(F,j)},i:a,o:a,d(e){e&&y(t),z=!1,u(Y)}}}function ui(e,t,n){let i;p(e,on,(e=>n(3,i=e)));let r,s,o=t.params,a=t.callback;const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Book",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Magebook editor";xn.open({file:{name:e},data:{key:"1",properties:{title:e,author:t,revision:"0"},chapters:{intro:{title:"Introduction",text:"",flags:[]},rules:{title:"Rules",text:"",flags:[]},1:{title:"",text:"",flags:[]}}}})};return e.$$set=e=>{"params"in e&&n(5,o=e.params),"callback"in e&&n(0,a=e.callback)},[a,r,s,i,l,o,function(){r=this.value,n(1,r)},function(){s=this.value,n(2,s)},()=>l(r,s),()=>a(!1)]}class hi extends ue{constructor(e){super(),ce(this,e,ui,ci,f,{params:5,callback:0})}}function fi(e,t,n){const i=e.slice();return i[5]=t[n],i}function di(e){return{c:a,m:a,p:a,d:a}}function pi(e){let t,n=e[4],i=[];for(let t=0;t<n.length;t+=1)i[t]=Oi(fi(e,n,t));return{c(){t=b("ul");for(let e=0;e<i.length;e+=1)i[e].c();S(t,"class","svelte-1yawr3v")},m(e,n){m(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,r){if(0&r){let s;for(n=e[4],s=0;s<n.length;s+=1){const o=fi(e,n,s);i[s]?i[s].p(o,r):(i[s]=Oi(o),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(e){e&&y(t),v(i,e)}}}function Oi(e){let t,n,i,r,s,o,l,c,u,h,f=e[5].name+"",d=e[5].revision+"",p=e[5].time.toLocaleDateString()+"",O=e[5].time.toLocaleTimeString()+"";return{c(){t=b("li"),n=b("a"),i=Q(f),r=Q(" (rev. "),s=Q(d),o=Q(")\n        "),l=b("span"),c=Q(p),u=x(),h=Q(O),S(l,"class","svelte-1yawr3v"),S(n,"href","#msession="+e[5].id),S(n,"class","svelte-1yawr3v"),S(t,"class","svelte-1yawr3v")},m(e,a){m(e,t,a),g(t,n),g(n,i),g(n,r),g(n,s),g(n,o),g(n,l),g(l,c),g(l,u),g(l,h)},p:a,d(e){e&&y(t)}}}function gi(e){let t;return{c(){t=Q("Loading...")},m(e,n){m(e,t,n)},p:a,d(e){e&&y(t)}}}function mi(e){let t,n,r,s,o,l,c,u,h,f=e[1]("navbar.file.recover")+"",d=e[1]("dialogs.cancel")+"",p={ctx:e,current:null,token:null,hasCatch:!1,pending:gi,then:pi,catch:di,value:4};return function(e,t){const n=t.token={};function i(e,i,r,s){if(t.token!==n)return;t.resolved=s;let o=t.ctx;void 0!==r&&(o=o.slice(),o[r]=s);const a=e&&(t.current=e)(o);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==i&&e&&(ee(),ie(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),te())})):t.block.d(1),a.c(),ne(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[i]=a),l&&G()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=X();if(e.then((e=>{E(n),i(t.then,1,t.value,e),E(null)}),(e=>{if(E(n),i(t.catch,2,t.error,e),E(null),!t.hasCatch)throw e})),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved=e}var r}(regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(bn.sessions.orderBy("preview").keys());case 2:return e.abrupt("return",e.sent.reverse().map((e=>({time:new Date(Number(e.substr(0,30))),id:e.substr(31,20),revision:String(Number(e.substr(52,6))),name:e.substr(59,30)}))));case 3:case"end":return e.stop()}}),null,null,null,Promise),p),{c(){t=b("div"),n=b("h3"),r=Q(f),s=x(),p.block.c(),o=x(),l=b("button"),c=Q(d),S(l,"class","cancel"),S(t,"class","dialog")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(t,s),p.block.m(t,p.anchor=null),p.mount=()=>t,p.anchor=o,g(t,o),g(t,l),g(l,c),u||(h=$(l,"click",e[3]),u=!0)},p(t,n){let s=i(n,1)[0];e=t,2&s&&f!==(f=e[1]("navbar.file.recover")+"")&&P(r,f);{const t=e.slice();t[4]=p.resolved,p.block.p(t,s)}2&s&&d!==(d=e[1]("dialogs.cancel")+"")&&P(c,d)},i:a,o:a,d(e){e&&y(t),p.block.d(),p.token=null,p=null,u=!1,h()}}}function yi(e,t,n){let i;p(e,on,(e=>n(1,i=e)));let r=t.params,s=t.callback;return e.$$set=e=>{"params"in e&&n(2,r=e.params),"callback"in e&&n(0,s=e.callback)},[s,i,r,()=>s(!1)]}class vi extends ue{constructor(e){super(),ce(this,e,yi,mi,f,{params:2,callback:0})}}function bi(e){let t,n,r,s,o,l,c,h,f,d,p,O,v,w,k,D,A,C,T,W,R,_,E,X,F,z,Y,L,Z,q,B,M,j,V,I,U,N,G,H,K,J,ee,te,ne,ie,re,se,oe,ae,le,ce,ue,he,fe,de,pe,Oe,ge,me,ye,ve,be,Qe,xe,we,$e,ke,Se,De=e[1]("navbar.file.title")+"",Pe=e[1]("navbar.file.new")+"",Ae=e[1]("navbar.file.open")+"",Ce=e[1]("navbar.file.save")+"",Te=e[1]("navbar.file.recover")+"",We=e[1]("navbar.book.title")+"",Re=e[1]("navbar.book.graph")+"",_e=e[1]("navbar.book.shuffle")+"",Ee=e[1]("navbar.export.title")+"",Xe=e[1]("navbar.export.docx")+"",Fe=e[1]("navbar.export.fodt")+"",ze=e[1]("navbar.export.xlgc")+"",Ye=e[1]("navbar.export.vuejs")+"",Le=e[1]("navbar.help.title")+"",Ze=e[1]("navbar.help.guide")+"",qe=e[1]("navbar.help.forum")+"",Be=e[1]("navbar.help.about")+"";return{c(){t=b("nav"),n=b("div"),r=b("h1"),s=Q(De),o=x(),l=b("div"),c=b("p"),h=Q(Pe),f=x(),d=b("input"),p=x(),O=b("label"),v=Q(Ae),w=x(),k=b("p"),D=Q(Ce),A=x(),C=b("p"),T=Q(Te),W=x(),R=b("div"),_=b("h1"),E=Q(We),X=x(),F=b("div"),z=b("p"),Y=Q(Re),L=x(),Z=b("p"),q=Q(_e),B=x(),M=b("div"),j=b("h1"),V=Q(Ee),I=x(),U=b("div"),N=b("p"),G=Q(Xe),H=x(),K=b("p"),J=Q(Fe),ee=x(),te=b("p"),ne=Q(ze),ie=x(),re=b("p"),se=Q(Ye),oe=x(),ae=b("div"),le=b("h1"),ce=Q(Le),ue=x(),he=b("div"),fe=b("a"),de=Q(Ze),Oe=x(),ge=b("a"),me=Q(qe),ye=x(),ve=b("p"),be=Q(Be),Qe=x(),xe=b("div"),we=b("span"),S(r,"class","svelte-1q11ox2"),S(c,"class","svelte-1q11ox2"),S(d,"type","file"),S(d,"name","open"),S(d,"id","open"),S(d,"accept",".xlgc,.md"),S(d,"class","svelte-1q11ox2"),S(O,"for","open"),S(O,"class","svelte-1q11ox2"),S(k,"class","svelte-1q11ox2"),S(C,"class","svelte-1q11ox2"),S(l,"class","content svelte-1q11ox2"),S(n,"class","svelte-1q11ox2"),S(_,"class","svelte-1q11ox2"),S(z,"class","svelte-1q11ox2"),S(Z,"class","svelte-1q11ox2"),S(F,"class","content svelte-1q11ox2"),S(R,"class","svelte-1q11ox2"),S(j,"class","svelte-1q11ox2"),S(N,"class","svelte-1q11ox2"),S(K,"class","svelte-1q11ox2"),S(te,"class","svelte-1q11ox2"),S(re,"class","svelte-1q11ox2"),S(U,"class","content svelte-1q11ox2"),S(M,"class","svelte-1q11ox2"),S(le,"class","svelte-1q11ox2"),S(fe,"href",pe="../guide/pdf/"+e[1]("navbar.help.guidefile")),S(fe,"target","_blank"),S(fe,"rel","noopener"),S(fe,"class","svelte-1q11ox2"),S(ge,"href","http://www.librogame.net/index.php/forum/topic?id=5182&p=1#p148583"),S(ge,"target","_blank"),S(ge,"rel","noopener"),S(ge,"class","svelte-1q11ox2"),S(ve,"class","svelte-1q11ox2"),S(he,"class","content svelte-1q11ox2"),S(ae,"class","svelte-1q11ox2"),S(we,"aria-label",$e=e[1]("sidemenu.toggle")),S(we,"class","dropbtn icon-menu svelte-1q11ox2"),S(xe,"class","sidemenu-button svelte-1q11ox2"),S(t,"class","svelte-1q11ox2")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(r,s),g(n,o),g(n,l),g(l,c),g(c,h),g(l,f),g(l,d),g(l,p),g(l,O),g(O,v),g(l,w),g(l,k),g(k,D),g(l,A),g(l,C),g(C,T),g(t,W),g(t,R),g(R,_),g(_,E),g(R,X),g(R,F),g(F,z),g(z,Y),g(F,L),g(F,Z),g(Z,q),g(t,B),g(t,M),g(M,j),g(j,V),g(M,I),g(M,U),g(U,N),g(N,G),g(U,H),g(U,K),g(K,J),g(U,ee),g(U,te),g(te,ne),g(U,ie),g(U,re),g(re,se),g(t,oe),g(t,ae),g(ae,le),g(le,ce),g(ae,ue),g(ae,he),g(he,fe),g(fe,de),g(he,Oe),g(he,ge),g(ge,me),g(he,ye),g(he,ve),g(ve,be),g(t,Qe),g(t,xe),g(xe,we),ke||(Se=[$(c,"click",e[2]),$(d,"change",e[3]),$(k,"click",e[4]),$(C,"click",e[5]),$(z,"click",e[6]),$(Z,"click",e[7]),$(N,"click",e[8]),$(K,"click",e[9]),$(te,"click",e[10]),$(ve,"click",e[11]),$(we,"click",e[12])],ke=!0)},p(e,t){let n=i(t,1)[0];2&n&&De!==(De=e[1]("navbar.file.title")+"")&&P(s,De),2&n&&Pe!==(Pe=e[1]("navbar.file.new")+"")&&P(h,Pe),2&n&&Ae!==(Ae=e[1]("navbar.file.open")+"")&&P(v,Ae),2&n&&Ce!==(Ce=e[1]("navbar.file.save")+"")&&P(D,Ce),2&n&&Te!==(Te=e[1]("navbar.file.recover")+"")&&P(T,Te),2&n&&We!==(We=e[1]("navbar.book.title")+"")&&P(E,We),2&n&&Re!==(Re=e[1]("navbar.book.graph")+"")&&P(Y,Re),2&n&&_e!==(_e=e[1]("navbar.book.shuffle")+"")&&P(q,_e),2&n&&Ee!==(Ee=e[1]("navbar.export.title")+"")&&P(V,Ee),2&n&&Xe!==(Xe=e[1]("navbar.export.docx")+"")&&P(G,Xe),2&n&&Fe!==(Fe=e[1]("navbar.export.fodt")+"")&&P(J,Fe),2&n&&ze!==(ze=e[1]("navbar.export.xlgc")+"")&&P(ne,ze),2&n&&Ye!==(Ye=e[1]("navbar.export.vuejs")+"")&&P(se,Ye),2&n&&Le!==(Le=e[1]("navbar.help.title")+"")&&P(ce,Le),2&n&&Ze!==(Ze=e[1]("navbar.help.guide")+"")&&P(de,Ze),2&n&&pe!==(pe="../guide/pdf/"+e[1]("navbar.help.guidefile"))&&S(fe,"href",pe),2&n&&qe!==(qe=e[1]("navbar.help.forum")+"")&&P(me,qe),2&n&&Be!==(Be=e[1]("navbar.help.about")+"")&&P(be,Be),2&n&&$e!==($e=e[1]("sidemenu.toggle"))&&S(we,"aria-label",$e)},i:a,o:a,d(e){e&&y(t),ke=!1,u(Se)}}}function Qi(e,t,n){let i;p(e,on,(e=>n(1,i=e))),(e=>{const t=e.get(),n=t.chapters;t.properties,An.use({renderer:jn}),An.use({renderer:Vn}),e.sortedKeys(n).forEach((e=>{An(n[e].text.replace(/\n/g,"\n\n"))}))})(Qn);let r=t.showSidemenu,s=void 0!==r&&r;pn({N:()=>newClick(),S:()=>Mn("md",Qn),O:()=>document.getElementById("open").click()});return e.$$set=e=>{"showSidemenu"in e&&n(0,s=e.showSidemenu)},[s,i,()=>un(hi),e=>(e=>{const t=e.files[0],n=t.name,i=new FileReader;i.onload=()=>{const t=n.substr(n.lastIndexOf(".")+1);["md","xlgc"].includes(t)?(xn.open({file:{name:n.substr(0,n.lastIndexOf("."))},data:Bn[t].decode(i.result)}),e.value=""):console.error("Unsupported format")},i.readAsText(t)})(e.target),()=>Mn("md",Qn),()=>un(vi),()=>un(ti,(e=>{var t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap($n.renderImageElement(kn(e)));case 2:return t=n.sent,n.abrupt("return",t.getAttribute("src"));case 4:case"end":return n.stop()}}),null,null,null,Promise)})(Qn)),()=>un(li),()=>Mn("docx",Qn),()=>Mn("fodt",Qn),()=>Mn("xlgc",Qn),()=>un(Gn),()=>n(0,s=!s)]}class xi extends ue{constructor(e){super(),ce(this,e,Qi,bi,f,{showSidemenu:0})}}let wi="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<wi.length;e++)wi[e]+=wi[e-1];function $i(e){for(let t=1;t<wi.length;t+=2)if(wi[t]>e)return wi[t-1]<=e;return!1}function ki(e){return e>=127462&&e<=127487}function Si(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(n?Di:Pi)(e,t)}function Di(e,t){if(t==e.length)return t;t&&Ai(e.charCodeAt(t))&&Ci(e.charCodeAt(t-1))&&t--;let n=Ti(e,t);for(t+=Ri(n);t<e.length;){let i=Ti(e,t);if(8205==n||8205==i||$i(i))t+=Ri(i),n=i;else{if(!ki(i))break;{let n=0,i=t-2;for(;i>=0&&ki(Ti(e,i));)n++,i-=2;if(n%2==0)break;t+=2}}}return t}function Pi(e,t){for(;t>0;){let n=Di(e,t-2);if(n<t)return n;t--}return 0}function Ai(e){return e>=56320&&e<57344}function Ci(e){return e>=55296&&e<56320}function Ti(e,t){let n=e.charCodeAt(t);if(!Ci(n)||t+1==e.length)return n;let i=e.charCodeAt(t+1);return Ai(i)?i-56320+(n-55296<<10)+65536:n}function Wi(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Ri(e){return e<65536?1:2}function _i(e,t,n){for(let i=0;i<e.length;)9==e.charCodeAt(i)?(t+=n-t%n,i++):(t++,i=Si(e,i));return t}function Ei(e,t,n,i){for(let r=0;r<e.length;){if(t>=n)return{offset:r,leftOver:0};t+=9==e.charCodeAt(r)?i-t%i:1,r=Si(e,r)}return{offset:e.length,leftOver:n-t}}class Xi{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),zi.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(e,t,n,0),zi.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=new Zi(this),n=new Zi(e);for(;;){if(t.next(),n.next(),t.lineBreak!=n.lineBreak||t.done!=n.done||t.value!=n.value)return!1;if(t.done)return!0}}iter(){return new Zi(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}iterRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new qi(this,e,t)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new Fi(e):zi.from(Fi.split(e,[])):Xi.empty}}"undefined"!=typeof Symbol&&(Xi.prototype[Symbol.iterator]=function(){return this.iter()});class Fi extends Xi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){let t=-1;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){t+=n.value.length+1}}catch(e){i.e(e)}finally{i.f()}return t}(e);super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let r=0;;r++){let s=this.text[r],o=i+s.length;if((t?n:o)>=e)return new Bi(i,o,n,s);i=o+1,n++}}decompose(e,t,n,i){let r=e<=0&&t>=this.length?this:new Fi(Li(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let e=n.pop(),t=Yi(r.text,e.text.slice(),0,r.length);if(t.length<=32)n.push(new Fi(t,e.length+r.length));else{let e=t.length>>1;n.push(new Fi(t.slice(0,e)),new Fi(t.slice(e)))}}else n.push(r)}replace(e,t,n){if(!(n instanceof Fi))return super.replace(e,t,n);let i=Yi(this.text,Yi(n.text,Li(this.text,0,e)),t),r=this.length+n.length-(t-e);return i.length<=32?new Fi(i,r):zi.from(Fi.split(i,[]),r)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",i="";for(let r=0,s=0;r<=t&&s<this.text.length;s++){let o=this.text[s],a=r+o.length;r>e&&s&&(i+=n),e<a&&t>r&&(i+=o.slice(Math.max(0,e-r),t-r)),r=a+1}return i}flatten(e){var t,n=o(this.text);try{for(n.s();!(t=n.n()).done;){let n=t.value;e.push(n)}}catch(e){n.e(e)}finally{n.f()}}static split(e,t){let n=[],i=-1;var r,s=o(e);try{for(s.s();!(r=s.n()).done;){let e=r.value;n.push(e),i+=e.length+1,32==n.length&&(t.push(new Fi(n,i)),n=[],i=-1)}}catch(e){s.e(e)}finally{s.f()}return i>-1&&t.push(new Fi(n,i)),t}}class zi extends Xi{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value;this.lines+=e.lines}}catch(e){i.e(e)}finally{i.f()}}lineInner(e,t,n,i){for(let r=0;;r++){let s=this.children[r],o=i+s.length,a=n+s.lines-1;if((t?a:o)>=e)return s.lineInner(e,t,n,i);i=o+1,n=a+1}}decompose(e,t,n,i){for(let r=0,s=0;s<=t&&r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e<=a&&t>=s){let r=i&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!r?n.push(o):o.decompose(e-s,t-s,n,r)}s=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let s=this.children[i],o=r+s.length;if(e>=r&&t<=o){let a=s.replace(e-r,t-r,n),l=this.lines-s.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let r=this.children.slice();return r[i]=a,new zi(r,this.length-(t-e)+n.length)}return super.replace(r,o,a)}r=o+1}return super.replace(e,t,n)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",i="";for(let r=0,s=0;r<this.children.length&&s<=t;r++){let o=this.children[r],a=s+o.length;s>e&&r&&(i+=n),e<a&&t>s&&(i+=o.sliceString(e-s,t-s,n)),s=a+1}return i}flatten(e){var t,n=o(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(e){n.e(e)}finally{n.f()}}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce(((e,t)=>e+t.length+1),-1),n=0;var i,r=o(e);try{for(r.s();!(i=r.n()).done;){n+=i.value.lines}}catch(e){r.e(e)}finally{r.f()}if(n<32){let n=[];var s,a=o(e);try{for(a.s();!(s=a.n()).done;){s.value.flatten(n)}}catch(e){a.e(e)}finally{a.f()}return new Fi(n,t)}let l=Math.max(32,n>>5),c=l<<1,u=l>>1,h=[],f=0,d=-1,p=[];function O(e){let t;if(e.lines>c&&e instanceof zi){var n,i=o(e.children);try{for(i.s();!(n=i.n()).done;){O(n.value)}}catch(e){i.e(e)}finally{i.f()}}else e.lines>u&&(f>u||!f)?(g(),h.push(e)):e instanceof Fi&&f&&(t=p[p.length-1])instanceof Fi&&e.lines+t.lines<=32?(f+=e.lines,d+=e.length+1,p[p.length-1]=new Fi(t.text.concat(e.text),t.length+1+e.length)):(f+e.lines>l&&g(),f+=e.lines,d+=e.length+1,p.push(e))}function g(){0!=f&&(h.push(1==p.length?p[0]:zi.from(p,d)),d=-1,f=p.length=0)}var m,y=o(e);try{for(y.s();!(m=y.n()).done;){O(m.value)}}catch(e){y.e(e)}finally{y.f()}return g(),1==h.length?h[0]:new zi(h,t)}}function Yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9;for(let r=0,s=0,o=!0;s<e.length&&r<=i;s++){let a=e[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(t[t.length-1]+=a,o=!1):t.push(a)),r=l+1}return t}function Li(e,t,n){return Yi(e,[""],t,n)}Xi.empty=new Fi([""],0);class Zi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?0:e instanceof Fi?e.text.length:e.children.length]}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;for(;;){let t=this.nodes.length-1;if(t<0)return this.done=!0,this.value="",this.lineBreak=!1,this;let n=this.nodes[t],i=this.offsets[t],r=n instanceof Fi?n.text.length:n.children.length;if(i==(this.dir>0?r:0))this.nodes.pop(),this.offsets.pop();else if(this.lineBreak||i==(this.dir>0?0:r))if(n instanceof Fi){let r=n.text[i-(this.dir<0?1:0)];if(this.offsets[t]=i+=this.dir,this.lineBreak=!1,r.length>Math.max(0,e))return this.value=0==e?r:this.dir>0?r.slice(e):r.slice(0,r.length-e),this;e-=r.length}else{let r=n.children[this.dir>0?i:i-1];this.offsets[t]=i+this.dir,this.lineBreak=!1,e>r.length?e-=r.length:(this.nodes.push(r),this.offsets.push(this.dir>0?0:r instanceof Fi?r.text.length:r.children.length))}else{if(this.lineBreak=!0,0==e)return this.value="\n",this;e--}}}}class qi{constructor(e,t,n){this.value="",this.cursor=new Zi(e,t>n?-1:1),t>n?(this.skip=e.length-t,this.limit=t-n):(this.skip=t,this.limit=n-t)}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.limit<=0)this.limit=-1;else{let t=this.cursor.next(this.skip+e),n=t.value,i=t.lineBreak,r=t.done;this.skip=0,this.value=n;let s=i?1:n.length;s>this.limit&&(this.value=this.cursor.dir>0?n.slice(0,this.limit):n.slice(s-this.limit)),r||0==this.value.length?this.limit=-1:this.limit-=this.value.length}return this}get lineBreak(){return this.cursor.lineBreak}get done(){return this.limit<0}}class Bi{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}const Mi=/\r\n?|\n/;var ji;!function(e){e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter"}(ji||(ji={}));class Vi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];s<0?(e(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(e){Gi(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new Vi(e)}composeDesc(e){return this.empty?e:e.empty?this:Ki(this,e)}mapDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:Hi(this,e,t)}mapPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ji.Simple,i=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=i+o;if(a<0){if(l>e)return r+(e-i);r+=o}else{if(n!=ji.Simple&&l>=e&&(n==ji.TrackDel&&i<e&&l>e||n==ji.TrackBefore&&i<e||n==ji.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==i||t<0?r:r+a;r+=a}i=l}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return r}touchesRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;for(let n=0,i=0;n<this.sections.length&&i<=t;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=t&&r>=e)return!(i<e&&r>t)||"cover";i=r}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}}class Ii extends Vi{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Gi(this,((t,n,i,r,s)=>e=e.replace(i,i+(n-t),s)),!1),e}mapDesc(e){return Hi(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,r=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o>=0){t[i]=o,t[i+1]=s;let a=i>>1;for(;n.length<a;)n.push(Xi.empty);n.push(s?e.slice(r,r+s):Xi.empty)}r+=s}return new Ii(t,n)}compose(e){return this.empty?e:e.empty?this:Ki(this,e,!0)}map(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:Hi(this,e,t,!0)}iterChanges(e){Gi(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get desc(){return new Vi(this.sections)}filter(e){let t=[],n=[],i=[],r=new Ji(this);e:for(let s=0,o=0;;){let a=s==e.length?1e9:e[s++];for(;o<a||o==a&&0==r.len;){if(r.done)break e;let e=Math.min(r.len,a-o);Ui(i,e,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;Ui(t,e,s),s>0&&Ni(n,t,r.text),r.forward(e),o+=e}let l=e[s++];for(;o<l;){if(r.done)break e;let e=Math.min(r.len,l-o);Ui(t,e,-1),Ui(i,e,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(e),o+=e}}return{changes:new Ii(t,n),filtered:new Vi(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):0==i?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],r=[],s=0,a=null;function l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e&&!i.length)return;s<t&&Ui(i,t-s,-1);let n=new Ii(i,r);a=a?a.compose(n.map(a)):n,i=[],r=[],s=0}return function e(c){if(Array.isArray(c)){var u,h=o(c);try{for(h.s();!(u=h.n()).done;){e(u.value)}}catch(e){h.e(e)}finally{h.f()}}else if(c instanceof Ii){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let e=c.from,o=c.to,a=void 0===o?e:o,u=c.insert;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let h=u?"string"==typeof u?Xi.of(u.split(n||Mi)):u:Xi.empty,f=h.length;if(e==a&&0==f)return;e<s&&l(),e>s&&Ui(i,e-s,-1),Ui(i,a-e,f),Ni(r,i,h),s=a}}(e),l(!a),a}static empty(e){return new Ii(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let r=e[i];if("number"==typeof r)t.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)t.push(r[0],0);else{for(;n.length<i;)n.push(Xi.empty);n[i]=Xi.of(r.slice(1)),t.push(r[0],n[i].length)}}}return new Ii(t,n)}}function Ui(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0==t&&n<=0)return;let r=e.length-2;r>=0&&n<=0&&n==e[r+1]?e[r]+=t:0==t&&0==e[r]?e[r+1]+=n:i?(e[r]+=t,e[r+1]+=n):e.push(t,n)}function Ni(e,t,n){if(0==n.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(Xi.empty);e.push(n)}}function Gi(e,t,n){let i=e.inserted;for(let r=0,s=0,o=0;o<e.sections.length;){let a=e.sections[o++],l=e.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,u=s,h=Xi.empty;for(;c+=a,u+=l,l&&i&&(h=h.append(i[o-2>>1])),!(n||o==e.sections.length||e.sections[o+1]<0);)a=e.sections[o++],l=e.sections[o++];t(r,c,s,u,h),r=c,s=u}}}function Hi(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],s=i?[]:null,o=new Ji(e),a=new Ji(t);for(let e=0,t=0;;)if(-1==o.ins)e+=o.len,o.next();else if(-1==a.ins&&t<e){let n=Math.min(a.len,e-t);a.forward(n),Ui(r,n,-1),t+=n}else if(a.ins>=0&&(o.done||t<e||t==e&&(a.len<o.len||a.len==o.len&&!n))){for(Ui(r,a.ins,-1);e>t&&!o.done&&e+o.len<t+a.len;)e+=o.len,o.next();t+=a.len,a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?new Ii(r,s):new Vi(r);throw new Error("Mismatched change set lengths")}{let n=0,i=e+o.len;for(;;)if(a.ins>=0&&t>e&&t+a.len<i)n+=a.ins,t+=a.len,a.next();else{if(!(-1==a.ins&&t<i))break;{let e=Math.min(a.len,i-t);n+=e,a.forward(e),t+=e}}Ui(r,n,o.ins),s&&Ni(s,r,o.text),e=i,o.next()}}}function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=n?[]:null,s=new Ji(e),o=new Ji(t);for(let e=!1;;){if(s.done&&o.done)return r?new Ii(i,r):new Vi(i);if(0==s.ins)Ui(i,s.len,0,e),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let t=Math.min(s.len2,o.len),n=i.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;Ui(i,t,n,e),r&&n&&Ni(r,i,o.text)}else-1==o.ins?(Ui(i,s.off?0:s.len,t,e),r&&Ni(r,i,s.textBit(t))):(Ui(i,s.off?0:s.len,o.off?0:o.ins,e),r&&!o.off&&Ni(r,i,o.text));e=(s.ins>t||o.ins>=0&&o.len>t)&&(e||i.length>n),s.forward2(t),o.forward(t)}}else Ui(i,0,o.ins,e),r&&Ni(r,i,o.text),o.next()}}class Ji{constructor(e){this.set=e,this.i=0,this.next()}next(){let e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let e=this.set.inserted,t=this.i-2>>1;return t>=e.length?Xi.empty:e[t]}textBit(e){let t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?Xi.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class er{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.mapPos(this.from,t),i=e.mapPos(this.to,t);return n==this.from&&i==this.to?this:new er(n,i,this.flags)}extend(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return tr.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return tr.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return tr.range(e.anchor,e.head)}}class tr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.ranges=e,this.mainIndex=t}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.empty?this:tr.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new tr([this.main])}addRange(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tr.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,n=this.ranges.slice();return n[t]=e,tr.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new tr(e.ranges.map((e=>er.fromJSON(e))),e.main)}static single(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new tr([tr.range(e,t)],0)}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let r=e[i];if(r.empty?r.from<=n:r.from<n)return nr(e.slice(),t);n=r.to}return new tr(e,t)}static cursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return new er(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=i?i:33554431)<<5)}static range(e,t,n){let i=(null!=n?n:33554431)<<5;return t<e?new er(t,e,16|i):new er(e,t,i)}}function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let i=e[n],r=e[n-1];if(i.empty?i.from<=r.to:i.from<r.to){let s=r.from,o=Math.max(i.to,r.to);n<=t&&t--,e.splice(--n,2,i.anchor>i.head?tr.range(o,s):tr.range(s,o))}}return new tr(e,t)}function ir(e,t){var n,i=o(e.ranges);try{for(i.s();!(n=i.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(e){i.e(e)}finally{i.f()}}let rr=0;class sr{constructor(e,t,n,i,r){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.extensions=r,this.id=rr++,this.default=e([])}static define(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new sr(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:or),!!e.static,e.enables)}of(e){return new ar([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ar(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ar(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function or(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class ar{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=rr++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,r=e[this.id]>>1,s=2==this.type,a=!1,l=!1,c=[];var u,h=o(this.dependencies);try{for(h.s();!(u=h.n()).done;){let n=u.value;"doc"==n?a=!0:"selection"==n?l=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&c.push(e[n.id])}}catch(e){h.e(e)}finally{h.f()}return(e,t)=>{if(!t||t.reconfigure)return e.values[r]=n(e),1;{if(!(a&&t.docChanged||l&&(t.docChanged||t.selection)||c.some((t=>(1&yr(e,t))>0))))return 0;let o=n(e),u=t.startState.values[r];return(s?function(e,t,n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}(o,u,i):i(o,u))?0:(e.values[r]=o,1)}}}}function lr(e,t,n){let i=n.map((t=>e[t.id])),r=n.map((e=>e.type)),s=i.filter((e=>!(1&e))),a=e[t.id]>>1;return(e,n)=>{let l=n?n.reconfigure?n.startState.config.address[t.id]:a<<1:null,c=null==l;var u,h=o(s);try{for(h.s();!(u=h.n()).done;){1&yr(e,u.value)&&(c=!0)}}catch(e){h.e(e)}finally{h.f()}if(!c)return 0;let f=[];for(let t=0;t<i.length;t++){let n=vr(e,i[t]);if(2==r[t]){var d,p=o(n);try{for(p.s();!(d=p.n()).done;){let e=d.value;f.push(e)}}catch(e){p.e(e)}finally{p.f()}}else f.push(n)}let O=t.combine(f);return null!=l&&t.compare(O,vr(n.startState,l))?0:(e.values[a]=O,1)}}const cr=sr.define({static:!0});class ur{constructor(e,t,n,i,r){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(e){let t=new ur(rr++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(cr).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return(e,n)=>{if(!n)return e.values[t]=this.create(e),1;let i,r=0;if(n.reconfigure){let e=function(e,t){let n=e.config.address[t];return null==n?null:n>>1}(n.startState,this.id);i=null==e?this.create(n.startState):n.startState.values[e],r=1}else i=n.startState.values[t];let s=this.updateF(i,n);return r||this.compareF(i,s)||(r=1),r&&(e.values[t]=s),r}}init(e){return[this,cr.of({field:this,create:e})]}}const hr=2,fr=1,dr=0;function pr(e){return t=>new gr(t,e)}const Or={fallback:pr(3),default:pr(hr),extend:pr(fr),override:pr(dr)};class gr{constructor(e,t){this.inner=e,this.prec=t}}class mr{constructor(e,t,n,i,r){for(this.source=e,this.replacements=t,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),n=arguments.length>2?arguments[2]:void 0,i=[],r=Object.create(null);var s,a=o(function(e,t){let n=[[],[],[],[]],i=new Map,r=Object.create(null);function s(e,a){let l=i.get(e);if(null!=l){if(l>=a)return;let t=n[l].indexOf(e);t>-1&&n[l].splice(t,1)}if(i.set(e,a),Array.isArray(e)){var c,u=o(e);try{for(u.s();!(c=u.n()).done;){s(c.value,a)}}catch(e){u.e(e)}finally{u.f()}}else if(e instanceof class{constructor(e,t){this.tag=e,this.inner=t}}){if(e.tag in r)throw new RangeError(`Duplicate use of tag '${String(e.tag)}' in extensions`);r[e.tag]=!0,s(t[e.tag]||e.inner,a)}else e instanceof gr?s(e.inner,e.prec):e instanceof ur?(n[a].push(e),e.provides&&s(e.provides,a)):e instanceof ar?(n[a].push(e),e.facet.extensions&&s(e.facet.extensions,a)):s(e.extension,a)}s(e,hr);var a,l=o((c=t,(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(c):[]).concat(Object.keys(c))));var c;try{for(l.s();!(a=l.n()).done;){let e=a.value;!(e in r)&&"full"!=e&&t[e]&&(r[e]=!0,s(t[e],hr))}}catch(e){l.e(e)}finally{l.f()}return n.reduce(((e,t)=>e.concat(t)))}(e,t));try{for(a.s();!(s=a.n()).done;){let e=s.value;e instanceof ur?i.push(e):(r[e.facet.id]||(r[e.facet.id]=[])).push(e)}}catch(e){a.e(e)}finally{a.f()}let l=Object.create(null),c=[],u=[];for(var h=0,f=i;h<f.length;h++){let e=f[h];l[e.id]=u.length<<1,u.push((t=>e.slot(t)))}for(let e in r){let t=r[e],i=t[0].facet;if(t.every((e=>0==e.type))){l[i.id]=c.length<<1|1;let e=i.combine(t.map((e=>e.value))),r=n?n.config.address[i.id]:null;if(null!=r){let t=vr(n,r);i.compare(e,t)&&(e=t)}c.push(e)}else{var d,p=o(t);try{for(p.s();!(d=p.n()).done;){let e=d.value;0==e.type?(l[e.id]=c.length<<1|1,c.push(e.value)):(l[e.id]=u.length<<1,u.push((t=>e.dynamicSlot(t))))}}catch(e){p.e(e)}finally{p.f()}l[i.id]=u.length<<1,u.push((e=>lr(e,i,t)))}}return new mr(e,t,u.map((e=>e(l))),l,c)}}function yr(e,t){if(1&t)return 2;let n=t>>1,i=e.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;e.status[n]=4;let r=e.config.dynamicSlots[n](e,e.applying);return e.status[n]=2|r}function vr(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const br=sr.define(),Qr=sr.define({combine:e=>e.some((e=>e)),static:!0}),xr=sr.define({combine:e=>e.length?e[0]:void 0,static:!0}),wr=sr.define(),$r=sr.define(),kr=sr.define();class Sr{constructor(e,t){this.type=e,this.value=t}static define(){return new Dr}}class Dr{of(e){return new Sr(this,e)}}class Pr{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new Pr(this.type,t)}is(e){return this.type==e}static define(){return new Ar((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value.map(t);e&&n.push(e)}}catch(e){r.e(e)}finally{r.f()}return n}}class Ar{constructor(e){this.map=e}of(e){return new Pr(this,e)}}class Cr{constructor(e,t,n,i,r,s,o){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=r,this.reconfigure=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&ir(n,t.newLength),r.some((e=>e.type==Cr.time))||(this.annotations=r.concat(Cr.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){var t,n=o(this.annotations);try{for(n.s();!(t=n.n()).done;){let n=t.value;if(n.type==e)return n.value}}catch(e){n.e(e)}finally{n.f()}}get docChanged(){return!this.changes.empty}}function Tr(e,t){let n=[];for(let i=0,r=0;;){let s,o;if(i<e.length&&(r==t.length||t[r]>=e[i]))s=e[i++],o=e[i++];else{if(!(r<t.length))return n;s=t[r++],o=t[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function Wr(e,t,n){var i;let r,s,o;return n?(r=t.changes,s=Ii.empty(t.changes.length),o=e.changes.compose(t.changes)):(r=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(r)),{changes:o,selection:t.selection?t.selection.map(s):null===(i=e.selection)||void 0===i?void 0:i.map(r),effects:Pr.mapEffects(e.effects,r).concat(Pr.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView,reconfigure:t.reconfigure?t.reconfigure.full||!e.reconfigure?t.reconfigure:Object.assign({},e.reconfigure,t.reconfigure):e.reconfigure}}function Rr(e,t,n){let i=t.reconfigure;if(i&&i.append){i=Object.assign({},i),i["undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf")]=i.append,i.append=void 0}let r=t.selection;return{changes:t.changes instanceof Ii?t.changes:Ii.of(t.changes||[],n,e.facet(xr)),selection:r&&(r instanceof tr?r:tr.single(r.anchor,r.head)),effects:Xr(t.effects),annotations:Xr(t.annotations),scrollIntoView:!!t.scrollIntoView,reconfigure:i}}function _r(e,t,n){let i=Rr(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let r=1;r<t.length;r++){!1===t[r].filter&&(n=!1);let s=!!t[r].sequential;i=Wr(i,Rr(e,t[r],s?i.changes.newLength:e.doc.length),s)}let r=new Cr(e,i.changes,i.selection,i.effects,i.annotations,i.reconfigure,i.scrollIntoView);return function(e){let t=e.startState,n=t.facet(kr),i=e;for(let r=n.length-1;r>=0;r--){let s=n[r](e);s&&Object.keys(s).length&&(i=Wr(e,Rr(t,s,e.changes.newLength),!0))}return i==e?e:new Cr(t,e.changes,e.selection,i.effects,i.annotations,i.reconfigure,i.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;var i,r=o(t.facet(wr));try{for(r.s();!(i=r.n()).done;){let t=(0,i.value)(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:Tr(n,t))}}catch(e){r.e(e)}finally{r.f()}if(!0!==n){let i,r;if(!1===n)r=e.changes.invertedDesc,i=Ii.empty(t.doc.length);else{let t=e.changes.filter(n);i=t.changes,r=t.filtered.invertedDesc}e=new Cr(t,i,e.selection&&e.selection.map(r),Pr.mapEffects(e.effects,r),e.annotations,e.reconfigure,e.scrollIntoView)}let s=t.facet($r);for(let n=s.length-1;n>=0;n--){let i=s[n](e);e=i instanceof Cr?i:Array.isArray(i)&&1==i.length&&i[0]instanceof Cr?i[0]:_r(t,Xr(i),!1)}return e}(r):r)}Cr.time=Sr.define(),Cr.userEvent=Sr.define(),Cr.addToHistory=Sr.define();const Er=[];function Xr(e){return null==e?Er:Array.isArray(e)?e:[e]}var Fr;!function(e){e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other"}(Fr||(Fr={}));const zr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Yr;try{Yr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Ht){}function Lr(e){return t=>{if(!/\S/.test(t))return Fr.Space;if(function(e){if(Yr)return Yr.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||zr.test(n)))return!0}return!1}(t))return Fr.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Fr.Word;return Fr.Other}}class Zr{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.config=e,this.doc=t,this.selection=n,this.applying=null,this.status=e.statusTemplate.slice(),i&&!i.reconfigure)this.values=i.startState.values.slice();else if(this.values=e.dynamicSlots.map((e=>null)),i)for(let t in e.address){let n=e.address[t],r=i.startState.config.address[t];null!=r&&0==(1&n)&&(this.values[n>>1]=vr(i.startState,r))}this.applying=i,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)yr(this,e<<1);this.applying=null}field(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return yr(this,n),vr(this,n);if(t)throw new RangeError("Field is not present in this state")}update(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _r(this,t,!0)}applyTransaction(e){let t=this.config;e.reconfigure&&(t=mr.resolve(e.reconfigure.full||t.source,Object.assign(t.replacements,e.reconfigure,{full:void 0}),this)),new Zr(t,e.newDoc,e.newSelection,e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:tr.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),r=[n.range],s=Xr(n.effects);for(let n=1;n<t.ranges.length;n++){let o=e(t.ranges[n]),a=this.changes(o.changes),l=a.map(i);for(let e=0;e<n;e++)r[e]=r[e].map(l);let c=i.mapDesc(a,!0);r.push(o.range.map(c)),i=i.compose(l),s=Pr.mapEffects(s,l).concat(Pr.mapEffects(Xr(o.effects),c))}return{changes:i,selection:tr.create(r,t.mainIndex),effects:s}}changes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof Ii?e:Ii.of(e,this.doc.length,this.facet(Zr.lineSeparator))}toText(e){return Xi.of(e.split(this.facet(Zr.lineSeparator)||Mi))}sliceDoc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(yr(this,t),vr(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e)t[n]=e[n].spec.toJSON(this.field(e[n]),this);return t}static fromJSON(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let t in n){let r=n[t],s=e[t];i.push(r.init((e=>r.spec.fromJSON(s,e))))}return Zr.create({doc:e.doc,selection:tr.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=mr.resolve(e.extensions||[]),n=e.doc instanceof Xi?e.doc:Xi.of((e.doc||"").split(t.staticFacet(Zr.lineSeparator)||Mi)),i=e.selection?e.selection instanceof tr?e.selection:tr.single(e.selection.anchor,e.selection.head):tr.single(0);return ir(i,n.length),t.staticFacet(Qr)||(i=i.asSingle()),new Zr(t,n,i)}get tabSize(){return this.facet(Zr.tabSize)}get lineBreak(){return this.facet(Zr.lineSeparator)||"\n"}phrase(e){var t,n=o(this.facet(Zr.phrases));try{for(n.s();!(t=n.n()).done;){let n=t.value;if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}}catch(e){n.e(e)}finally{n.f()}return e}languageDataAt(e,t){let n=[];var i,r=o(this.facet(br));try{for(r.s();!(i=r.n()).done;){var s,a=o((0,i.value)(this,t));try{for(a.s();!(s=a.n()).done;){let t=s.value;Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e])}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return n}charCategorizer(e){return Lr(this.languageDataAt("wordChars",e).join(""))}}function qr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};var r,s=o(e);try{for(s.s();!(r=s.n()).done;){let e=r.value;for(var a=0,l=Object.keys(e);a<l.length;a++){let t=l[a],r=e[t],s=i[t];if(void 0===s)i[t]=r;else if(s===r||void 0===r);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](s,r)}}}}catch(e){s.e(e)}finally{s.f()}for(let e in t)void 0===i[e]&&(i[e]=t[e]);return i}Zr.allowMultipleSelections=Qr,Zr.tabSize=sr.define({combine:e=>e.length?e[0]:4}),Zr.lineSeparator=xr,Zr.phrases=sr.define(),Zr.languageData=br,Zr.changeFilter=wr,Zr.transactionFilter=$r,Zr.transactionExtender=kr;const Br="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Mr="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),jr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Vr{constructor(e,t){this.rules=[];let n=t||{},i=n.process,r=n.extend;function s(e){if(/^@/.test(e))return[e];let t=e.split(",");return i?t.map(i):t}function o(e,t,n){let i=[],a=/^@(\w+)\b/.exec(e[0]);if(a&&null==t)return n.push(e[0]+";");for(let l in t){let c=t[l];if(/&/.test(l))o(e.map((e=>r?r(l,e):l.replace(/&/g,e))),c,n);else if(c&&"object"==typeof c){if(!a)throw new RangeError("The value of a property ("+l+") should be a primitive value.");o("keyframes"==a[1]?[l]:s(l),c,i)}else null!=c&&i.push(l.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+c+";")}(i.length||a&&"keyframes"==a[1])&&n.push(e.join(",")+" {"+i.join(" ")+"}")}for(let t in e)o(s(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=jr[Br]||1;return jr[Br]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[Mr]||new Ur(e)).mount(Array.isArray(t)?t:[t])}}let Ir=null;class Ur{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Ir)return e.adoptedStyleSheets=[Ir.sheet].concat(e.adoptedStyleSheets),e[Mr]=Ir;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Ir=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Mr]=this}mount(e){let t=this.sheet,n=0,i=0;for(let r=0;r<e.length;r++){let s=e[r],o=this.modules.indexOf(s);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,s),t)for(let e=0;e<s.rules.length;e++)t.insertRule(s.rules[e],n++)}else{for(;i<o;)n+=this.modules[i++].rules.length;n+=s.rules.length,i++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}class Nr{eq(e){return this==e}range(e){return new Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,this)}}Nr.prototype.startSide=Nr.prototype.endSide=0,Nr.prototype.point=!1,Nr.prototype.mapMode=ji.TrackDel;class Gr{constructor(e,t,n){this.from=e,this.to=t,this.value=n}}function Hr(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Kr{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e9*t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e<=0)return i;let r=t<0?this.to:this.from;for(let s=i,o=r.length;;){if(s==o)return s;let i=s+o>>1,a=r[i]-e||(t<0?this.value[i].startSide:this.value[i].endSide)-n;if(i==s)return a>=0?s:o;a>=0?o=i:s=i+1}}between(e,t,n,i){for(let r=this.findIndex(t,-1),s=this.findIndex(n,1,void 0,r);r<s;r++)if(!1===i(this.from[r]+e,this.to[r]+e,this.value[r]))return!1}map(e,t){let n=[],i=[],r=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],h=this.from[a]+e,f=this.to[a]+e;if(h==f){let e=t.mapPos(h,u.startSide,u.mapMode);if(null==e)continue;l=c=e}else if(l=t.mapPos(h,u.startSide),c=t.mapPos(f,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(s<0&&(s=l),u.point&&(o=Math.max(o,c-l)),n.push(u),i.push(l-s),r.push(c-s))}return{mapped:n.length?new Kr(i,r,n,o):null,pos:s}}}class Jr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jr.empty,i=arguments.length>3?arguments[3]:void 0;this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this==Jr.empty)return 0;let e=this.nextLayer.size;var t,n=o(this.chunk);try{for(n.s();!(t=n.n()).done;){e+=t.value.value.length}}catch(e){n.e(e)}finally{n.f()}return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let t=e.add,n=void 0===t?[]:t,i=e.sort,r=void 0!==i&&i,s=e.filterFrom,o=void 0===s?0:s,a=e.filterTo,l=void 0===a?this.length:a,c=e.filter;if(0==n.length&&!c)return this;if(r&&n.slice().sort(Hr),this==Jr.empty)return n.length?Jr.of(n):this;let u=new ts(this,null,-1).goto(0),h=0,f=[],d=new es;for(;u.value||h<n.length;)if(h<n.length&&(u.from-n[h].from||u.startSide-n[h].value.startSide)>=0){let e=n[h++];d.addInner(e.from,e.to,e.value)||f.push(e)}else 1==u.rangeIndex&&u.chunkIndex<this.chunk.length&&(h==n.length||this.chunkEnd(u.chunkIndex)<n[h].from)&&(!c||o>this.chunkEnd(u.chunkIndex)||l<this.chunkPos[u.chunkIndex])&&d.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!c||o>u.to||l<u.from||c(u.from,u.to,u.value))&&(d.addInner(u.from,u.to,u.value)||f.push(new Gr(u.from,u.to,u.value))),u.next());return d.finishInner(this.nextLayer!=Jr.empty||f.length?this.nextLayer.update({add:f,filter:c,filterFrom:o,filterTo:l}):Jr.empty)}map(e){if(0==e.length||this==Jr.empty)return this;let t=[],n=[],i=-1;for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r],a=e.touchesRange(s,s+o.length);if(!1===a)i=Math.max(i,o.maxPoint),t.push(o),n.push(e.mapPos(s));else if(!0===a){let r=o.map(s,e),a=r.mapped,l=r.pos;a&&(i=Math.max(i,a.maxPoint),t.push(a),n.push(l))}}let r=this.nextLayer.map(e);return 0==t.length?r:new Jr(n,t,r,i)}between(e,t,n){if(this!=Jr.empty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(t>=r&&e<=r+s.length&&!1===s.between(r,e-r,t-r,n))return}this.nextLayer.between(e,t,n)}}iter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return ns.from([this]).goto(e)}static iter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ns.from(e).goto(t)}static compare(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=e.filter((e=>e.maxPoint>=500||e!=Jr.empty&&t.indexOf(e)<0&&e.maxPoint>=r)),a=t.filter((t=>t.maxPoint>=500||t!=Jr.empty&&e.indexOf(t)<0&&t.maxPoint>=r)),l=function(e,t){let n=new Map;var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value;for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<500&&n.set(e.chunk[t],e.chunkPos[t])}}catch(e){r.e(e)}finally{r.f()}let s=new Set;var a,l=o(t);try{for(l.s();!(a=l.n()).done;){let e=a.value;for(let t=0;t<e.chunk.length;t++)n.get(e.chunk[t])==e.chunkPos[t]&&s.add(e.chunk[t])}}catch(e){l.e(e)}finally{l.f()}return s}(s,a),c=new rs(s,l,r),u=new rs(a,l,r);n.iterGaps(((e,t,n)=>ss(c,e,u,t,n,i))),n.empty&&0==n.length&&ss(c,0,u,0,0,i)}static spans(e,t,n,i){let r=new rs(e,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1).goto(t),s=t,o=r.openStart;for(;;){let e=Math.min(r.to,n);if(r.point?(i.point(s,e,r.point,r.activeForPoint(r.to),o),o=r.openEnd(e)+(r.to>e?1:0)):e>s&&(i.span(s,e,r.active,o),o=r.openEnd(e)),r.to>n)break;s=r.to,r.next()}return o}static of(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new es;var i,r=o(e instanceof Gr?[e]:t?e.slice().sort(Hr):e);try{for(r.s();!(i=r.n()).done;){let e=i.value;n.add(e.from,e.to,e.value)}}catch(e){r.e(e)}finally{r.f()}return n.finish()}}Jr.empty=new Jr([],[],null,-1),Jr.empty.nextLayer=Jr.empty;class es{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Kr(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new es)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Jr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=new Jr(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}class ts{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}let i=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],-1,t);(!n||this.rangeIndex<i)&&(this.rangeIndex=i),this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],++this.rangeIndex==t.value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.to-e.to||this.endSide-e.endSide}}class ns{constructor(e){this.heap=e}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[];for(let r=0;r<e.length;r++)for(let s=e[r];s!=Jr.empty;s=s.nextLayer)s.maxPoint>=n&&i.push(new ts(s,t,n,r));return 1==i.length?i[0]:new ns(i)}get startSide(){return this.value?this.value.startSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;var n,i=o(this.heap);try{for(i.s();!(n=i.n()).done;){n.value.goto(e,t)}}catch(e){i.e(e)}finally{i.f()}for(let e=this.heap.length>>1;e>=0;e--)is(this.heap,e);return this.next(),this}forward(e,t){var n,i=o(this.heap);try{for(i.s();!(n=i.n()).done;){n.value.forward(e,t)}}catch(e){i.e(e)}finally{i.f()}for(let e=this.heap.length>>1;e>=0;e--)is(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),is(this.heap,0)}}}function is(e,t){for(let n=e[t];;){let i=1+(t<<1);if(i>=e.length)break;let r=e[i];if(i+1<e.length&&r.compare(e[i+1])>=0&&(r=e[i+1],i++),n.compare(r)<0)break;e[i]=n,e[t]=r,t=i}}class rs{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ns.from(e,t,n)}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){as(this.active,e),as(this.activeTo,e),as(this.activeRank,e),this.minActive=cs(this.active,this.activeTo)}addActive(e){let t=0,n=this.cursor,i=n.value,r=n.to,s=n.rank;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;ls(this.active,t,i),ls(this.activeTo,t,r),ls(this.activeRank,t,s),e&&ls(e,t,this.cursor.from),this.minActive=cs(this.active,this.activeTo)}next(){let e=this.to;this.point=null;let t=this.openStart<0?[]:null,n=0;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),t&&as(t,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let i=this.cursor.value;if(i.point){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.from<e&&(n=1),this.cursor.next(),this.to>e&&this.forward(this.to,this.endSide);break}this.addActive(t),this.cursor.next()}}}if(t){let i=0;for(;i<t.length&&t[i]<e;)i++;this.openStart=i+n}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=0;n<this.active.length&&!(this.activeRank[n]>this.pointRank);n++)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>this.point.endSide)&&t.push(this.active[n]);return t}openEnd(e){let t=0;for(;t<this.activeTo.length&&this.activeTo[t]>e;)t++;return t}}function ss(e,t,n,i,r,s){e.goto(t),n.goto(i);let o=i+r,a=i,l=i-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,i=t<0?e.to+l:n.to,r=Math.min(i,o);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))||s.comparePoint(a,r,e.point,n.point):r>a&&!os(e.active,n.active)&&s.compareRange(a,r,e.active,n.active),i>o)break;a=i,t<=0&&e.next(),t>=0&&n.next()}}function os(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function as(e,t){for(let n=t,i=e.length-1;n<i;n++)e[n]=e[n+1];e.pop()}function ls(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function cs(e,t){let n=-1,i=1e9;for(let r=0;r<t.length;r++)(t[r]-i||e[r].endSide-e[n].endSide)<0&&(n=r,i=t[r]);return n}for(var us={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},hs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},fs="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),ds="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),ps="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Os="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),gs="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ms=fs&&(Os||+fs[1]<57)||ps&&Os,ys=0;ys<10;ys++)us[48+ys]=us[96+ys]=String(ys);for(ys=1;ys<=24;ys++)us[ys+111]="F"+ys;for(ys=65;ys<=90;ys++)us[ys]=String.fromCharCode(ys+32),hs[ys]=String.fromCharCode(ys);for(var vs in us)hs.hasOwnProperty(vs)||(hs[vs]=us[vs]);let bs=i("undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],2),Qs=bs[0],xs=bs[1];const ws=/Edge\/(\d+)/.exec(Qs.userAgent),$s=/MSIE \d/.test(Qs.userAgent),ks=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qs.userAgent),Ss=!!($s||ks||ws),Ds=!Ss&&/gecko\/(\d+)/i.test(Qs.userAgent),Ps=!Ss&&/Chrome\/(\d+)/.exec(Qs.userAgent),As="webkitFontSmoothing"in xs.documentElement.style,Cs=!Ss&&/Apple Computer/.test(Qs.vendor);var Ts={mac:/Mac/.test(Qs.platform),ie:Ss,ie_version:$s?xs.documentMode||6:ks?+ks[1]:ws?+ws[1]:0,gecko:Ds,gecko_version:Ds?+(/Firefox\/(\d+)/.exec(Qs.userAgent)||[0,0])[1]:0,chrome:!!Ps,chrome_version:Ps?+Ps[1]:0,ios:Cs&&(/Mobile\/\w+/.test(Qs.userAgent)||Qs.maxTouchPoints>2),android:/Android\b/.test(Qs.userAgent),webkit:As,safari:Cs,webkit_version:As?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=xs.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function Ws(e){return e.getSelection?e.getSelection():document.getSelection()}function Rs(e,t){if(!t.anchorNode)return!1;try{return e.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)}catch(e){return!1}}function _s(e){if(3==e.nodeType){let t=Vs();return t.setEnd(e,e.nodeValue.length),t.setStart(e,0),t.getClientRects()}return 1==e.nodeType?e.getClientRects():[]}function Es(e,t,n,i){return!!n&&(Fs(e,t,n,i,-1)||Fs(e,t,n,i,1))}function Xs(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Fs(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:zs(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=Xs(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;e=e.childNodes[t+(r<0?-1:0)],t=r<0?zs(e):0}}}function zs(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const Ys={left:0,right:0,top:0,bottom:0};function Ls(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Zs(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class qs{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}}let Bs,Ms=null;function js(e){if(e.setActive)return e.setActive();if(Ms)return e.focus(Ms);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Ms?{get preventScroll(){return Ms={preventScroll:!0},!0}}:void 0),!Ms){Ms=!1;for(let e=0;e<t.length;){let n=t[e++],i=t[e++],r=t[e++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function Vs(){return Bs||(Bs=document.createRange())}class Is{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Is(e.parentNode,Xs(e),t)}static after(e,t){return new Is(e.parentNode,Xs(e)+1,t)}}const Us=[];class Ns{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;var n,i=o(this.children);try{for(i.s();!(n=i.n()).done;){let i=n.value;if(i==e)return t;t+=i.length+i.breakAfter}}catch(e){i.e(e)}finally{i.f()}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let i=this.dom,r=null;var t,n=o(this.children);try{for(n.s();!(t=n.n()).done;){let n=t.value;if(n.dirty){let t=r?r.nextSibling:i.firstChild;!t||n.dom||Ns.get(t)||n.reuseDOM(t),n.sync(e),n.dirty=0}e&&e.node==i&&r!=n.dom&&(e.written=!0),Hs(i,r,n.dom),r=n.dom}}catch(e){n.e(e)}finally{n.f()}let s=r?r.nextSibling:i.firstChild;for(s&&e&&e.node==i&&(e.written=!0);s;)s=Gs(s)}else if(1&this.dirty){var i,r=o(this.children);try{for(r.s();!(i=r.n()).done;){let t=i.value;t.dirty&&(t.sync(e),t.dirty=0)}}catch(e){r.e(e)}finally{r.f()}}}reuseDOM(e){return!1}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=0==zs(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==i&&t.firstChild!=t.lastChild&&(i=e==t.firstChild?-1:1),e=t}n=i<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ns.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let i=this.children[e];if(i.dom==n)return t;t+=i.length+i.breakAfter}}domBoundsAround(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=-1,r=-1,s=-1,o=-1;for(let a=0,l=n;a<this.children.length;a++){let n=this.children[a],c=l+n.length;if(l<e&&c>t)return n.domBoundsAround(e,t,l);if(c>=e&&-1==i&&(i=a,r=l),c>=t&&c!=l&&-1==s){s=a,o=c;break}l=c+n.breakAfter}return{from:r,to:o<0?n+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length-1&&s>=0?this.children[s+1].dom:null}}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];2&this.dirty||(this.dirty|=2,this.markParentsDirty(e))}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Us;this.markDirty();for(let n=e;n<t;n++)this.children[n].parent=null;this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new Ks(this.children,e,this.children.length)}childPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}}function Gs(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}function Hs(e,t,n){let i=t?t.nextSibling:e.firstChild;if(n.parentNode==e)for(;i!=n;)i=Gs(i);else e.insertBefore(n,i)}Ns.prototype.breakAfter=0;class Ks{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}const Js=[];class eo extends Ns{become(e){return!1}getSide(){return 0}}eo.prototype.children=Js;class to extends eo{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){return 3==e.nodeType&&(this.createDOM(e),!0)}merge(e,t,n){return(!n||n instanceof to&&!(this.length-(t-e)+n.length>256))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}slice(e){return new to(this.text.slice(e))}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Is(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return io(this.dom,e,t)}}class no extends eo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this.mark=e,this.children=t,this.length=n;var i,r=o(t);try{for(r.s();!(i=r.n()).done;){i.value.setParent(this)}}catch(e){r.e(e)}finally{r.f()}}createDOM(){let e=document.createElement(this.mark.tagName);if(this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);this.setDOM(e)}sync(e){this.dom||this.createDOM(),super.sync(e)}merge(e,t,n,i,r){return(!n||!(!(n instanceof no&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&r<=0))&&(oo(this,e,t,n?n.children:Js,i-1,r-1),this.markDirty(),!0)}slice(e){return new no(this.mark,function(e,t){let n=[],i=0;var r,s=o(e);try{for(s.s();!(r=s.n()).done;){let e=r.value,s=i+e.length;s>t&&n.push(i<t?e.slice(t-i):e),i=s}}catch(e){s.e(e)}finally{s.f()}return n}(this.children,e),this.length-e)}domAtPos(e){return ao(this.dom,this.children,e)}coordsAt(e,t){return co(this,e,t)}}function io(e,t,n){let i=e.nodeValue.length;t>i&&(t=i);let r=t,s=t,o=0;0==t&&n<0||t==i&&n>=0?Ts.chrome||Ts.gecko||(t?(r--,o=1):(s++,o=-1)):n<0?r--:s++;let a=Vs();a.setEnd(e,s),a.setStart(e,r);let l=a.getClientRects();if(!l.length)return Ys;let c=l[(o?o<0:n>=0)?0:l.length-1];return Ts.safari&&!o&&0==c.width&&(c=Array.prototype.find.call(l,(e=>e.width))||c),o?Ls(c,o<0):c}class ro extends eo{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n}static create(e,t,n){return new(e.customView||ro)(e,t,n)}slice(e){return ro.create(this.widget,this.length-e,this.side)}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,i,r){return!(n&&(!(n instanceof ro&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&r<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof ro&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return Xi.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Xi.empty}domAtPos(e){return 0==e?Is.before(this.dom):Is.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),i=null;if(!n.length)return Ys;for(let t=e>0?n.length-1:0;i=n[t],!(e>0?0==t:t==n.length-1||i.top<i.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?i:Ls(i,0==e)}}class so extends ro{domAtPos(e){return new Is(this.widget.text,e)}sync(){this.dom||this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){return t?3==e.nodeType?Math.min(t,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){return io(this.widget.text,e,t)}}function oo(e,t,n,i,r,s){let a=e.childCursor(),l=a.findPos(n,1),c=l.i,u=l.off,h=a.findPos(t,-1),f=h.i,d=h.off,p=t-n;var O,g=o(i);try{for(g.s();!(O=g.n()).done;){p+=O.value.length}}catch(e){g.e(e)}finally{g.f()}e.length+=p;let m=e.children;if(f==c&&d){let e=m[f];if(1==i.length&&e.merge(d,u,i[0],r,s))return;if(0==i.length)return void e.merge(d,u,null,r,s);let t=e.slice(u);t.merge(0,0,i[i.length-1],0,s)?i[i.length-1]=t:i.push(t),c++,s=u=0}if(u){let e=m[c];i.length&&e.merge(0,u,i[i.length-1],0,s)?(i.pop(),s=0):e.merge(0,u,null,0,0)}else c<m.length&&i.length&&m[c].merge(0,0,i[i.length-1],0,s)&&(i.pop(),s=0);if(d){let e=m[f];i.length&&e.merge(d,e.length,i[0],r,0)?(i.shift(),r=0):e.merge(d,e.length,null,0,0),f++}else if(f&&i.length){let e=m[f-1];e.merge(e.length,e.length,i[0],r,0)&&(i.shift(),r=0)}for(;f<c&&i.length&&m[c-1].become(i[i.length-1]);)i.pop(),c--,s=0;for(;f<c&&i.length&&m[f].become(i[0]);)i.shift(),f++,r=0;!i.length&&f&&c<m.length&&r&&s&&m[c].merge(0,0,m[f-1],r,s)&&f--,(i.length||f!=c)&&e.replaceChildren(f,c,i)}function ao(e,t,n){let i=0;for(let r=0;i<t.length;i++){let s=t[i],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(n>r&&n<o&&s.dom.parentNode==e)return s.domAtPos(n-r);if(n<=r)break;r=o}}for(;i>0;i--){let n=t[i-1].dom;if(n.parentNode==e)return Is.after(n)}return new Is(e,0)}function lo(e,t,n){let i,r=e.children;n>0&&t instanceof no&&r.length&&(i=r[r.length-1])instanceof no&&i.mark.eq(t.mark)?lo(i,t.children[0],n-1):(r.push(t),t.setParent(e)),e.length+=t.length}function co(e,t,n){for(let i=0,r=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(!(o==i&&s.getSide()<=0)){if(n<=0||o==e.length?o>=t:o>t)return s.coordsAt(t-i,n);i=o}}return(e.dom.lastChild||e.dom).getBoundingClientRect()}function uo(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function ho(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0,s=n;r<s.length;r++){let n=s[r];if(-1==i.indexOf(n)||e[n]!==t[n])return!1}return!0}function fo(e,t,n){if(t)for(let i in t)n&&i in n||e.removeAttribute(i);if(n)for(let i in n)t&&t[i]==n[i]||e.setAttribute(i,n[i])}class po{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}}var Oo;!function(e){e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange"}(Oo||(Oo={}));class go extends Nr{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new mo(e)}static widget(e){let t=e.side||0;return e.block&&(t+=200000001*(t>0?1:-1)),new vo(e,t,t,!!e.block,e.widget||null,!1)}static replace(e){let t=!!e.block,n=bo(e),i=n.start,r=n.end;return new vo(e,t?-2e8*(i?2:1):1e8*(i?-1:1),t?2e8*(r?2:1):1e8*(r?1:-1),t,e.widget||null,!0)}static line(e){return new yo(e)}static set(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Jr.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}go.none=Jr.empty;class mo extends go{constructor(e){let t=bo(e);super(1e8*(t.start?-1:1),1e8*(t.end?1:-1),null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof mo&&this.tagName==e.tagName&&this.class==e.class&&ho(this.attrs,e.attrs)}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}mo.prototype.point=!1;class yo extends go{constructor(e){super(-1e8,-1e8,null,e)}eq(e){return e instanceof yo&&ho(this.spec.attributes,e.spec.attributes)}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}yo.prototype.mapMode=ji.TrackBefore,yo.prototype.point=!0;class vo extends go{constructor(e,t,n,i,r,s){super(t,n,r,e),this.block=i,this.isReplace=s,this.mapMode=i?t<0?ji.TrackBefore:ji.TrackAfter:ji.TrackDel}get type(){return this.startSide<this.endSide?Oo.WidgetRange:this.startSide<0?Oo.WidgetBefore:Oo.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof vo&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function bo(e){let t=e.inclusiveStart,n=e.inclusiveEnd;return null==t&&(t=e.inclusive),null==n&&(n=e.inclusive),{start:t||!1,end:n||!1}}function Qo(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=n.length-1;r>=0&&n[r]+i>e?n[r]=Math.max(n[r],t):n.push(e,t)}vo.prototype.point=!0;const xo=sr.define({combine:e=>e.join(" ")}),wo=sr.define({combine:e=>e.indexOf(!0)>-1}),$o=Vr.newName();function ko(e){return e.replace(/\$\w[\w\.]*/g,(e=>{let t=e.slice(1).split("."),n="";for(let e=1;e<=t.length;e++)n+=".cm-"+t.slice(0,e).join("-");return n}))}function So(e,t){return new Vr(t,{process:t=>(t=ko(t),/\$/.test(t)?t.replace(/\$/,e):e+" "+t),extend:(t,n)=>(t=ko(t),n.slice(0,e.length+1)==e+" "?e+" "+t.replace(/&/g,n.slice(e.length+1)):t.replace(/&/g,n))})}function Do(e){if(e.indexOf(".")<0)return"cm-"+e;let t=e.split("."),n="";for(let e=1;e<=t.length;e++)n+=(n?" ":"")+"cm-"+t.slice(0,e).join("-");return n}const Po=So("."+$o,{$:{position:"relative !important",boxSizing:"border-box","&$focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},$scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},$content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"$$light $content":{caretColor:"black"},"$$dark $content":{caretColor:"white"},$line:{display:"block",padding:"0 2px 0 4px"},$selectionLayer:{zIndex:-1,contain:"size style"},$selectionBackground:{position:"absolute"},"$$light $selectionBackground":{background:"#d9d9d9"},"$$dark $selectionBackground":{background:"#222"},"$$focused$light $selectionBackground":{background:"#d7d4f0"},"$$focused$dark $selectionBackground":{background:"#233"},$cursorLayer:{zIndex:100,contain:"size style",pointerEvents:"none"},"$$focused $cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},$cursor:{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none",display:"none"},"$$dark $cursor":{borderLeftColor:"#444"},"$$focused $cursor":{display:"block"},"$$light $activeLine":{backgroundColor:"#f3f9ff"},"$$dark $activeLine":{backgroundColor:"#223039"},"$$light $specialChar":{color:"red"},"$$dark $specialChar":{color:"#f78"},$tab:{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},$placeholder:{color:"#888",display:"inline-block"},$button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"$$light $button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"$$dark $button":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},$textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"$$light $textfield":{backgroundColor:"white"},"$$dark $textfield":{border:"1px solid #555",backgroundColor:"inherit"}}),Ao=Do("line");class Co extends Ns{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,r,s){if(n){if(!(n instanceof Co))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),oo(this,e,t,n?n.children:To,r,s),!0}split(e){let t=new Co;if(t.breakAfter=this.breakAfter,0==this.length)return t;let n=this.childPos(e),i=n.i,r=n.off;r&&(t.append(this.children[i].slice(r),0),this.children[i].merge(r,this.children[i].length,null,0,0),i++);for(let e=i;e<this.children.length;e++)t.append(this.children[e],0);for(;i>0&&0==this.children[i-1].length;)this.children[i-1].parent=null,i--;return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ho(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){lo(this,e,t)}addLineDeco(e){let t=e.spec.attributes;t&&(this.attrs=uo(t,this.attrs||{}))}domAtPos(e){return ao(this.dom,this.children,e)}sync(e){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Ao,this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(fo(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Ao),this.prevAttrs=void 0),super.sync(e);let t=this.dom.lastChild;if(!t||"BR"!=t.nodeName&&Ns.get(t)instanceof ro){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;var t,n=o(this.children);try{for(n.s();!(t=n.n()).done;){let n=t.value;if(!(n instanceof to))return null;let i=_s(n.dom);if(1!=i.length)return null;e+=i[0].width}}catch(e){n.e(e)}finally{n.f()}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return co(this,e,t)}match(e){return!1}get type(){return Oo.Text}static find(e,t){for(let n=0,i=0;;n++){let r=e.children[n],s=i+r.length;if(s>=t){if(r instanceof Co)return r;if(r.length)return null}i=s+r.breakAfter}}}const To=[];class Wo extends Ns{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0}merge(e,t,n,i,r,s){return!(n&&(!(n instanceof Wo&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&s<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?Is.before(this.dom):Is.after(this.dom,e==this.length)}split(e){let t=this.length-e;return this.length=e,new Wo(this.widget,t,this.type)}get children(){return To}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Xi.empty}domBoundsAround(){return null}match(e){return e instanceof Wo&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}}class Ro{constructor(e,t,n){this.doc=e,this.pos=t,this.end=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Wo&&e.type==Oo.WidgetBefore)}getLine(){return this.curLine||this.content.push(this.curLine=new Co),this.curLine}addWidget(e){this.curLine=null,this.content.push(e)}finish(){this.posCovered()||this.getLine()}wrapMarks(e,t){for(let n=t.length-1;n>=0;n--)e=new no(t[n],[e],e.length);return e}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let t=this.cursor.next(this.skip),n=t.value,i=t.lineBreak,r=t.done;if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.curLine=null,e--;continue}this.text=n,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.getLine().append(this.wrapMarks(new to(this.text.slice(this.textOff,this.textOff+i)),t),n),this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,r){let s=t-e;if(n instanceof vo)if(n.block){let e=n.type;e!=Oo.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new Wo(n.widget||new _o("div"),s,e))}else{let e=this.wrapMarks(ro.create(n.widget||new _o("span"),s,n.startSide),i);this.getLine().append(e,r)}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,n,i){let r=new Ro(e,t,n);return r.openEnd=Jr.spans(i,t,n,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(),r}}class _o extends po{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Eo=[],Xo=sr.define(),Fo=sr.define(),zo=sr.define(),Yo=sr.define(),Lo=sr.define(),Zo=sr.define();function qo(e,t,n){let i=e.facet(Yo);i.length?i[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const Bo=sr.define({combine:e=>!e.length||e[0]});class Mo{constructor(e,t){this.field=e,this.get=t}}class jo{from(e){return new Mo(this,e)}static define(){return new jo}}jo.decorations=jo.define(),jo.scrollMargins=jo.define();let Vo=0;const Io=sr.define();class Uo{constructor(e,t,n){this.id=e,this.create=t,this.fields=n,this.extension=Io.of(this)}static define(e,t){let n=t||{},i=n.eventHandlers,r=n.provide,s=n.decorations,a=[];if(r){var l,c=o(Array.isArray(r)?r:[r]);try{for(c.s();!(l=c.n()).done;){let e=l.value;a.push(e)}}catch(e){c.e(e)}finally{c.f()}}return i&&a.push(No.from((e=>({plugin:e,handlers:i})))),s&&a.push(jo.decorations.from(s)),new Uo(Vo++,e,a)}static fromClass(e,t){return Uo.define((t=>new e(t)),t)}}const No=jo.define();class Go{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}takeField(e,t){var n,i=o(this.spec.fields);try{for(i.s();!(n=i.n()).done;){let i=n.value,r=i.field,s=i.get;r==e&&t.push(s(this.value))}}catch(e){i.e(e)}finally{i.f()}}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,!this.value.update)return this;try{this.value.update(e)}catch(t){if(qo(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}return Go.dummy}}}else try{this.value=this.spec.create(e)}catch(t){return qo(e.state,t,"CodeMirror plugin crashed"),Go.dummy}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){qo(e.state,t,"CodeMirror plugin crashed")}}}Go.dummy=new Go(Uo.define((()=>({}))));const Ho=sr.define({combine:e=>e.reduce(((e,t)=>uo(t,e)),{})}),Ko=sr.define({combine:e=>e.reduce(((e,t)=>uo(t,e)),{})}),Jo=sr.define(),ea=sr.define();class ta{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new ta(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let i=0,r=0,s=0,o=0;;i++){let a=i==e.length?null:e[i],l=s-o,c=a?a.fromB:1e9;for(;r<t.length&&t[r]<c;){let e=t[r],i=t[r+1],s=Math.max(o,e),a=Math.min(c,i);if(s<=a&&new ta(s+l,a+l,s,a).addToSet(n),i>c)break;r+=2}if(!a)return n;new ta(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),s=a.toA,o=a.toB}}}class na{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eo;this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Ii.empty(this.startState.doc.length);var i,r=o(n);try{for(r.s();!(i=r.n()).done;){let e=i.value;this.changes=this.changes.compose(e.changes)}}catch(e){r.e(e)}finally{r.f()}let s=[];this.changes.iterChangedRanges(((e,t,n,i)=>s.push(new ta(e,t,n,i)))),this.changedRanges=s;let a=e.hasFocus;a!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=a,this.flags|=1),this.docChanged&&(this.flags|=2)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return this.transactions.some((e=>e.docChanged))}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class ia extends Ns{constructor(e){super(),this.view=e,this.compositionDeco=go.none,this.decorations=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.setDOM(e.contentDOM),this.children=[new Co],this.children[0].setParent(this),this.updateInner([new ta(0,0,0,e.state.doc.length)],this.updateDeco(),0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((e=>{let t=e.fromA;return e.toA<this.minWidthFrom||t>this.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=0),this.view.inputState.composing<0?this.compositionDeco=go.none:e.transactions.length&&(this.compositionDeco=function(e,t){let n=Ws(e.root),i=n.focusNode&&oa(n.focusNode,n.focusOffset,0);if(!i)return go.none;let r,s,o=e.docView.nearest(i),a=i;if(o instanceof eo){for(;o.parent instanceof eo;)o=o.parent;r=o.posAtStart,s=r+o.length,a=o.dom}else{if(!(o instanceof Co))return go.none;{for(;a.parentNode!=o.dom;)a=a.parentNode;let e=a.previousSibling;for(;e&&!Ns.get(e);)e=e.previousSibling;r=s=e?Ns.get(e).posAtEnd:o.posAtStart}}let l=t.mapPos(r,1),c=Math.max(l,t.mapPos(s,-1)),u=i.nodeValue,h=e.state;if(c-l<u.length)if(h.sliceDoc(l,Math.min(h.doc.length,l+u.length))==u)c=l+u.length;else{if(h.sliceDoc(Math.max(0,c-u.length),c)!=u)return go.none;l=c-u.length}else if(h.sliceDoc(l,c)!=u)return go.none;return go.set(go.replace({widget:new sa(a,i)}).range(l,c))}(this.view,e.changes));let n=(Ts.ie||Ts.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines,i=this.decorations,r=this.updateDeco(),s=function(e,t,n){let i=new la;return Jr.compare(e,t,n,i),i.changes}(i,r,e.changes);t=ta.extendWithRanges(t,s);let o=e.transactions.some((e=>"pointerselection"==e.annotation(Cr.userEvent)));return 0==this.dirty&&0==t.length&&!(12&e.flags)&&e.state.selection.main.from>=this.view.viewport.from&&e.state.selection.main.to<=this.view.viewport.to?(this.updateSelection(n,o),!1):(this.updateInner(t,r,e.startState.doc.length,n,o),!0)}updateInner(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.updateChildren(e,t,n),this.view.observer.ignore((()=>{this.dom.style.height=this.view.viewState.domHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let e=Ts.chrome?{node:Ws(this.view.root).focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,(null==e?void 0:e.written)&&(i=!0),this.updateSelection(i,r),this.dom.style.height=""}))}updateChildren(e,t,n){let i=this.childCursor(n);for(let n=e.length-1;;n--){let r=n>=0?e[n]:null;if(!r)break;let s=r.fromA,o=r.toA,a=r.fromB,l=r.toB,c=Ro.build(this.view.state.doc,a,l,t),u=c.content,h=c.breakAtStart,f=c.openStart,d=c.openEnd,p=i.findPos(o,1),O=p.i,g=p.off,m=i.findPos(s,-1),y=m.i,v=m.off;this.replaceRange(y,v,O,g,u,h,f,d)}}replaceRange(e,t,n,i,r,s,o,a){let l=this.children[e],c=r.length?r[r.length-1]:null,u=c?c.breakAfter:s;if(e==n&&!s&&!u&&r.length<2&&l.merge(t,i,r.length?c:null,0==t,o,a))return;let h=this.children[n];for(i<h.length||h.children.length&&0==h.children[h.children.length-1].length?(e==n&&(h=h.split(i),i=0),!u&&c&&h.merge(0,i,c,!0,0,a)?r[r.length-1]=h:((i||h.children.length&&0==h.children[0].length)&&h.merge(0,i,null,!1,0,a),r.push(h))):h.breakAfter&&(c?c.breakAfter=1:s=1),n++,l.breakAfter=s,t>0&&(!s&&r.length&&l.merge(t,l.length,r[0],!1,o,0)?l.breakAfter=r.shift().breakAfter:(t<l.length||l.children.length&&0==l.children[l.children.length-1].length)&&l.merge(t,l.length,null,!1,o,0),e++);e<n&&r.length;)if(this.children[n-1].match(r[r.length-1]))n--,r.pop();else{if(!this.children[e].match(r[0]))break;e++,r.shift()}(e<n||r.length)&&this.replaceChildren(e,n,r)}updateSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&!this.mayControlSelection())return;let t=this.view.state.selection.main,n=this.domAtPos(t.anchor),i=t.empty?n:this.domAtPos(t.head);if(Ts.gecko&&t.empty&&(1==(r=n).node.nodeType&&r.node.firstChild&&(0==r.offset||"false"==r.node.childNodes[r.offset-1].contentEditable)&&(r.offset<r.node.childNodes.length||"false"==r.node.childNodes[r.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>n.node.insertBefore(t,n.node.childNodes[n.offset]||null))),n=i=new Is(t,0),e=!0}var r;let s=Ws(this.root);(e||!s.focusNode||Ts.gecko&&t.empty&&aa(s.focusNode,s.focusOffset)||!Es(n.node,n.offset,s.anchorNode,s.anchorOffset)||!Es(i.node,i.offset,s.focusNode,s.focusOffset))&&this.view.observer.ignore((()=>{if(t.empty){if(Ts.gecko){let e=aa(n.node,n.offset);if(e&&3!=e){let t=oa(n.node,n.offset,1==e?1:-1);t&&(n=new Is(t,1==e?0:t.nodeValue.length))}}s.collapse(n.node,n.offset),null!=t.bidiLevel&&null!=s.cursorBidiLevel&&(s.cursorBidiLevel=t.bidiLevel)}else if(s.extend)s.collapse(n.node,n.offset),s.extend(i.node,i.offset);else{let r=document.createRange();if(t.anchor>t.head){var e=[i,n];n=e[0],i=e[1]}r.setEnd(i.node,i.offset),r.setStart(n.node,n.offset),s.removeAllRanges(),s.addRange(r)}})),this.impreciseAnchor=n.precise?null:new Is(s.anchorNode,s.anchorOffset),this.impreciseHead=i.precise?null:new Is(s.focusNode,s.focusOffset)}enforceCursorAssoc(){let e=this.view.state.selection.main,t=Ws(this.root);if(!e.empty||!e.assoc||!t.modify)return;let n=Co.find(this,e.head);if(!n)return;let i=n.posAtStart;if(e.head==i||e.head==i+n.length)return;let r=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!r||!s||r.bottom>s.top)return;let o=this.domAtPos(e.head+e.assoc);t.collapse(o.node,o.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Bo)?this.root.activeElement==this.dom:Rs(this.dom,Ws(this.root))}nearest(e){for(let t=e;t;){let e=Ns.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let t=this.childCursor().findPos(e,-1),n=t.i,i=t.off;for(;n<this.children.length-1;){let e=this.children[n];if(i<e.length||e instanceof Co)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,t){for(let n=this.length,i=this.children.length-1;;i--){let r=this.children[i],s=n-r.breakAfter-r.length;if(e>s||e==s&&(r.type==Oo.Text||!i||this.children[i-1].breakAfter))return r.coordsAt(e-s,t);n=s}}measureVisibleLineHeights(){let e=[],t=this.view.viewState.viewport,n=t.from,i=t.to,r=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(let t=0,s=0;s<this.children.length;s++){let o=this.children[s],a=t+o.length;if(a>i)break;if(t>=n){e.push(o.dom.getBoundingClientRect().height);let n=o.dom.scrollWidth;n>r&&(this.minWidth=r=n,this.minWidthFrom=t,this.minWidthTo=a)}t=a+o.breakAfter}return e}measureTextSize(){var e,t=o(this.children);try{for(t.s();!(e=t.n()).done;){let t=e.value;if(t instanceof Co){let e=t.measureTextSize();if(e)return e}}}catch(e){t.e(e)}finally{t.f()}let n,i,r=document.createElement("div");return r.className="cm-line",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let e=_s(r.firstChild)[0];n=r.getBoundingClientRect().height,i=e?e.width/27:7,r.remove()})),{lineHeight:n,charWidth:i}}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new Ks(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let r=i==t.viewports.length?null:t.viewports[i],s=r?r.from-1:this.length;if(s>n){let i=t.lineAt(s,0).bottom-t.lineAt(n,0).top;e.push(go.replace({widget:new ra(i),block:!0,inclusive:!0}).range(n,s))}if(!r)break;n=r.to+1}return go.set(e)}updateDeco(){return this.decorations=[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco,...this.view.state.facet(Jo),...this.view.pluginField(jo.decorations)]}scrollPosIntoView(e,t){let n=this.coordsAt(e,t);if(!n)return;let i=0,r=0,s=0,a=0;var l,c=o(this.view.pluginField(jo.scrollMargins));try{for(c.s();!(l=c.n()).done;){let e=l.value;if(e){let t=e.left,n=e.right,o=e.top,l=e.bottom;null!=t&&(i=Math.max(i,t)),null!=n&&(r=Math.max(r,n)),null!=o&&(s=Math.max(s,o)),null!=l&&(a=Math.max(a,l))}}}catch(e){c.e(e)}finally{c.f()}!function(e,t){let n=e.ownerDocument.defaultView;for(let i=e.parentNode;i;)if(1==i.nodeType){let e,r=i==document.body;if(r)e=Zs(n);else{if(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth){i=i.parentNode;continue}let t=i.getBoundingClientRect();e={left:t.left,right:t.left+i.clientWidth,top:t.top,bottom:t.top+i.clientHeight}}let s=0,o=0;if(t.top<e.top?o=-(e.top-t.top+5):t.bottom>e.bottom&&(o=t.bottom-e.bottom+5),t.left<e.left?s=-(e.left-t.left+5):t.right>e.right&&(s=t.right-e.right+5),s||o)if(r)n.scrollBy(s,o);else{if(o){let e=i.scrollTop;i.scrollTop+=o,o=i.scrollTop-e}if(s){let e=i.scrollLeft;i.scrollLeft+=s,s=i.scrollLeft-e}t={left:t.left-s,top:t.top-o,right:t.right-s,bottom:t.bottom-o}}if(r)break;i=i.parentNode}else{if(11!=i.nodeType)break;i=i.host}}(this.dom,{left:n.left-i,top:n.top-s,right:n.right+r,bottom:n.bottom+a})}}class ra extends po{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}class sa extends po{constructor(e,t){super(),this.top=e,this.text=t}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return so}}function oa(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=zs(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}function aa(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}class la{constructor(){this.changes=[]}compareRange(e,t){Qo(e,t,this.changes)}comparePoint(e,t){Qo(e,t,this.changes)}}var ca;!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(ca||(ca={}));const ua=ca.LTR,ha=ca.RTL;function fa(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const da=fa("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),pa=fa("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");const Oa=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class ga{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?ha:ua}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,i){let r=-1;for(let s=0;s<e.length;s++){let o=e[s];if(o.from<=t&&o.to>=t){if(o.level==n)return s;(r<0||(0!=i?i<0?o.from<t:o.to>t:e[r].level>o.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}const ma=[];function ya(e){return[new ga(0,e,0)]}let va="";function ba(e,t,n,i,r){var s;let o=i.head-e.from,a=-1;if(0==o){if(!r||!e.length)return null;t[0].level!=n&&(o=t[0].side(!1,n),a=0)}else if(o==e.length){if(r)return null;let e=t[t.length-1];e.level!=n&&(o=e.side(!0,n),a=t.length-1)}a<0&&(a=ga.find(t,o,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc));let l=t[a];o==l.side(r,n)&&(l=t[a+=r?1:-1],o=l.side(!r,n));let c=r==(l.dir==n),u=Si(e.text,o,c);if(va=e.text.slice(Math.min(o,u),Math.max(o,u)),u!=l.side(r,n))return tr.cursor(u+e.from,c?-1:1,l.level);let h=a==(r?t.length-1:0)?null:t[a+(r?1:-1)];return h||l.level==n?h&&h.level<l.level?tr.cursor(h.side(!r,n)+e.from,0,h.level):tr.cursor(u+e.from,0,l.level):tr.cursor(r?e.to:e.from,r?-1:1,n)}function Qa(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function xa(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function wa(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function $a(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function ka(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Sa(e,t,n){let i,r,s,o,a,l,c,u;for(let h=e.firstChild;h;h=h.nextSibling){let e=_s(h);for(let f=0;f<e.length;f++){let d=e[f];r&&wa(r,d)&&(d=$a(ka(d,r.bottom),r.top));let p=Qa(t,d),O=xa(n,d);if(0==p&&0==O)return 3==h.nodeType?Da(h,t,n):Sa(h,t,n);(!i||o>O||o==O&&s>p)&&(i=h,r=d,s=p,o=O),0==p?n>d.bottom&&(!c||c.bottom<d.bottom)?(a=h,c=d):n<d.top&&(!u||u.top>d.top)&&(l=h,u=d):c&&wa(c,d)?c=ka(c,d.bottom):u&&wa(u,d)&&(u=$a(u,d.top))}}if(c&&c.bottom>=n?(i=a,r=c):u&&u.top<=n&&(i=l,r=u),!i)return{node:e,offset:0};let h=Math.max(r.left,Math.min(r.right,t));return 3==i.nodeType?Da(i,h,n):s||"true"!=i.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,i)+(t>=(r.left+r.right)/2?1:0)}:Sa(i,h,n)}function Da(e,t,n){let i=e.nodeValue.length,r=Vs();for(let s=0;s<i;s++){r.setEnd(e,s+1),r.setStart(e,s);let i=r.getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.top!=a.bottom&&(a.left-1<=t&&a.right+1>=t&&a.top-1<=n&&a.bottom+1>=n)){let n=t>=(a.left+a.right)/2,i=n;if(Ts.chrome||Ts.gecko){r.setEnd(e,s),r.getBoundingClientRect().left==a.right&&(i=!n)}return{node:e,offset:s+(i?1:0)}}}}return{node:e,offset:0}}function Pa(e,t){let n,i=t.x,r=t.y,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=e.contentDOM.getBoundingClientRect(),a=e.defaultLineHeight/2;for(let t=!1;;){if(n=e.blockAtHeight(r,o.top),n.top>r||n.bottom<r){if(s=n.top>r?-1:1,r=Math.min(n.bottom-a,Math.max(n.top+a,r)),t)return-1;t=!0}if(n.type==Oo.Text)break;r=s>0?n.bottom+a:n.top-a}let l=n.from;if(l<e.viewport.from)return 0==e.viewport.from?0:null;if(l>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:null;i=Math.max(o.left+1,Math.min(o.right-1,i));let c,u=e.root,h=u.elementFromPoint(i,r),f=-1;if(h&&e.contentDOM.contains(h)&&!(e.docView.nearest(h)instanceof ro))if(u.caretPositionFromPoint){let e=u.caretPositionFromPoint(i,r);e&&(c=e.offsetNode,f=e.offset)}else if(u.caretRangeFromPoint){let e=u.caretRangeFromPoint(i,r);e&&(c=e.startContainer,f=e.startOffset)}if(!c||!e.docView.dom.contains(c)){var d=Sa(Co.find(e.docView,l).dom,i,r);c=d.node,f=d.offset}return e.docView.posFromDOM(c,f)}function Aa(e,t,n,i){let r=e.state.doc.lineAt(t.head),s=e.bidiSpans(r);for(let o=t,a=null;;){let t=ba(r,s,e.textDirection,o,n),l=va;if(!t){if(r.number==(n?e.state.doc.lines:1))return o;l="\n",r=e.state.doc.line(r.number+(n?1:-1)),s=e.bidiSpans(r),t=tr.cursor(n?r.from:r.to)}if(a){if(!a(l))return o}else{if(!i)return t;a=i(l)}o=t}}class Ca{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionEndedAt=0,this.mouseSelection=null;for(let t in _a){let n=_a[t];e.contentDOM.addEventListener(t,(i=>{!Ra(e,i)||this.ignoreDuringComposition(i)||"keydown"==t&&this.screenKeyEvent(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,i)?i.preventDefault():n(e,i))})),this.registeredEvents.push(t)}e.contentDOM.addEventListener("keydown",(t=>{e.inputState.lastKeyCode=t.keyCode,e.inputState.lastKeyTime=Date.now()})),this.notifiedFocused=e.hasFocus,this.ensureHandlers(e)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e){var t,n=o(this.customHandlers=e.pluginField(No));try{for(n.s();!(t=n.n()).done;){let n=t.value;for(let t in n.handlers)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{Ra(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}}catch(e){n.e(e)}finally{n.f()}}runCustomHandlers(e,t,n){var i,r=o(this.customHandlers);try{for(r.s();!(i=r.n()).done;){let r=i.value,s=r.handlers[e],o=!1;if(s){try{o=s.call(r.plugin,n,t)}catch(e){qo(t.state,e)}if(o||n.defaultPrevented)return Ts.android&&"keydown"==e&&13==n.keyCode&&t.observer.flushSoon(),!0}}}catch(e){r.e(e)}finally{r.f()}return!1}runScrollHandlers(e,t){var n,i=o(this.customHandlers);try{for(i.s();!(n=i.n()).done;){let i=n.value,r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(t){qo(e.state,t)}}}catch(e){i.e(e)}finally{i.f()}}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Ts.safari&&e.timeStamp-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}screenKeyEvent(e,t){let n=9==t.keyCode&&Date.now()<this.lastEscPress+2e3;return 27==t.keyCode?this.lastEscPress=Date.now():Ta.indexOf(t.keyCode)<0&&(this.lastEscPress=0),n}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type}startMouseSelection(e,t,n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new Wa(this,e,t,n)}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.lastKeyCode=this.lastSelectionTime=0}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Ta=[16,17,18,20,91,92,224,225];class Wa{constructor(e,t,n,i){this.inputState=e,this.view=t,this.startEvent=n,this.style=i;let r=t.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(Zr.allowMultipleSelections)&&function(e,t){let n=e.state.facet(Xo);return n.length?n[0](t):Ts.mac?t.metaKey:t.ctrlKey}(t,n),this.dragMove=function(e,t){let n=e.state.facet(Fo);return n.length?n[0](t):Ts.mac?!t.altKey:!t.ctrlKey}(t,n),this.dragging=!!function(e,t){if(e.state.selection.main.empty)return!1;let n=Ws(e.root);if(0==n.rangeCount)return!0;let i=n.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(t,n)&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(e)}up(e){null==this.dragging&&this.select(this.startEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,annotations:Cr.userEvent.of("pointerselection"),scrollIntoView:!0})}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)}}function Ra(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,i=t.target;i!=e.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=Ns.get(i))&&n.ignoreEvent(t))return!1;return!0}const _a=Object.create(null),Ea=Ts.ie&&Ts.ie_version<15||Ts.ios&&Ts.webkit_version<604;function Xa(e,t){let n,i=e.state,r=1,s=i.toText(t),o=s.lines==i.selection.ranges.length;if(Va&&i.selection.ranges.every((e=>e.empty))&&Va==s.toString()){let e=-1;n=i.changeByRange((n=>{let a=i.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=i.toText((o?s.line(r++).text:t)+i.lineBreak);return{changes:{from:a.from,insert:l},range:tr.cursor(n.from+l.length)}}))}else n=o?i.changeByRange((e=>{let t=s.line(r++);return{changes:{from:e.from,to:e.to,insert:t.text},range:tr.cursor(e.from+t.length)}})):i.replaceSelection(s);e.dispatch(n,{annotations:Cr.userEvent.of("paste"),scrollIntoView:!0})}_a.keydown=(e,t)=>{(function(e){let t=(e.ctrlKey?1:0)|(e.metaKey?8:0)|(e.altKey?2:0)|(e.shiftKey?4:0),n=e.keyCode,i=Ts.mac&&1==t;return 8==n||i&&72==n||46==n||i&&68==n||27==n||t==(Ts.mac?8:1)&&(66==n||73==n||89==n||90==n)})(t)&&t.preventDefault(),e.inputState.setSelectionOrigin("keyboardselection")};let Fa=0;function za(e,t,n,i){if(1==i)return tr.cursor(t,n);if(2==i)return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.charCategorizer(t),r=e.doc.lineAt(t),s=t-r.from;if(0==r.length)return tr.cursor(t);0==s?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=Si(r.text,s,!1):a=Si(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let e=Si(r.text,o,!1);if(i(r.text.slice(e,o))!=l)break;o=e}for(;a<r.length;){let e=Si(r.text,a);if(i(r.text.slice(a,e))!=l)break;a=e}return tr.range(o+r.from,a+r.from)}(e.state,t,n);{let n=Co.find(e.docView,t);if(n)return tr.range(n.posAtStart,n.posAtEnd);let i=e.state.doc.lineAt(t),r=i.from,s=i.to;return tr.range(r,s)}}_a.touchstart=(e,t)=>{(function(e){return 1==e.touches.length&&e.touches[0].radiusX<=1&&e.touches[0].radiusY<=1})(t)||(Fa=Date.now()),e.inputState.setSelectionOrigin("pointerselection")},_a.touchmove=e=>{e.inputState.setSelectionOrigin("pointerselection")},_a.mousedown=(e,t)=>{if(e.observer.flush(),Fa>Date.now()-50)return;let n=null;var i,r=o(e.state.facet(zo));try{for(r.s();!(i=r.n()).done;){if(n=(0,i.value)(e,t),n)break}}catch(e){r.e(e)}finally{r.f()}n||0!=t.button||(n=function(e,t){let n=qa(e,t),i=function(e){if(!Ba)return e.detail;let t=Ma;return Ma=e,ja=!t||t.timeStamp>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(ja+1)%3:1}(t),r=e.state.selection,s=n,o=t;return{update(e){e.changes&&(n&&(n.pos=e.changes.mapPos(n.pos)),r=r.map(e.changes))},get(t,a,l){let c;if(t.clientX==o.clientX&&t.clientY==o.clientY?c=s:(c=s=qa(e,t),o=t),!c||!n)return r;let u=za(e,c.pos,c.bias,i);if(n.pos!=c.pos&&!a){let t=za(e,n.pos,n.bias,i),r=Math.min(t.from,u.from),s=Math.max(t.to,u.to);u=r<u.from?tr.range(r,s):tr.range(s,r)}return a?r.replaceRange(r.main.extend(u.from,u.to)):l?r.addRange(u):tr.create([u])}}}(e,t)),n&&(e.root.activeElement!=e.contentDOM&&e.observer.ignore((()=>js(e.contentDOM))),e.inputState.startMouseSelection(e,t,n))};let Ya=(e,t)=>e>=t.top&&e<=t.bottom,La=(e,t,n)=>Ya(t,n)&&e>=n.left&&e<=n.right;function Za(e,t,n,i){let r=Co.find(e.docView,t);if(!r)return 1;let s=t-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&La(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&La(n,i,a)?1:o&&Ya(i,o)?-1:1}function qa(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY});return null==n?null:{pos:n,bias:Za(e,n,t.clientX,t.clientY)}}const Ba=Ts.ie&&Ts.ie_version<=11;let Ma=null,ja=0;_a.dragstart=(e,t)=>{let n=e.state.selection.main,i=e.inputState.mouseSelection;i&&(i.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},_a.drop=(e,t)=>{if(!t.dataTransfer)return;let n=e.posAtCoords({x:t.clientX,y:t.clientY}),i=t.dataTransfer.getData("Text");if(null==n||!i)return;t.preventDefault();let r=e.inputState.mouseSelection,s=r&&r.dragging&&r.dragMove?{from:r.dragging.from,to:r.dragging.to}:null,o={from:n,insert:i},a=e.state.changes(s?[s,o]:o);e.focus(),e.dispatch({changes:a,selection:{anchor:a.mapPos(n,-1),head:a.mapPos(n,1)},annotations:Cr.userEvent.of("drop")})},_a.paste=(e,t)=>{e.observer.flush();let n=Ea?null:t.clipboardData,i=n&&n.getData("text/plain");i?(Xa(e,i),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Xa(e,n.value)}),50)}(e)};let Va=null;function Ia(e){e.docView.compositionDeco.size&&e.update([])}_a.copy=_a.cut=(e,t)=>{let n=function(e){let t=[],n=[],i=!1;var r,s=o(e.selection.ranges);try{for(s.s();!(r=s.n()).done;){let i=r.value;i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i))}}catch(e){s.e(e)}finally{s.f()}if(!t.length){let r=-1;var a,l=o(e.selection.ranges);try{for(l.s();!(a=l.n()).done;){let i=a.value.from,s=e.doc.lineAt(i);s.number>r&&(t.push(s.text),n.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),r=s.number}}catch(e){l.e(e)}finally{l.f()}i=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:i}}(e.state),i=n.text,r=n.ranges,s=n.linewise;if(!i)return;Va=s?i:null;let a=Ea?null:t.clipboardData;a?(t.preventDefault(),a.clearData(),a.setData("text/plain",i)):function(e,t){let n=e.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout((()=>{i.remove(),e.focus()}),50)}(e,i),"cut"==t.type&&e.dispatch({changes:r,scrollIntoView:!0,annotations:Cr.userEvent.of("cut")})},_a.focus=_a.blur=e=>{setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)},_a.beforeprint=e=>{e.viewState.printing=!0,e.requestMeasure(),setTimeout((()=>{e.viewState.printing=!1,e.requestMeasure()}),2e3)},_a.compositionstart=_a.compositionupdate=e=>{e.inputState.composing<0&&(e.docView.compositionDeco.size&&(e.observer.flush(),Ia(e)),e.inputState.composing=0)},_a.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),setTimeout((()=>{e.inputState.composing<0&&Ia(e)}),50)};const Ua=["pre-wrap","normal","pre-line"];class Na{constructor(){this.doc=Xi.empty,this.lineWrapping=!1,this.direction=ca.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefresh(e,t,n){let i=!1;for(let t=0;t<e.length;t++){let n=e[t];n<0?t++:this.heightSamples[Math.floor(10*n)]||(i=!0,this.heightSamples[Math.floor(10*n)]=!0)}return i||Ua.indexOf(t)>-1!=this.lineWrapping||this.direction!=n}refresh(e,t,n,i,r,s){let o=Ua.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o||this.direction!=t;if(this.lineWrapping=o,this.direction=t,this.lineHeight=n,this.charWidth=i,this.lineLength=r,a){this.heightSamples={};for(let e=0;e<s.length;e++){let t=s[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class Ga{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Ha{constructor(e,t,n,i,r){this.from=e,this.length=t,this.top=n,this.height=i,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Ha(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ka;!function(e){e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight"}(Ka||(Ka={}));class Ja{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>1e-4&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return Ja.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let r=this;for(let s=i.length-1;s>=0;s--){let o=i[s],a=o.fromA,l=o.toA,c=o.fromB,u=o.toB,h=r.lineAt(a,Ka.ByPosNoHeight,t,0,0),f=h.to>=l?h:r.lineAt(l,Ka.ByPosNoHeight,t,0,0);for(u+=f.to-l,l=f.to;s>0&&h.from<=i[s-1].toA;)a=i[s-1].fromA,c=i[s-1].fromB,s--,a<h.from&&(h=r.lineAt(a,Ka.ByPosNoHeight,t,0,0));c+=h.from-a,a=h.from;let d=sl.build(n,e,c,u);r=r.replace(a,l,d)}return r.updateHeight(n,0)}static empty(){return new tl(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,i=0,r=0;for(;;)if(t==n)if(i>2*r){let r=e[t-1];r.break?e.splice(--t,1,r.left,null,r.right):e.splice(--t,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,r-=t.size}}else if(i<r){let n=e[t++];n&&(i+=n.size)}else{let t=e[--n];t&&(r+=t.size)}let s=0;return null==e[t-1]?(s=1,t--):null==e[t]&&(s=1,n++),new il(Ja.of(e.slice(0,t)),s,Ja.of(e.slice(n)))}}Ja.prototype.size=1;class el extends Ja{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,i){return new Ha(i,this.length,n,this.height,this.type)}lineAt(e,t,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(e,t,n,i,r,s){s(this.blockAt(0,n,i,r))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class tl extends el{constructor(e,t){super(e,t,Oo.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let i=n[0];return 1==n.length&&(i instanceof tl||i instanceof nl&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof nl?i=new tl(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ja.of(n)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class nl extends Ja{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,i=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:i,lineHeight:this.height/(i-n+1)}}blockAt(e,t,n,i){let r=this.lines(t,i),s=r.firstLine,o=r.lastLine,a=r.lineHeight,l=Math.max(0,Math.min(o-s,Math.floor((e-n)/a))),c=t.line(s+l),u=c.from,h=c.length;return new Ha(u,h,n+a*l,a,Oo.Text)}lineAt(e,t,n,i,r){if(t==Ka.ByHeight)return this.blockAt(e,n,i,r);if(t==Ka.ByPosNoHeight){let t=n.lineAt(e),i=t.from,r=t.to;return new Ha(i,r-i,0,0,Oo.Text)}let s=this.lines(n,r),o=s.firstLine,a=s.lineHeight,l=n.lineAt(e),c=l.from,u=l.length,h=l.number;return new Ha(c,u,i+a*(h-o),a,Oo.Text)}forEachLine(e,t,n,i,r,s){let o=this.lines(n,r),a=o.firstLine,l=o.lineHeight;for(let o=Math.max(e,r),c=Math.min(r+this.length,t);o<=c;){let t=n.lineAt(o);o==e&&(i+=l*(t.number-a)),s(new Ha(t.from,t.length,i,i+=l,Oo.Text)),o=t.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let e=n[n.length-1];e instanceof nl?n[n.length-1]=new nl(e.length+i):n.push(null,new nl(i-1))}if(e>0){let t=n[0];t instanceof nl?n[0]=new nl(e+t.length):n.unshift(new nl(e-1),null)}return Ja.of(n)}decomposeLeft(e,t){t.push(new nl(e-1),null)}decomposeRight(e,t){t.push(null,new nl(this.length-e-1))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=t+this.length;if(i&&i.from<=t+this.length&&i.more){let n=[],s=Math.max(t,i.from);for(i.from>t&&n.push(new nl(i.from-t-1).updateHeight(e,t));s<=r&&i.more;){let t=e.doc.lineAt(s).length;n.length&&n.push(null);let r=new tl(t,i.heights[i.index++]);r.outdated=!1,n.push(r),s+=t+1}return s<=r&&n.push(null,new nl(r-s).updateHeight(e,s)),e.heightChanged=!0,Ja.of(n)}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class il extends Ja{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,i){let r=n+this.left.height;return e<r||0==this.right.height?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,r,i+this.left.length+this.break)}lineAt(e,t,n,i,r){let s=i+this.left.height,o=r+this.left.length+this.break,a=t==Ka.ByHeight?e<s||0==this.right.height:e<o,l=a?this.left.lineAt(e,t,n,i,r):this.right.lineAt(e,t,n,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let c=t==Ka.ByPosNoHeight?Ka.ByPosNoHeight:Ka.ByPos;return a?l.join(this.right.lineAt(o,c,n,s,o)):this.left.lineAt(o,c,n,i,r).join(l)}forEachLine(e,t,n,i,r,s){let o=i+this.left.height,a=r+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,i,r,s),t>=a&&this.right.forEachLine(e,t,n,o,a,s);else{let l=this.lineAt(a,Ka.ByPos,n,i,r);e<l.from&&this.left.forEachLine(e,l.from-1,n,i,r,s),l.to>=e&&l.from<=t&&s(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,o,a,s)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let r=[];e>0&&this.decomposeLeft(e,r);let s=r.length;var a,l=o(n);try{for(l.s();!(a=l.n()).done;){let e=a.value;r.push(e)}}catch(e){l.e(e)}finally{l.f()}if(e>0&&rl(r,s-1),t<this.length){let e=r.length;this.decomposeRight(t,r),rl(r,e)}return Ja.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ja.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=this.left,s=this.right,o=t+r.length+this.break,a=null;return i&&i.from<=t+r.length&&i.more?a=r=r.updateHeight(e,t,n,i):r.updateHeight(e,t,n),i&&i.from<=o+s.length&&i.more?a=s=s.updateHeight(e,o,n,i):s.updateHeight(e,o,n),a?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function rl(e,t){let n,i;null==e[t]&&(n=e[t-1])instanceof nl&&(i=e[t+1])instanceof nl&&e.splice(t-1,3,new nl(n.length+1+i.length))}class sl{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof tl?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new tl(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?Math.max(0,n.widget.estimatedHeight):0,r=t-e;n.block?this.addBlock(new el(r,i,n.type)):(r||i>=5)&&this.addLineDeco(i,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new tl(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new nl(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof tl)return e;let t=new tl(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=Oo.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Oo.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof tl||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new tl(0,-1));let n=e;var i,r=o(this.nodes);try{for(r.s();!(i=r.n()).done;){let e=i.value;e instanceof tl&&e.updateHeight(this.oracle,n),n+=e?e.length:1}}catch(e){r.e(e)}finally{r.f()}return this.nodes}static build(e,t,n,i){let r=new sl(n,e);return Jr.spans(t,n,i,r,0),r.finish(n)}}class ol{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&Qo(e,t,this.changes,5)}}class al{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],r=t[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(e){return go.replace({widget:new ll(this.size,e)}).range(this.from,this.to)}}class ll extends po{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cl{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentWidth=0,this.heightOracle=new Na,this.scaler=pl,this.scrollTo=null,this.printing=!1,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=Ja.empty().applyChanges(e.facet(Jo),Xi.empty,this.heightOracle.setDoc(e.doc),[new ta(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=go.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],t=this.state.selection.main;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some((e=>{let t=e.from,n=e.to;return i>=t&&i<=n}))){let t=this.lineAt(i,0),n=t.from,r=t.to;e.push(new ul(n,r))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?pl:new Ol(this.heightOracle.doc,this.heightMap,this.viewports)}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state;this.state=e.state;let i=this.state.facet(Jo),r=e.changedRanges,s=ta.extendWithRanges(r,function(e,t,n){let i=new ol;return Jr.compare(e,t,n,i,0),i.changes}(e.startState.facet(Jo),i,e?e.changes:Ii.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(i,n.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.head<a.from||t.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t)),a.eq(this.viewport)||(this.viewport=a,e.flags|=4),this.updateForViewport(),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(e.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes)))),this.computeVisibleRanges(),t&&(this.scrollTo=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e,t){let n=e.dom,i="",r=ca.LTR;if(!t){let e=window.getComputedStyle(n);i=e.whiteSpace,r="rtl"==e.direction?ca.RTL:ca.LTR,this.paddingTop=parseInt(e.paddingTop)||0,this.paddingBottom=parseInt(e.paddingBottom)||0}let s=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:function(e,t){let n=e.getBoundingClientRect(),i=Math.max(0,n.left),r=Math.min(innerWidth,n.right),s=Math.max(0,n.top),o=Math.min(innerHeight,n.bottom);for(let t=e.parentNode;t;)if(1==t.nodeType){if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=window.getComputedStyle(t).overflow){let e=t.getBoundingClientRect();i=Math.max(i,e.left),r=Math.min(r,e.right),s=Math.max(s,e.top),o=Math.min(o,e.bottom)}t=t.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:i-n.left,right:r-n.left,top:s-(n.top+t),bottom:o-(n.top+t)}}(n,this.paddingTop),o=s.top-this.pixelViewport.top,a=s.bottom-this.pixelViewport.bottom;if(this.pixelViewport=s,this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left,!this.inView)return 0;let l=e.measureVisibleLineHeights(),c=!1,u=0,h=0,f=this.heightOracle;if(!t){let t=e.dom.clientWidth;if(f.mustRefresh(l,i,r)||f.lineWrapping&&Math.abs(t-this.contentWidth)>f.charWidth){let n=e.measureTextSize(),s=n.lineHeight,o=n.charWidth;c=f.refresh(i,r,s,o,t/o,l),c&&(e.minWidth=0,h|=16)}this.contentWidth!=t&&(this.contentWidth=t,h|=16),o>0&&a>0?u=Math.max(o,a):o<0&&a<0&&(u=Math.min(o,a))}if(f.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(f,0,c,new Ga(this.viewport.from,l)),f.heightChanged&&(h|=2),!this.viewportIsAppropriate(this.viewport,u)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to)){let e=this.getViewport(u,this.scrollTo);e.from==this.viewport.from&&e.to==this.viewport.to||(this.viewport=e,h|=4)}return this.updateForViewport(),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(h|=this.updateLineGaps(this.ensureLineGaps(c?[]:this.lineGaps))),this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top,0)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom,0)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,r=this.state.doc,s=this.visibleTop,o=this.visibleBottom,a=new ul(i.lineAt(s-1e3*n,Ka.ByHeight,r,0,0).from,i.lineAt(o+1e3*(1-n),Ka.ByHeight,r,0,0).to);if(t)if(t.head<a.from){let e=i.lineAt(t.head,Ka.ByPos,r,0,0).top;a=new ul(i.lineAt(e-500,Ka.ByHeight,r,0,0).from,i.lineAt(e+(o-s)+500,Ka.ByHeight,r,0,0).to)}else if(t.head>a.to){let e=i.lineAt(t.head,Ka.ByPos,r,0,0).bottom;a=new ul(i.lineAt(e-(o-s)-500,Ka.ByHeight,r,0,0).from,i.lineAt(e+500,Ka.ByHeight,r,0,0).to)}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new ul(this.heightMap.lineAt(n,Ka.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,Ka.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate(e){let t=e.from,n=e.to,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.heightMap.lineAt(t,Ka.ByPos,this.state.doc,0,0).top,s=this.heightMap.lineAt(n,Ka.ByPos,this.state.doc,0,0).bottom,o=this.visibleTop,a=this.visibleBottom;return(0==t||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2e3&&s<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value;t.touchesRange(e.from,e.to)||n.push(new al(t.mapPos(e.from),t.mapPos(e.to),e.size))}}catch(e){r.e(e)}finally{r.f()}return n}ensureLineGaps(e){let t=[];return this.heightOracle.direction!=ca.LTR||this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(n=>{if(n.length<1e4)return;let i,r,s=function(e,t,n){let i=[],r=e,s=0;Jr.spans(n.facet(Jo),e,t,{span(){},point(e,t){e>r&&(i.push({from:r,to:e}),s+=e-r),r=t}},20),r<t&&(i.push({from:r,to:t}),s+=t-r);return{total:s,ranges:i}}(n.from,n.to,this.state);if(s.total<1e4)return;if(this.heightOracle.lineWrapping)i=n.from!=this.viewport.from?n.from:hl(s,(this.visibleTop-n.top)/n.height),r=n.to!=this.viewport.to?n.to:hl(s,(this.visibleBottom-n.top)/n.height);else{let e=s.total*this.heightOracle.charWidth;i=hl(s,this.pixelViewport.left/e),r=hl(s,this.pixelViewport.right/e)}let o=this.state.selection.main;o.from<=i&&o.to>=n.from&&(i=o.from),o.from<=n.to&&o.to>=r&&(r=o.to);let a=i-1e4,l=r+1e4;a>n.from+5e3&&t.push(dl(e,(e=>e.from==n.from&&e.to>a-5e3&&e.to<a+5e3))||new al(n.from,a,this.gapSize(n,a,!0,s))),l<n.to-5e3&&t.push(dl(e,(e=>e.to==n.to&&e.from>l-5e3&&e.from<l+5e3))||new al(l,n.to,this.gapSize(n,l,!1,s)))})),t}gapSize(e,t,n,i){if(this.heightOracle.lineWrapping){let r=e.height*fl(i,t);return n?r:e.height-r}{let e=fl(i,t);return i.total*this.heightOracle.charWidth*(n?e:1-e)}}updateLineGaps(e){return al.same(e,this.lineGaps)?0:(this.lineGaps=e,this.lineGapDeco=go.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))),8)}computeVisibleRanges(){let e=this.state.facet(Jo);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Jr.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20),this.visibleRanges=t}lineAt(e,t){return t+=this.paddingTop,gl(this.heightMap.lineAt(e,Ka.ByPos,this.state.doc,t,0),this.scaler,t)}lineAtHeight(e,t){return t+=this.paddingTop,gl(this.heightMap.lineAt(this.scaler.fromDOM(e,t),Ka.ByHeight,this.state.doc,t,0),this.scaler,t)}blockAtHeight(e,t){return t+=this.paddingTop,gl(this.heightMap.blockAt(this.scaler.fromDOM(e,t),this.state.doc,t,0),this.scaler,t)}forEachLine(e,t,n,i){return i+=this.paddingTop,this.heightMap.forEachLine(e,t,this.state.doc,i,0,1==this.scaler.scale?n:e=>n(gl(e,this.scaler,i)))}get contentHeight(){return this.domHeight+this.paddingTop+this.paddingBottom}get domHeight(){return this.scaler.toDOM(this.heightMap.height,this.paddingTop)}}class ul{constructor(e,t){this.from=e,this.to=t}eq(e){return this.from==e.from&&this.to==e.to}}function hl(e,t){let n=e.total,i=e.ranges;if(t<=0)return i[0].from;if(t>=1)return i[i.length-1].to;let r=Math.floor(n*t);for(let e=0;;e++){let t=i[e],n=t.from,s=t.to-n;if(r<=s)return n+r;r-=s}}function fl(e,t){let n=0;var i,r=o(e.ranges);try{for(r.s();!(i=r.n()).done;){let e=i.value,r=e.from,s=e.to;if(t<=s){n+=t-r;break}n+=s-r}}catch(e){r.e(e)}finally{r.f()}return n/e.total}function dl(e,t){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value;if(t(e))return e}}catch(e){i.e(e)}finally{i.f()}}const pl={toDOM:e=>e,fromDOM:e=>e,scale:1};class Ol{constructor(e,t,n){let i=0,r=0,s=0;this.viewports=n.map((n=>{let r=n.from,s=n.to,o=t.lineAt(r,Ka.ByPos,e,0,0).top,a=t.lineAt(s,Ka.ByPos,e,0,0).bottom;return i+=a-o,{from:r,to:s,top:o,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(t.height-i);var a,l=o(this.viewports);try{for(l.s();!(a=l.n()).done;){let e=a.value;e.domTop=s+(e.top-r)*this.scale,s=e.domBottom=e.domTop+(e.bottom-e.top),r=e.bottom}}catch(e){l.e(e)}finally{l.f()}}toDOM(e,t){e-=t;for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale+t;if(e<=s.bottom)return s.domTop+(e-s.top)+t;i=s.bottom,r=s.domBottom}}fromDOM(e,t){e-=t;for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale+t;if(e<=s.domBottom)return s.top+(e-s.domTop)+t;i=s.bottom,r=s.domBottom}}}function gl(e,t,n){if(1==t.scale)return e;let i=t.toDOM(e.top,n),r=t.toDOM(e.bottom,n);return new Ha(e.from,e.length,i,r-i,Array.isArray(e.type)?e.type.map((e=>gl(e,t,n))):e.type)}const ml={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},yl=Ts.ie&&Ts.ie_version<=11;class vl{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.ignoreSelection=new qs,this.delayedFlush=-1,this.queue=[],this.scrollTargets=[],this.intersection=null,this.intersecting=!1,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((e=>{var t,n=o(e);try{for(n.s();!(t=n.n()).done;){let e=t.value;this.queue.push(e)}}catch(e){n.e(e)}finally{n.f()}Ts.ie&&Ts.ie_version<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),yl&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom)),this.listenForScroll()}onScroll(e){this.intersecting&&(this.flush(),this.onScrollChanged(e))}onSelectionChange(e){let t=this.view,n=Ws(t.root);if(t.state.facet(Bo)?t.root.activeElement!=this.dom:!Rs(t.dom,n))return;let i=n.anchorNode&&t.docView.nearest(n.anchorNode);i&&i.ignoreEvent(e)||(Ts.ie&&Ts.ie_version<=11&&!t.state.selection.main.empty&&n.focusNode&&Es(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush())}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var n,i=o(this.scrollTargets);try{for(i.s();!(n=i.n()).done;){n.value.removeEventListener("scroll",this.onScroll)}}catch(e){i.e(e)}finally{i.f()}var r,s=o(this.scrollTargets=t);try{for(s.s();!(r=s.n()).done;){r.value.addEventListener("scroll",this.onScroll)}}catch(e){s.e(e)}finally{s.f()}}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ml),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),yl&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),yl&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clearSelection(){this.ignoreSelection.set(Ws(this.view.root))}clear(){this.observer.takeRecords(),this.queue.length=0,this.clearSelection()}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}flush(){if(this.delayedFlush>=0)return;let e=this.queue;var t,n=o(this.observer.takeRecords());try{for(n.s();!(t=n.n()).done;){let n=t.value;e.push(n)}}catch(e){n.e(e)}finally{n.f()}e.length&&(this.queue=[]);let i=Ws(this.view.root),r=!this.ignoreSelection.eq(i)&&Rs(this.dom,i);if(0==e.length&&!r)return;let s=-1,a=-1,l=!1;var c,u=o(e);try{for(u.s();!(c=u.n()).done;){let e=c.value,t=this.readMutation(e);t&&(t.typeOver&&(l=!0),-1==s?(s=t.from,a=t.to):(s=Math.min(t.from,s),a=Math.max(t.to,a)))}}catch(e){u.e(e)}finally{u.f()}let h=this.view.state;(s>-1||r)&&this.onChange(s,a,l),this.view.state==h&&(this.view.docView.dirty&&(this.ignore((()=>this.view.docView.sync())),this.view.docView.dirty=0),this.view.docView.updateSelection()),this.clearSelection()}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(),"childList"==e.type){let n=bl(t,e.previousSibling||e.target.previousSibling,-1),i=bl(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}destroy(){this.stop(),this.intersection&&this.intersection.disconnect();var e,t=o(this.scrollTargets);try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener("scroll",this.onScroll)}}catch(e){t.e(e)}finally{t.f()}window.removeEventListener("scroll",this.onScroll),clearTimeout(this.parentCheck)}}function bl(e,t,n){for(;t;){let i=Ns.get(t);if(i&&i.parent==e)return i;let r=t.parentNode;t=r!=e.dom?r:n>0?t.nextSibling:t.previousSibling}return null}function Ql(e,t,n,i){let r,s,o,a=e.state.selection.main;if(t>-1&&(o=e.docView.domBoundsAround(t,n,0))){let t=o,n=t.from,i=t.to,l=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e,t){let n=[];if(t.activeElement!=e)return n;let i=Ws(t),r=i.anchorNode,s=i.anchorOffset,o=i.focusNode,a=i.focusOffset;r&&(n.push(new $l(r,s)),o==r&&a==s||n.push(new $l(o,a)));return n}(e.contentDOM,e.root),c=new xl(l,e);c.readRange(o.startDOM,o.endDOM),s=function(e,t){if(0==e.length)return null;let n=e[0].pos,i=2==e.length?e[1].pos:n;return n>-1&&i>-1?tr.single(n+t,i+t):null}(l,n);let u=a.from,h=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Ts.android&&c.text.length<i-n)&&(u=a.to,h="end");let f=function(e,t,n,i){let r=Math.min(e.length,t.length),s=0;for(;s<r&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==r&&e.length==t.length)return null;let o=e.length,a=t.length;for(;o>0&&a>0&&e.charCodeAt(o-1)==t.charCodeAt(a-1);)o--,a--;if("end"==i){n-=o+Math.max(0,s-Math.min(o,a))-s}if(o<s&&e.length<t.length){s-=n<=s&&n>=o?s-n:0,a=s+(a-o),o=s}else if(a<s){s-=n<=s&&n>=a?s-n:0,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}(e.state.sliceDoc(n,i),c.text,u-n,h);f&&(r={from:n+f.from,to:n+f.toA,insert:e.state.toText(c.text.slice(f.from,f.toB))})}else if(e.hasFocus||!e.state.facet(Bo)){let t=Ws(e.root),n=e.docView,i=n.impreciseHead,r=n.impreciseAnchor,o=i&&i.node==t.focusNode&&i.offset==t.focusOffset?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),l=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset?e.state.selection.main.anchor:function(e){let t=e.isCollapsed;return t&&Ts.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t}(t)?o:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);o==a.head&&l==a.anchor||(s=tr.single(l,o))}if(r||s)if(!r&&i&&!a.empty&&s&&s.main.empty&&(r={from:a.from,to:a.to,insert:e.state.doc.slice(a.from,a.to)}),r){let t=e.state;if(Ts.android&&(r.from==a.from&&r.to==a.to&&1==r.insert.length&&2==r.insert.lines&&kl(e,"Enter",10)||r.from==a.from-1&&r.to==a.to&&0==r.insert.length&&kl(e,"Backspace",8)||r.from==a.from&&r.to==a.to+1&&0==r.insert.length&&kl(e,"Delete",46)))return;let n,i=r.insert.toString();if(e.state.facet(Zo).some((t=>t(e,r.from,r.to,i))))return;if(e.inputState.composing>=0&&e.inputState.composing++,r.from>=a.from&&r.to<=a.to&&r.to-r.from>=(a.to-a.from)/3&&(!s||s.main.empty&&s.main.from==r.from+r.insert.length)){let i=a.from<r.from?t.sliceDoc(a.from,r.from):"",s=a.to>r.to?t.sliceDoc(r.to,a.to):"";n=t.replaceSelection(e.state.toText(i+r.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let e=t.changes(r);n={changes:e,selection:s&&!t.selection.main.eq(s.main)&&s.main.to<=e.newLength?t.selection.replaceRange(s.main):void 0}}e.dispatch(n,{scrollIntoView:!0,annotations:Cr.userEvent.of("input")})}else if(s&&!s.main.eq(a)){let t,n=!1;e.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==e.inputState.lastSelectionOrigin?n=!0:t=Cr.userEvent.of(e.inputState.lastSelectionOrigin)),e.dispatch({selection:s,scrollIntoView:n,annotations:t})}}class xl{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineBreak=t.state.lineBreak}readRange(e,t){if(!e)return;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i),this.readNode(i);let e=i.nextSibling;if(e==t)break;let r=Ns.get(i),s=Ns.get(e);((r?r.breakAfter:wl(i))||(s?s.breakAfter:wl(e))&&("BR"!=i.nodeName||i.cmIgnore))&&(this.text+=this.lineBreak),i=e}this.findPointBefore(n,t)}readNode(e){if(e.cmIgnore)return;let t,n=Ns.get(e),i=n&&n.overrideDOMText;null!=i?t=i.sliceString(0,void 0,this.lineBreak):3==e.nodeType?t=e.nodeValue:"BR"==e.nodeName?t=e.nextSibling?this.lineBreak:"":1==e.nodeType&&this.readRange(e.firstChild,null),null!=t&&(this.findPointIn(e,t.length),this.text+=t,Ts.chrome&&13==this.view.inputState.lastKeyCode&&!e.nextSibling&&/\n\n$/.test(this.text)&&(this.text=this.text.slice(0,-1)))}findPointBefore(e,t){var n,i=o(this.points);try{for(i.s();!(n=i.n()).done;){let i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(e){i.e(e)}finally{i.f()}}findPointIn(e,t){var n,i=o(this.points);try{for(i.s();!(n=i.n()).done;){let i=n.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t))}}catch(e){i.e(e)}finally{i.f()}}}function wl(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class $l{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}function kl(e,t,n){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);e.contentDOM.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return e.contentDOM.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}class Sl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.plugins=[],this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className=Do("scroller"),this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||document,this.viewState=new cl(e.state||Zr.create()),this.plugins=this.state.facet(Io).map((e=>new Go(e).update(this))),this.observer=new vl(this,((e,t,n)=>{Ql(this,e,t,n)}),(e=>{this.inputState.runScrollHandlers(this,e),this.measure()})),this.inputState=new Ca(this),this.docView=new ia(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,window.addEventListener("resize",(()=>{-1==Al&&(Al=setTimeout(Cl,50))})),this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}dispatch(){this._dispatch(1==arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof Cr?arguments.length<=0?void 0:arguments[0]:this.state.update(...arguments))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,i=this.state;var r,s=o(e);try{for(s.s();!(r=s.n()).done;){let e=r.value;if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}}catch(e){s.e(e)}finally{s.f()}if(i.facet(Zr.phrases)!=this.state.facet(Zr.phrases))return this.setState(i);t=new na(this,i,e);try{this.updateState=2;let r=e.some((e=>e.scrollIntoView))?i.selection.main:null;this.viewState.update(t,r),this.bidiCache=Wl.update(this.bidiCache,t.changes),t.empty||this.updatePlugins(t),n=this.docView.update(t),this.state.facet(ea)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e)}finally{this.updateState=0}if((n||scrollTo||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure(),!t.empty){var a,l=o(this.state.facet(Lo));try{for(l.s();!(a=l.n()).done;){(0,a.value)(t)}}catch(e){l.e(e)}finally{l.f()}}}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;try{var t,n=o(this.plugins);try{for(n.s();!(t=n.n()).done;){t.value.destroy(this)}}catch(e){n.e(e)}finally{n.f()}this.viewState=new cl(e),this.plugins=e.facet(Io).map((e=>new Go(e).update(this))),this.docView=new ia(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Io),n=e.state.facet(Io);if(t!=n){let l=[];var i,r=o(n);try{for(r.s();!(i=r.n()).done;){let n=i.value,r=t.indexOf(n);if(r<0)l.push(new Go(n));else{let t=this.plugins[r];t.mustUpdate=e,l.push(t)}}}catch(e){r.e(e)}finally{r.f()}var s,a=o(this.plugins);try{for(a.s();!(s=a.n()).done;){let t=s.value;t.mustUpdate!=e&&t.destroy(this)}}catch(e){a.e(e)}finally{a.f()}this.plugins=l,this.inputState.ensureHandlers(this)}else{var l,c=o(this.plugins);try{for(c.s();!(l=c.n()).done;){l.value.mustUpdate=e}}catch(e){c.e(e)}finally{c.f()}}for(let e=0;e<this.plugins.length;e++)this.plugins[e]=this.plugins[e].update(this)}measure(){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=-1;let e=null;try{for(let t=0;;t++){this.updateState=1;let n=this.viewState.measure(this.docView,t>0),i=this.measureRequests;if(!n&&!i.length&&null==this.viewState.scrollTo)break;if(this.measureRequests=[],t>5){console.warn("Viewport failed to stabilize");break}let r=i.map((e=>{try{return e.read(this)}catch(e){return qo(this.state,e),Tl}})),s=new na(this,this.state);s.flags|=n,e?e.flags|=n:e=s,this.updateState=2,s.empty||this.updatePlugins(s),this.updateAttrs(),n&&this.docView.update(s);for(let e=0;e<i.length;e++)if(r[e]!=Tl)try{i[e].write(r[e],this)}catch(e){qo(this.state,e)}if(this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null),!(4&n)&&0==this.measureRequests.length)break}}finally{this.updateState=0}if(this.measureScheduled=-1,e&&!e.empty){var t,n=o(this.state.facet(Lo));try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(e){n.e(e)}finally{n.f()}}}get themeClasses(){return $o+" "+(this.state.facet(wo)?"cm-dark":"cm-light")+" "+this.state.facet(xo)}updateAttrs(){let e=uo(this.state.facet(Ho),{class:Do("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});fo(this.dom,this.editorAttrs,e),this.editorAttrs=e;let t=uo(this.state.facet(Ko),{spellcheck:"false",contenteditable:String(this.state.facet(Bo)),class:Do("content"),style:`${Ts.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"});fo(this.contentDOM,this.contentAttrs,t),this.contentAttrs=t}showAnnouncements(e){let t=!0;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){var r,s=o(n.value.effects);try{for(s.s();!(r=s.n()).done;){let e=r.value;if(e.is(Sl.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}}mountStyles(){this.styleModules=this.state.facet(ea),Vr.mount(this.root,this.styleModules.concat(Po).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure()}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}pluginField(e){let t=[];var n,i=o(this.plugins);try{for(i.s();!(n=i.n()).done;){n.value.update(this).takeField(e,t)}}catch(e){i.e(e)}finally{i.f()}return t}plugin(e){var t,n=o(this.plugins);try{for(n.s();!(t=n.n()).done;){let n=t.value;if(n.spec==e)return n.update(this).value}}catch(e){n.e(e)}finally{n.f()}return null}blockAtHeight(e,t){return this.readMeasured(),this.viewState.blockAtHeight(e,Pl(t,this.contentDOM))}visualLineAtHeight(e,t){return this.readMeasured(),this.viewState.lineAtHeight(e,Pl(t,this.contentDOM))}viewportLines(e,t){let n=this.viewport,i=n.from,r=n.to;this.viewState.forEachLine(i,r,e,Pl(t,this.contentDOM))}visualLineAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.viewState.lineAt(e,t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Aa(this,e,t,n)}moveByGroup(e,t){return Aa(this,e,t,(t=>function(e,t,n){let i=e.state.charCategorizer(t),r=i(n);return e=>{let t=i(e);return r==Fr.Space&&(r=t),r==t}}(this,e.head,t)))}moveToLineBoundary(e,t){return function(e,t,n,i){let r=e.state.doc.lineAt(t.head),s=i&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head):null;if(s){let t=e.dom.getBoundingClientRect(),i=e.posAtCoords({x:n==(e.textDirection==ca.LTR)?t.right-1:t.left+1,y:(s.top+s.bottom)/2});if(null!=i)return tr.cursor(i,n?-1:1)}let o=Co.find(e.docView,t.head),a=o?n?o.posAtEnd:o.posAtStart:n?r.to:r.from;return tr.cursor(a,n?-1:1)}(this,e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}moveVertically(e,t,n){return function(e,t,n,i){var r;let s=t.head,o=n?1:-1;if(s==(n?e.state.doc.length:0))return tr.cursor(s);let a=e.coordsAtPos(s);if(a){let n=e.dom.getBoundingClientRect(),l=null!==(r=t.goalColumn)&&void 0!==r?r:a.left-n.left,c=n.left+l,u=null!=i?i:e.defaultLineHeight>>1;for(let t=o<0?a.top:a.bottom,n=0;n<50;n+=10){let i=Pa(e,{x:c,y:t+(u+n)*o},o);if(null==i)break;if(i!=s)return tr.cursor(i,void 0,void 0,l)}}let l=e.state.doc,c=l.lineAt(s),u=e.state.tabSize,h=t.goalColumn,f=0;if(null==h){for(const e=l.iterRange(c.from,s);!e.next().done;)f=_i(e.value,f,u);h=f*e.defaultCharacterWidth}else f=Math.round(h/e.defaultCharacterWidth);if(o<0&&0==c.from)return tr.cursor(0);if(o>0&&c.to==l.length)return tr.cursor(c.to);let d=l.line(c.number+o),p=d.from,O=0;for(const e=l.iterRange(d.from,d.to);O>=f&&!e.next().done;){const t=Ei(e.value,O,f,u),n=t.offset;O=f-t.leftOver,p+=n}return tr.cursor(p,void 0,void 0,h)}(this,e,t,n)}scrollPosIntoView(e){this.viewState.scrollTo=tr.cursor(e),this.requestMeasure()}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}posAtCoords(e){return this.readMeasured(),Pa(this,e)}coordsAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),r=this.bidiSpans(i);return Ls(n,r[ga.find(r,e-i.from,-1,t)].dir==ca.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Dl)return ya(e.length);let t=this.textDirection;var n,i=o(this.bidiCache);try{for(i.s();!(n=i.n()).done;){let i=n.value;if(i.from==e.from&&i.dir==t)return i.order}}catch(e){i.e(e)}finally{i.f()}let r=function(e,t){let n=e.length,i=t==ua?1:2;if(!e||1==i&&!Oa.test(e))return ya(n);for(let t=0,s=i,o=i;t<n;t++){let n=(r=e.charCodeAt(t))<=247?da[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?pa[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203||8204==r?256:1;512==n?n=s:8==n&&4==o&&(n=16),ma[t]=4==n?2:n,7&n&&(o=n),s=n}var r;for(let e=0,t=i,r=i;e<n;e++){let i=ma[e];if(128==i)e<n-1&&t==ma[e+1]&&24&t?i=ma[e]=t:ma[e]=256;else if(64==i){let i=e+1;for(;i<n&&64==ma[i];)i++;let s=e&&8==t||i<n&&8==ma[i]?1==r?1:8:256;for(let t=e;t<i;t++)ma[t]=s;e=i-1}else 8==i&&1==r&&(ma[e]=1);t=i,7&i&&(r=i)}for(let e=0;e<n;e++)if(256==ma[e]){let t=e+1;for(;t<n&&256==ma[t];)t++;let r=1==(e?ma[e-1]:i),s=r==(1==(t<n?ma[t]:i))?r?1:2:i;for(let n=e;n<t;n++)ma[n]=s;e=t-1}let s=[];if(1==i)for(let e=0;e<n;){let t=e,i=1!=ma[e++];for(;e<n&&i==(1!=ma[e]);)e++;if(i)for(let n=e;n>t;){let e=n,i=2!=ma[--n];for(;n>t&&i==(2!=ma[n-1]);)n--;s.push(new ga(n,e,i?2:1))}else s.push(new ga(t,e,0))}else for(let e=0;e<n;){let t=e,i=2==ma[e++];for(;e<n&&i==(2==ma[e]);)e++;s.push(new ga(t,e,i?1:2))}return s}(e.text,this.textDirection);return this.bidiCache.push(new Wl(e.from,e.to,t,r)),r}get hasFocus(){return document.hasFocus()&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{js(this.contentDOM),this.docView.updateSelection()}))}destroy(){var e,t=o(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(e){t.e(e)}finally{t.f()}this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled)}static domEventHandlers(e){return Uo.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=Vr.newName(),i=[xo.of(n),ea.of(So(`.${$o}.${n}`,e))];return t&&t.dark&&i.push(wo.of(!0)),i}static baseTheme(e){return Or.fallback(ea.of(So("."+$o,e)))}}Sl.styleModule=ea,Sl.inputHandler=Zo,Sl.exceptionSink=Yo,Sl.updateListener=Lo,Sl.editable=Bo,Sl.mouseSelectionStyle=zo,Sl.dragMovesSelection=Fo,Sl.clickAddsSelectionRange=Xo,Sl.decorations=Jo,Sl.lineWrapping=Sl.theme({$content:{whiteSpace:"pre-wrap",overflowWrap:"anywhere"}}),Sl.contentAttributes=Ko,Sl.editorAttributes=Ho,Sl.announce=Pr.define();const Dl=4096;function Pl(e,t){return null==e?t.getBoundingClientRect().top:e}let Al=-1;function Cl(){Al=-1;let e=document.querySelectorAll(".cm-content");for(let t=0;t<e.length;t++){let n=Ns.get(e[t]);n&&n.editorView.requestMeasure()}}const Tl={};class Wl{constructor(e,t,n,i){this.from=e,this.to=t,this.dir=n,this.order=i}static update(e,t){if(t.empty)return e;let n=[],i=e.length?e[e.length-1].dir:ca.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let s=e[r];s.dir!=i||t.touchesRange(s.from,s.to)||n.push(new Wl(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return n}}const Rl="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key";function _l(e,t){const n=e.split(/-(?!$)/);let i,r,s,o,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))s=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?o=!0:r=!0}}return i&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}function El(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const Xl=Sl.domEventHandlers({keydown:(e,t)=>ql(Yl(t.state),e,t,"editor")}),Fl=sr.define({enables:Xl}),zl=new WeakMap;function Yl(e){let t=e.facet(Fl),n=zl.get(t);return n||zl.set(t,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rl,n=Object.create(null),i=Object.create(null),r=(e,t)=>{let n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=(e,i,s,o)=>{let a=n[e]||(n[e]=Object.create(null)),l=i.split(/ (?!$)/).map((e=>_l(e,t)));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(" ");r(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[t=>{let i=Ll={view:t,prefix:n,scope:e};return setTimeout((()=>{Ll==i&&(Ll=null)}),Zl),!0}]})}let c=l.join(" ");r(c,!1);let u=a[c]||(a[c]={preventDefault:!1,commands:[]});u.commands.push(s),o&&(u.preventDefault=!0)};var a,l=o(e);try{for(l.s();!(a=l.n()).done;){let e=a.value,n=e[t]||e.key;if(n){var c,u=o(e.scope?e.scope.split(" "):["editor"]);try{for(u.s();!(c=u.n()).done;){let t=c.value;s(t,n,e.run,e.preventDefault),e.shift&&s(t,"Shift-"+n,e.shift,e.preventDefault)}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){l.e(e)}finally{l.f()}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let Ll=null;const Zl=4e3;function ql(e,t,n,i){let r=function(e){var t=!(ms&&(e.ctrlKey||e.altKey||e.metaKey)||(ds||gs)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?hs:us)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),s=1==r.length&&" "!=r,a="",l=!1;Ll&&Ll.view==n&&Ll.scope==i&&(a=Ll.prefix+" ",(l=Ta.indexOf(t.keyCode)<0)&&(Ll=null));let c,u=e=>{if(e){var t,i=o(e.commands);try{for(i.s();!(t=i.n()).done;){if((0,t.value)(n))return!0}}catch(e){i.e(e)}finally{i.f()}e.preventDefault&&(l=!0)}return!1},h=e[i];if(h){if(u(h[a+El(r,t,!s)]))return!0;if(s&&(t.shiftKey||t.altKey||t.metaKey)&&(c=us[t.keyCode])&&c!=r){if(u(h[a+El(c,t,!0)]))return!0}else if(s&&t.shiftKey&&u(h[a+El(r,t,!0)]))return!0}return l}const Bl=!Ts.ios,Ml=sr.define({combine:e=>qr(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});class jl{constructor(e,t,n,i,r){this.left=e,this.top=t,this.width=n,this.height=i,this.className=r}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}Uo.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className=Do("selectionLayer"),this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className=Do("cursorLayer"),this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Ml).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(Ml)!=e.state.facet(Ml);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let e=this.view.state,t=e.facet(Ml),n=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let n=Math.max(t.from,e.viewport.from),i=Math.min(t.to,e.viewport.to),r=e.textDirection==ca.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=Ul(e),c=window.getComputedStyle(s.firstChild),u=a.left+parseInt(c.paddingLeft),h=a.right-parseInt(c.paddingRight),f=e.visualLineAt(n),d=e.visualLineAt(i);e.lineWrapping&&(f=Nl(e,n,f),d=Nl(e,i,d));if(f.from==d.from)return O(g(t.from,t.to,f));{let e=g(t.from,null,f),n=g(null,t.to,d),i=[];return f.to<d.from-1?i.push(p(u,e.bottom,h,n.top)):e.bottom<n.top&&n.top-e.bottom<4&&(e.bottom=n.top=(e.bottom+n.top)/2),O(e).concat(i).concat(O(n))}function p(e,t,n,i){return new jl(e-l.left,t-l.top,n-e,i-t,Il)}function O(e){let t=e.top,n=e.bottom,i=e.horizontal,r=[];for(let e=0;e<i.length;e+=2)r.push(p(i[e],t,i[e+1],n));return r}function g(t,n,i){let s=1e9,a=-1e9,l=[];function c(t,n,o,c,f){let d=e.coordsAtPos(t,t==i.to?-1:1),p=e.coordsAtPos(o,o==i.from?1:-1);s=Math.min(d.top,p.top,s),a=Math.max(d.bottom,p.bottom,a),f==ca.LTR?l.push(r&&n?u:d.left,r&&c?h:p.right):l.push(!r&&c?u:p.left,!r&&n?h:d.right)}let f=null!=t?t:i.from,d=null!=n?n:i.to;var p,O=o(e.visibleRanges);try{for(O.s();!(p=O.n()).done;){let i=p.value;if(i.to>f&&i.from<d)for(let r=Math.max(i.from,f),s=Math.min(i.to,d);;){let i=e.state.doc.lineAt(r);var g,m=o(e.bidiSpans(i));try{for(m.s();!(g=m.n()).done;){let e=g.value,o=e.from+i.from,a=e.to+i.from;if(o>=s)break;a>r&&c(Math.max(o,r),null==t&&o<=f,Math.min(a,s),null==n&&a>=d,e.dir)}}catch(e){m.e(e)}finally{m.f()}if(r=i.to+1,r>=s)break}}}catch(e){O.e(e)}finally{O.f()}if(0==l.length){let t=e.coordsAtPos(f,-1);s=Math.min(t.top,s),a=Math.max(t.bottom,a)}return{top:s,bottom:a,horizontal:l}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),i=[];var r,s=o(e.selection.ranges);try{for(s.s();!(r=s.n()).done;){let n=r.value,s=n==e.selection.main;if(n.empty?!s||Bl:t.drawRangeCursor){let e=Kl(this.view,n,s);e&&i.push(e)}}}catch(e){s.e(e)}finally{s.f()}return{rangePieces:n,cursors:i}}drawSel(e){let t=e.rangePieces,n=e.cursors;if(t.length!=this.rangePieces.length||t.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";var i,r=o(t);try{for(r.s();!(i=r.n()).done;){let e=i.value;this.selectionLayer.appendChild(e.draw())}}catch(e){r.e(e)}finally{r.f()}this.rangePieces=t}if(n.length!=this.cursors.length||n.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==n.length){this.cursorLayer.textContent="";var s,a=o(n);try{for(a.s();!(s=a.n()).done;){const e=s.value;this.cursorLayer.appendChild(e.draw())}}catch(e){a.e(e)}finally{a.f()}}else n.forEach(((t,n)=>t.adjust(e[n])));this.cursors=n}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}});const Vl={$line:{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Bl&&(Vl.$line.caretColor="transparent !important"),Or.override(Sl.theme(Vl));const Il=Do("selectionBackground");function Ul(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ca.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function Nl(e,t,n){let i=tr.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(i,!0,!0).from)}}const Gl=Do("cursor.primary"),Hl=Do("cursor.secondary");function Kl(e,t,n){let i=e.coordsAtPos(t.head,t.assoc||1);if(!i)return null;let r=Ul(e);return new jl(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,n?Gl:Hl)}function Jl(e,t,n,i,r){t.lastIndex=0;for(let s,o=e.iterRange(n,i),a=n;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=t.exec(o.value);)r(a+s.index,a+s.index+s[0].length,s)}class ec{constructor(e){let t=e.regexp,n=e.decoration,i=e.boundary;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof n?n:()=>n,this.boundary=i}createDeco(e){let t=new es;var n,i=o(e.visibleRanges);try{for(i.s();!(n=i.n()).done;){let i=n.value,r=i.from,s=i.to;Jl(e.state.doc,this.regexp,r,s,((n,i,r)=>t.add(n,i,this.getDeco(r,e,n))))}}catch(e){i.e(e)}finally{i.f()}return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges(((t,r,s,o)=>{o>e.view.viewport.from&&s<e.view.viewport.to&&(n=Math.min(s,n),i=Math.max(o,i))})),e.viewportChanged||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){var r,s=o(e.visibleRanges);try{for(s.s();!(r=s.n()).done;){let s=r.value,o=Math.max(s.from,n),a=Math.min(s.to,i);if(a>o){let n=e.state.doc.lineAt(o),i=n.to<a?e.state.doc.lineAt(a):n,r=Math.max(s.from,n.from),l=Math.min(s.to,i.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){r=o;break}for(;a<i.to;a++)if(this.boundary.test(i.text[a-i.from])){l=a;break}}let c,u=[];if(n==i)for(this.regexp.lastIndex=r-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;){let t=c.index+n.from;u.push(this.getDeco(c,e,t).range(t,t+c[0].length))}else Jl(e.state.doc,this.regexp,r,l,((t,n,i)=>u.push(this.getDeco(i,e,t).range(t,n))));t=t.update({filterFrom:r,filterTo:l,filter:()=>!1,add:u})}}}catch(e){s.e(e)}finally{s.f()}return t}}const tc=null!=/x/.unicode?"gu":"g",nc=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029\ufeff￹-￼]",tc),ic={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let rc=null;const sc=sr.define({combine(e){let t=qr(e,{render:null,specialChars:nc,addSpecialChars:null});return(t.replaceTabs=!function(){if(null==rc&&"undefined"!=typeof document&&document.body){let e=document.body.style;rc=null!=(e.tabSize||e.MozTabSize)}return rc||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,tc)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,tc)),t}});function oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[sc.of(e),lc()]}let ac=null;function lc(){return ac||(ac=Uo.fromClass(class{constructor(e){this.view=e,this.decorations=go.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(sc)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new ec({regexp:e.specialChars,decoration:(t,n,i)=>{let r=n.state.doc,s=Ti(t[0],0);if(9==s){let e=r.lineAt(i),t=n.state.tabSize,s=_i(r.sliceString(e.from,i),0,t);return go.replace({widget:new uc((t-s%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=go.replace({widget:new cc(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(sc);e.startState.facet(sc)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))}class cc extends po{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character ")+(ic[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let r=document.createElement("span");return r.textContent=t,r.title=n,r.setAttribute("aria-label",n),r.className=Do("specialChar"),r}ignoreEvent(){return!1}}class uc extends po{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className=Do("tab"),e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const hc=go.line({attributes:{class:Do("activeLine")}}),fc=Uo.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];var i,r=o(e.state.selection.ranges);try{for(r.s();!(i=r.n()).done;){let r=i.value;if(!r.empty)continue;let s=e.visualLineAt(r.head);s.from>t&&(n.push(hc.range(s.from)),t=s.from)}}catch(e){r.e(e)}finally{r.f()}return go.set(n)}},{decorations:e=>e.decorations}),dc=Sr.define(),pc=Sr.define(),Oc=sr.define(),gc=sr.define({combine:e=>qr(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),mc=ur.define({create:()=>Wc.empty,update(e,t){let n=t.state.facet(gc),i=t.annotation(dc);if(i){let r=$c.fromTransaction(t),s=i.side,o=0==s?e.undone:e.done;return o=r?kc(o,o.length,n.minDepth,r):Pc(o,t.startState.selection),new Wc(0==s?i.rest:o,0==s?o:i.rest)}let r=t.annotation(pc);if("full"!=r&&"before"!=r||(e=e.isolate()),!1===t.annotation(Cr.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let s=$c.fromTransaction(t),o=t.annotation(Cr.time),a=t.annotation(Cr.userEvent);return s?e=e.addChanges(s,o,a,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,o,a,n.newGroupDelay)),"full"!=r&&"after"!=r||(e=e.isolate()),e}});function yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[mc,gc.of(e),Sl.domEventHandlers({beforeinput:(e,t)=>"historyUndo"==e.inputType?bc(t):"historyRedo"==e.inputType&&Qc(t)})]}function vc(e,t){return function(n){let i=n.state,r=n.dispatch,s=i.field(mc,!1);if(!s)return!1;let o=s.pop(e,i,t);return!!o&&(r(o),!0)}}const bc=vc(0,!1),Qc=vc(1,!1),xc=vc(0,!0),wc=vc(1,!0);class $c{constructor(e,t,n,i,r){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(e){return new $c(this.changes,this.effects,this.mapped,this.startSelection,e)}static fromTransaction(e){let t=Dc;var n,i=o(e.startState.facet(Oc));try{for(i.s();!(n=i.n()).done;){let i=(0,n.value)(e);i.length&&(t=t.concat(i))}}catch(e){i.e(e)}finally{i.f()}return!t.length&&e.changes.empty?null:new $c(e.changes.invert(e.startState.doc),t,void 0,e.startState.selection,Dc)}static selection(e){return new $c(void 0,Dc,void 0,void 0,e)}}function kc(e,t,n,i){let r=t+1>n+20?t-n-1:0,s=e.slice(r,t);return s.push(i),s}function Sc(e,t){return e.length?t.length?e.concat(t):e:t}const Dc=[];function Pc(e,t){if(e.length){let n=e[e.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return i.length&&i[i.length-1].eq(t)?e:(i.push(t),kc(e,e.length-1,1e9,n.setSelAfter(i)))}return[$c.selection([t])]}function Ac(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function Cc(e,t){if(!e.length)return e;let n=e.length,i=Dc;for(;n;){let r=Tc(e[n-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length){let t=e.slice(0,n);return t[n-1]=r,t}t=r.mapped,n--,i=r.selectionsAfter}return i.length?[$c.selection(i)]:Dc}function Tc(e,t,n){let i=Sc(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Dc,n);if(!e.changes)return $c.selection(i);let r=e.changes.map(t),s=t.mapDesc(e.changes,!0),o=e.mapped?e.mapped.composeDesc(s):s;return new $c(r,Pr.mapEffects(e.effects,t),o,e.startSelection.map(s),i)}class Wc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Wc(this.done,this.undone):this}addChanges(e,t,n,i,r){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&t-this.prevTime<i&&!o.selectionsAfter.length&&!o.changes.empty&&e.changes&&function(e,t){let n=[],i=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,r,s)=>{for(let e=0;e<n.length;){let t=n[e++],o=n[e++];s>=t&&r<=o&&(i=!0)}})),i}(o.changes,e.changes)?kc(s,s.length-1,r,new $c(e.changes.compose(o.changes),Sc(e.effects,o.effects),o.mapped,o.startSelection,Dc)):kc(s,s.length,r,e),new Wc(s,Dc,t,n)}addSelection(e,t,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:Dc;return r.length>0&&t-this.prevTime<i&&"keyboardselection"==n&&this.prevUserEvent==n&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter(((e,n)=>e.empty!=t.ranges[n].empty)).length}(r[r.length-1],e)?this:new Wc(Pc(this.done,e),this.undone,t,n)}addMapping(e){return new Wc(Cc(this.done,e),Cc(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=0==e?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1];if(n&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:dc.of({side:e,rest:Ac(i)})});if(r.changes){let n=1==i.length?Dc:i.slice(0,i.length-1);return r.mapped&&(n=Cc(n,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:dc.of({side:e,rest:n}),filter:!1})}return null}}Wc.empty=new Wc(Dc,Dc);const Rc=[{key:"Mod-z",run:bc,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Qc,preventDefault:!0},{key:"Mod-u",run:xc,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:wc,preventDefault:!0}],_c=1024;let Ec=0;const Xc=new WeakMap;class Fc{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deserialize;this.id=Ec++,this.deserialize=e||(()=>{throw new Error("This node type doesn't define a deserialize function")})}static string(){return new Fc({deserialize:e=>e})}static number(){return new Fc({deserialize:Number})}static flag(){return new Fc({deserialize:()=>!0})}set(e,t){return e[this.id]=t,e}add(e){return"function"!=typeof e&&(e=Yc.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}Fc.closedBy=new Fc({deserialize:e=>e.split(" ")}),Fc.openedBy=new Fc({deserialize:e=>e.split(" ")}),Fc.group=new Fc({deserialize:e=>e.split(" ")});const zc=Object.create(null);class Yc{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):zc,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new Yc(e.name||"",t,e.id,n);if(e.props){var r,s=o(e.props);try{for(s.s();!(r=s.n()).done;){let e=r.value;Array.isArray(e)||(e=e(i)),e&&e[0].set(t,e[1])}}catch(e){s.e(e)}finally{s.f()}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Fc.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e){var n,i=o(r.split(" "));try{for(i.s();!(n=i.n()).done;){let i=n.value;t[i]=e[r]}}catch(e){i.e(e)}finally{i.f()}}return e=>{for(let n=e.prop(Fc.group),i=-1;i<(n?n.length:0);i++){let r=t[i<0?e.name:n[i]];if(r)return r}}}}Yc.none=new Yc("",Object.create(null),0,8);class Lc{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,s=o(this.types);try{for(s.s();!(r=s.n()).done;){let t=r.value,i=null;var a,l=o(n);try{for(l.s();!(a=l.n()).done;){let e=(0,a.value)(t);e&&(i||(i=Object.assign({},t.props)),e[0].set(i,e[1]))}}catch(e){l.e(e)}finally{l.f()}e.push(i?new Yc(t.name,i,t.id,t.flags):t)}}catch(e){s.e(e)}finally{s.f()}return new Lc(e)}}class Zc{constructor(e,t,n,i){this.type=e,this.children=t,this.positions=n,this.length=i}toString(){let e=this.children.map((e=>e.toString())).join();return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null!=e&&Xc.get(this)||this.topNode,i=new Uc(n);return null!=e&&(i.moveTo(e,t),Xc.set(this,i._tree)),i}fullCursor(){return new Uc(this.topNode,!0)}get topNode(){return new Mc(this,0,0,null)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.cursor(e,t).node}iterate(e){let t=e.enter,n=e.leave,i=e.from,r=void 0===i?0:i,s=e.to,o=void 0===s?this.length:s;for(let e=this.cursor();;){let i=!1;if(e.from<=o&&e.to>=r&&(e.type.isAnonymous||!1!==t(e.type,e.from,e.to))){if(e.firstChild())continue;e.type.isAnonymous||(i=!0)}for(;i&&n&&n(e.type,e.from,e.to),i=e.type.isAnonymous,!e.nextSibling();){if(!e.parent())return;i=!0}}}balance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c;return this.children.length<=Hc?this:Kc(this.type,Yc.none,this.children,this.positions,0,this.children.length,0,e,this.length,0)}static build(e){return function(e){var t;let n=e.buffer,i=e.nodeSet,r=e.topID,s=void 0===r?0:r,o=e.maxBufferLength,a=void 0===o?_c:o,l=e.reused,c=void 0===l?[]:l,u=e.minRepeatType,h=void 0===u?i.types.length:u,f=Array.isArray(n)?new Gc(n,n.length):n,d=i.types,p=0;function O(e,t,n,r,s){let o=f.id,l=f.start,u=f.end,y=f.size,v=l-e;if(y<0)return-1==y?(n.push(c[o]),r.push(v)):p=o,void f.next();let b,Q,x=d[o];if(u-l<=a&&(Q=g(f.pos-t,s))){let t=new Uint16Array(Q.size-Q.skip),n=f.pos-Q.size,r=t.length;for(;f.pos>n;)r=m(Q.start,t,r,s);b=new Bc(t,u-Q.start,i,s<0?Yc.none:d[s]),v=Q.start-e}else{let e=f.pos-y;f.next();let t=[],n=[],i=o>=h?o:-1;for(;f.pos>e;)f.id==i?f.next():O(l,e,t,n,i);t.reverse(),n.reverse(),b=i>-1&&t.length>Hc?Kc(x,x,t,n,0,t.length,0,a,u-l,p):qc(new Zc(x,t,n,u-l),p)}n.push(b),r.push(v)}function g(e,t){let n=f.fork(),i=0,r=0,s=0,o=n.end-a,l={size:0,start:0,skip:0};e:for(let a=n.pos-e;n.pos>a;){if(n.id==t){l.size=i,l.start=r,l.skip=s,s+=4,i+=4,n.next();continue}let e=n.size,c=n.pos-e;if(e<0||c<a||n.start<o)break;let u=n.id>=h?4:0,f=n.start;for(n.next();n.pos>c;){if(n.size<0)break e;n.id>=h&&(u+=4),n.next()}r=f,i+=e,s+=u}return(t<0||i==e)&&(l.size=i,l.start=r,l.skip=s),l.size>4?l:void 0}function m(e,t,n,i){let r=f.id,s=f.start,o=f.end,a=f.size;if(f.next(),r==i)return n;let l=n;if(a>4){let r=f.pos-(a-4);for(;f.pos>r;)n=m(e,t,n,i)}return r<h&&(t[--n]=l,t[--n]=o-e,t[--n]=s-e,t[--n]=r),n}let y=[],v=[];for(;f.pos>0;)O(e.start||0,0,y,v,-1);let b=null!==(t=e.length)&&void 0!==t?t:y.length?v[0]+y[0].length:0;return new Zc(d[s],y.reverse(),v.reverse(),b)}(e)}}function qc(e,t){return t&&(e.contextHash=t),e}Zc.empty=new Zc(Yc.none,[],[],0);class Bc{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yc.none;this.buffer=e,this.length=t,this.set=n,this.type=i}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(e+=4))return r;let s=[];for(;e<n;)s.push(this.childString(e)),e=this.buffer[e+3];return r+"("+s.join(",")+")"}findChild(e,t,n,i){let r=this.buffer,s=-1;for(let o=e;o!=t;o=r[o+3])if(-1e8!=i){let e=r[o+1],t=r[o+2];if(n>0){if(t>i&&(s=o),t>i)break}else if(e<i&&(s=o),t>=i)break}else if(s=o,n>0)break;return s}}class Mc{constructor(e,t,n,i){this.node=e,this.from=t,this.index=n,this._parent=i}get type(){return this.node.type}get name(){return this.node.type.name}get to(){return this.from+this.node.length}nextChild(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(let r=this;;){for(let s=r.node,o=s.children,a=s.positions,l=t>0?o.length:-1;e!=l;e+=t){let s=o[e],l=a[e]+r.from;if(-1e8==n||!(t<0?l>=n:l+s.length<=n))if(s instanceof Bc){let i=s.findChild(0,s.buffer.length,t,-1e8==n?-1e8:n-l);if(i>-1)return new Ic(new Vc(r,s,e,l),null,i)}else if(i||!s.type.isAnonymous||Nc(s)){let o=new Mc(s,l,e,r);return i||!o.type.isAnonymous?o:o.nextChild(t<0?s.children.length-1:0,t,n)}}if(i||!r.type.isAnonymous)return null;if(e=r.index+t,r=r._parent,!r)return null}}get firstChild(){return this.nextChild(0,1,-1e8)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,-1e8)}childAfter(e){return this.nextChild(0,1,e)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent?this._parent.nextChild(this.index+1,1,-1):null}get prevSibling(){return this._parent?this._parent.nextChild(this.index-1,-1,-1):null}get cursor(){return new Uc(this)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.cursor.moveTo(e,t).node}getChild(e){let t=jc(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}getChildren(e){return jc(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toString(){return this.node.toString()}}function jc(e,t,n,i){let r=e.cursor,s=[];if(!r.firstChild())return s;if(null!=n)for(;!r.type.is(n);)if(!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(t)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}class Vc{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Ic{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t){let n=this.context.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],e,-1e8==t?-1e8:t-this.context.start);return i<0?null:new Ic(this.context,this,i)}get firstChild(){return this.child(1,-1e8)}get lastChild(){return this.child(-1,-1e8)}childAfter(e){return this.child(1,e)}childBefore(e){return this.child(-1,e)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,-1)}get nextSibling(){let e=this.context.buffer,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ic(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let e=this.context.buffer,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ic(this.context,this._parent,e.findChild(t,this.index,-1,-1e8))}get cursor(){return new Uc(this)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.cursor.moveTo(e,t).node}toString(){return this.context.buffer.childString(this.index)}getChild(e){let t=jc(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}getChildren(e){return jc(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}}class Uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.full=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Mc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let n=this.buffer,i=n.start,r=n.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Mc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enter(e,t){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,this.full));let n=this.buffer.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],e,-1e8==t?-1e8:t-this.buffer.start);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enter(1,-1e8)}lastChild(){return this.enter(-1,-1e8)}childAfter(e){return this.enter(1,e)}childBefore(e){return this.enter(-1,e)}parent(){if(!this.buffer)return this.yieldNode(this.full?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.full?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree._parent.nextChild(this._tree.index+e,e,-1e8,this.full));let t=this.buffer.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,-1e8))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,-1e8,this.full))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,i=this.buffer;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;t=i.index,n=i.parent}else{var r=this._tree;t=r.index,n=r._parent}for(;n;t=(s=n).index,n=s._parent,s){var s;for(let i=t+e,r=e<0?-1:n.node.children.length;i!=r;i+=e){let e=n.node.children[i];if(this.full||!e.type.isAnonymous||e instanceof Bc||Nc(e))return!1}}return!0}move(e){if(this.enter(e,-1e8))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){return this.move(1)}prev(){return this.move(-1)}moveTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;t<0?this.childBefore(e):this.childAfter(e);)if(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e)){this.parent();break}return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,n=r+1;break e}i=this.stack[--r]}for(let e=n;e<this.stack.length;e++)t=new Ic(this.buffer,t,this.stack[e]);return this.bufferNode=new Ic(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree.node}}function Nc(e){return e.children.some((e=>!e.type.isAnonymous||e instanceof Bc||Nc(e)))}class Gc{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Gc(this.buffer,this.index)}}const Hc=8;function Kc(e,t,n,i,r,s,o,a,l,c){let u=[],h=[];if(l<=a)for(let e=r;e<s;e++)u.push(n[e]),h.push(i[e]-o);else{let e=Math.max(a,Math.ceil(1.5*l/Hc));for(let l=r;l<s;){let r=l,f=i[l];for(l++;l<s;l++){if(i[l]+n[l].length-f>e)break}if(l==r+1){let i=n[r];if(i instanceof Zc&&i.type==t&&i.length>e<<1){for(let e=0;e<i.children.length;e++)u.push(i.children[e]),h.push(i.positions[e]+f-o);continue}u.push(i)}else if(l==r+1)u.push(n[r]);else{let e=Kc(t,t,n,i,r,l,f,a,i[l-1]+n[l-1].length-f,c);t==Yc.none||Jc(e.children,t)||(e=qc(new Zc(Yc.none,e.children,e.positions,e.length),c)),u.push(e)}h.push(f-o)}}return qc(new Zc(e,u,h,l),c)}function Jc(e,t){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){if(n.value.type==t)return!0}}catch(e){i.e(e)}finally{i.f()}return!1}class eu{constructor(e,t,n,i,r){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=r}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static applyChanges(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!t.length)return e;let i=[],r=1,s=e.length?e[0]:null,o=0,a=0,l=0;for(;;){let c=o<t.length?t[o++]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;s&&s.from<u;){let t=s;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new eu(e,n,t.tree,t.offset+l,(o>0?1:0)|(c?2:0))}if(t&&i.push(t),s.to>u)break;s=r<e.length?e[r++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return i}static addTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[new eu(0,e.length,e,0,n?2:0)];var r,s=o(t);try{for(s.s();!(r=s.n()).done;){let t=r.value;t.to>e.length&&i.push(t)}}catch(e){s.e(e)}finally{s.f()}return i}}function tu(e){return new nu(e)}class nu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;this.string=e,this.length=t}get(e){return e<0||e>=this.length?-1:this.string.charCodeAt(e)}lineAfter(e){if(e<0)return"";let t=this.string.indexOf("\n",e);return this.string.slice(e,t<0?this.length:Math.min(t,this.length))}read(e,t){return this.string.slice(e,Math.min(this.length,t))}clip(e){return new nu(this.string,e)}}const iu=new Fc;function ru(e){return sr.define({combine:e?t=>t.concat(e):void 0})}class su{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.data=e,Zr.prototype.hasOwnProperty("tree")||Object.defineProperty(Zr.prototype,"tree",{get(){return lu(this)}}),this.parser=t,this.extension=[gu.of(this),Zr.languageData.of(((e,t)=>e.facet(ou(e,t))))].concat(n)}isActiveAt(e,t){return ou(e,t)==this.data}findRegions(e){let t=e.facet(gu);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[];return lu(e).iterate({enter:(e,t,i)=>{if(e.isTop&&e.prop(iu)==this.data)return n.push({from:t,to:i}),!1}}),n}get allowsNesting(){return!0}parseString(e){let t,n=Xi.of(e.split("\n")),i=this.parser.startParse(new cu(n),0,new uu(this.parser,Zr.create({doc:n}),[],Zc.empty,{from:0,to:e.length},[]));for(;!(t=i.advance()););return t}}function ou(e,t){let n=e.facet(gu);if(!n)return null;if(!n.allowsNesting)return n.data;let i=lu(e).resolve(t,-1);for(;i;){let e=i.type.prop(iu);if(e)return e;i=i.parent}return n.data}su.setState=Pr.define();class au extends su{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=ru(e.languageData);return new au(t,e.parser.configure({props:[iu.add((e=>e.isTop?t:void 0))]}))}configure(e){return new au(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasNested}}function lu(e){let t=e.field(su.state,!1);return t?t.tree:Zc.empty}class cu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.prevString="",this.cursor=e.iter()}syncTo(e){return e<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0),this.prevString=e==this.cursorPos?this.string:"",this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}get(e){if(e>=this.length)return-1;let t=this.cursorPos-this.string.length;if(e<t||e>=this.cursorPos){if(e<t&&e>=t-this.prevString.length)return this.prevString.charCodeAt(e-(t-this.prevString.length));t=this.syncTo(e)}return this.string.charCodeAt(e-t)}lineAfter(e){if(e>=this.length||e<0)return"";let t=this.cursorPos-this.string.length;return(e<t||e>=this.cursorPos)&&(t=this.syncTo(e)),this.cursor.lineBreak?"":this.string.slice(e-t)}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}clip(e){return new cu(this.doc,e)}}class uu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.viewport=r,this.skipped=s,this.parse=null,this.tempSkipped=[]}work(e,t){if(this.tree!=Zc.empty&&(null==t?this.tree.length==this.state.doc.length:this.tree.length>=t))return this.takeTree(),!0;this.parse||(this.parse=this.parser.startParse(new cu(this.state.doc),0,this));let n=Date.now()+e;for(;;){let e=this.parse.advance();if(e)return this.fragments=this.withoutTempSkipped(eu.addTree(e)),this.parse=null,this.tree=e,!0;if(null!=t&&this.parse.pos>=t)return this.takeTree(),!0;if(Date.now()>n)return!1}}takeTree(){this.parse&&this.parse.pos>this.tree.length&&(this.tree=this.parse.forceFinish(),this.fragments=this.withoutTempSkipped(eu.addTree(this.tree,this.fragments,!0)))}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=hu(e,t.from,t.to);return e}changes(e,t){let n=this.fragments,i=this.tree,r=this.viewport,s=this.skipped;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,i,r)=>t.push({fromA:e,toA:n,fromB:i,toB:r}))),n=eu.applyChanges(n,t),i=Zc.empty,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){s=[];var a,l=o(this.skipped);try{for(l.s();!(a=l.n()).done;){let t=a.value,n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);n<i&&s.push({from:n,to:i})}}catch(e){l.e(e)}finally{l.f()}}}return new uu(this.parser,t,n,i,r,s)}updateViewport(e){this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let n=this.skipped[t],i=n.from,r=n.to;i<e.to&&r>e.from&&(this.fragments=hu(this.fragments,i,r),this.skipped.splice(t--,1))}return this.skipped.length<t}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}movedPast(e){return this.tree.length<e&&this.parse&&this.parse.pos>=e}}function hu(e,t,n){return eu.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}uu.skippingParser={startParse:(e,t,n)=>({pos:t,advance(){return n.tempSkipped.push({from:t,to:e.length}),this.pos=e.length,new Zc(Yc.none,[],[],e.length-t)},forceFinish(){return this.advance()}})};class fu{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged)return this;let t=this.context.changes(e.changes,e.state),n=this.context.tree.length==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.tree.length),t.viewport.to);return t.work(25,n)||t.takeTree(),new fu(t)}static init(e){let t=new uu(e.facet(gu).parser,e,[],Zc.empty,{from:0,to:e.doc.length},[]);return t.work(25)||t.takeTree(),new fu(t)}}su.state=ur.define({create:fu.init,update(e,t){var n,i=o(t.effects);try{for(i.s();!(n=i.n()).done;){let e=n.value;if(e.is(su.setState))return e.value}}catch(e){i.e(e)}finally{i.f()}return t.startState.facet(gu)!=t.state.facet(gu)?fu.init(t.state):e.apply(t)}});let du="undefined"!=typeof window&&window.requestIdleCallback||((e,t)=>{let n=t.timeout;return setTimeout(e,n)}),pu="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout;const Ou=Uo.fromClass(class{constructor(e){this.view=e,this.working=-1,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){if(e.viewportChanged){let t=this.view.state.field(su.state).context;t.updateViewport(e.view.viewport)&&t.reset(),this.view.viewport.to>t.tree.length&&this.scheduleWork()}e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork())}scheduleWork(){if(this.working>-1)return;let e=this.view.state;e.field(su.state).tree.length>=e.doc.length||(this.working=du(this.work,{timeout:500}))}work(e){this.working=-1;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let n=this.view,i=n.state,r=n.viewport.to,s=i.field(su.state);if(s.tree.length>=r+1e6)return;let o=Math.min(this.chunkBudget,e?Math.max(25,e.timeRemaining()):100),a=s.context.work(o,r+1e6);this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0||s.context.movedPast(r))&&(s.context.takeTree(),this.view.dispatch({effects:su.setState.of(new fu(s.context))})),!a&&this.chunkBudget>0&&this.scheduleWork()}destroy(){this.working>=0&&pu(this.working)}},{eventHandlers:{focus(){this.scheduleWork()}}}),gu=sr.define({combine:e=>e.length?e[0]:null,enables:[su.state,Ou]});class mu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.language=e,this.support=t,this.extension=[e,t]}}class yu{constructor(e,t,n,i,r){this.name=e,this.alias=t,this.extensions=n,this.filename=i,this.loadFunc=r,this.support=void 0,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((e=>this.support=e),(e=>{throw this.loading=null,e})))}static of(e){return new yu(e.name,(e.alias||[]).concat(e.name).map((e=>e.toLowerCase())),e.extensions||[],e.filename,e.load)}static matchFilename(e,t){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value;if(e.filename&&e.filename.test(t))return e}}catch(e){i.e(e)}finally{i.f()}let r=/\.([^.]+)$/.exec(t);if(r){var s,a=o(e);try{for(a.s();!(s=a.n()).done;){let e=s.value;if(e.extensions.indexOf(r[1])>-1)return e}}catch(e){a.e(e)}finally{a.f()}}return null}static matchLanguageName(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t.toLowerCase();var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value;if(e.alias.some((e=>e==t)))return e}}catch(e){r.e(e)}finally{r.f()}if(n){var s,a=o(e);try{for(a.s();!(s=a.n()).done;){let e=s.value;var l,c=o(e.alias);try{for(c.s();!(l=c.n()).done;){let n=l.value,i=t.indexOf(n);if(i>-1&&(n.length>2||!/\w/.test(t[i-1])&&!/\w/.test(t[i+n.length])))return e}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}}return null}}const vu=sr.define(),bu=sr.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Qu(e){let t=e.facet(bu);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function xu(e,t){let n="",i=e.tabSize;if(9==e.facet(bu).charCodeAt(0))for(;t>=i;)n+="\t",t-=i;for(let e=0;e<t;e++)n+=" ";return n}function wu(e,t){e instanceof Zr&&(e=new $u(e));var n,i=o(e.state.facet(vu));try{for(i.s();!(n=i.n()).done;){let i=(0,n.value)(e,t);if(null!=i)return i}}catch(e){i.e(e)}finally{i.f()}let r=lu(e.state);return r?function(e,t,n){let i=t.resolve(n);for(let e=i,t=n;;){let n=e.childBefore(t);if(!n)break;n.type.isError&&n.from==n.to?(i=e,t=n.from):(e=n,t=e.to+1)}for(;i;i=i.parent){let t=Su(i);if(t)return t(new Pu(e,n,i))}return null}(e,r,t):null}class $u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state=e,this.options=t,this.unit=Qu(e)}textAfterPos(e){var t,n;let i=null===(t=this.options)||void 0===t?void 0:t.simulateBreak;return e==i&&(null===(n=this.options)||void 0===n?void 0:n.simulateDoubleBreak)?"":this.state.sliceDoc(e,Math.min(e+100,null!=i&&i>e?i:1e9,this.state.doc.lineAt(e).to))}column(e){var t;let n=this.state.doc.lineAt(e),i=n.text.slice(0,e-n.from),r=this.countColumn(i,e-n.from),s=(null===(t=this.options)||void 0===t?void 0:t.overrideIndentation)?this.options.overrideIndentation(n.from):-1;return s>-1&&(r+=s-this.countColumn(i,i.search(/\S/))),r}countColumn(e,t){return _i(t<0?e:e.slice(0,t),0,this.state.tabSize)}lineIndent(e){var t;let n=null===(t=this.options)||void 0===t?void 0:t.overrideIndentation;if(n){let t=n(e.from);if(t>-1)return t}return this.countColumn(e.text,e.text.search(/\S/))}}const ku=new Fc;function Su(e){let t=e.type.prop(ku);if(t)return t;let n,i=e.firstChild;if(i&&(n=i.type.prop(Fc.closedBy))){let t=e.lastChild,i=t&&n.indexOf(t.name)>-1;return e=>Cu(e,!0,1,void 0,i&&!function(e){var t,n;return e.pos==(null===(t=e.options)||void 0===t?void 0:t.simulateBreak)&&(null===(n=e.options)||void 0===n?void 0:n.simulateDoubleBreak)}(e)?t.from:void 0)}return null==e.parent?Du:null}function Du(){return 0}class Pu extends $u{constructor(e,t,n){super(e.state,e.options),this.pos=t,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(Au(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e)}}function Au(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function Cu(e,t,n,i,r){let s=e.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==e.pos+o,l=t?function(e){var t;let n=e.node,i=n.childAfter(n.from),r=n.lastChild;if(!i)return null;let s=null===(t=e.options)||void 0===t?void 0:t.simulateBreak,o=e.state.doc.lineAt(i.from),a=null==s||s<=o.from?o.to:Math.min(o.to,s);for(let e=i.to;;){let t=n.childAfter(e);if(!t||t==r)return null;if(!t.type.isSkipped)return t.from<a?i:null;e=t.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}function Tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.except,n=e.units,i=void 0===n?1:n;return e=>{let n=t&&t.test(e.textAfter);return e.baseIndent+(n?0:i*e.unit)}}sr.define();const Wu=new Fc,Ru=Sl.baseTheme({$matchingBracket:{color:"#0b0"},$nonmatchingBracket:{color:"#a22"}}),_u=1e4,Eu="()[]{}",Xu=sr.define({combine:e=>qr(e,{afterCursor:!0,brackets:Eu,maxScanDistance:_u})}),Fu=go.mark({class:Do("matchingBracket")}),zu=go.mark({class:Do("nonmatchingBracket")}),Yu=[ur.define({create:()=>go.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],i=t.state.facet(Xu);var r,s=o(t.state.selection.ranges);try{for(s.s();!(r=s.n()).done;){let e=r.value;if(!e.empty)continue;let s=qu(t.state,e.head,-1,i)||e.head>0&&qu(t.state,e.head-1,1,i)||i.afterCursor&&(qu(t.state,e.head,1,i)||e.head<t.state.doc.length&&qu(t.state,e.head+1,-1,i));if(!s)continue;let o=s.matched?Fu:zu;n.push(o.range(s.start.from,s.start.to)),s.end&&n.push(o.range(s.end.from,s.end.to))}}catch(e){s.e(e)}finally{s.f()}return go.set(n,!0)},provide:e=>Sl.decorations.from(e)}),Ru];function Lu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Xu.of(e),Yu]}function Zu(e,t,n){let i=e.prop(t<0?Fc.openedBy:Fc.closedBy);if(i)return i;if(1==e.name.length){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function qu(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.maxScanDistance||_u,o=r.brackets||Eu,a=lu(e),l=a.resolve(t,n);return(i=Zu(l.type,n,o))?Bu(e,t,n,l,i,o):Mu(e,t,n,a,l.type,s,o)}function Bu(e,t,n,i,r,s){let o=i.parent,a={from:i.from,to:i.to},l=0,c=null==o?void 0:o.cursor;if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(n<0?c.to<=i.from:c.from>=i.to){if(0==l&&r.indexOf(c.type.name)>-1)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Zu(c.type,n,s))l++;else if(Zu(c.type,-n,s)&&(l--,0==l))return{start:a,end:{from:c.from,to:c.to},matched:!1}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function Mu(e,t,n,i,r,s,o){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let e=0;!u.next().done&&e<=s;){let s=u.value;n<0&&(e+=s.length);let a=t+e*n;for(let e=n>0?0:s.length-1,t=n>0?s.length:-1;e!=t;e+=n){let t=o.indexOf(s[e]);if(!(t<0||i.resolve(a+e,1).type!=r))if(t%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};h--}}n>0&&(e+=s.length)}return u.done?{start:c,matched:!1}:null}function ju(e,t){return tr.create(e.ranges.map(t),e.mainIndex)}function Vu(e,t){return e.update({selection:t,scrollIntoView:!0,annotations:Cr.userEvent.of("keyboardselection")})}function Iu(e,t){let n=e.state,i=e.dispatch,r=ju(n.selection,t);return!r.eq(n.selection)&&(i(Vu(n,r)),!0)}function Uu(e,t){return tr.cursor(t?e.to:e.from)}function Nu(e,t){return Iu(e,(n=>n.empty?e.moveByChar(n,t):Uu(n,t)))}const Gu=e=>Nu(e,e.textDirection!=ca.LTR),Hu=e=>Nu(e,e.textDirection==ca.LTR);function Ku(e,t){return Iu(e,(n=>n.empty?e.moveByGroup(n,t):Uu(n,t)))}function Ju(e,t,n){if(t.type.prop(n))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function eh(e,t,n){let i,r,s=lu(e).resolve(t.head),o=n?Fc.closedBy:Fc.openedBy;for(let i=t.head;;){let t=n?s.childAfter(i):s.childBefore(i);if(!t)break;Ju(e,t,o)?s=t:i=n?t.to:t.from}return r=s.type.prop(o)&&(i=n?qu(e,s.from,1):qu(e,s.to,-1))&&i.matched?n?i.end.to:i.end.from:n?s.to:s.from,tr.cursor(r,n?-1:1)}function th(e,t){return Iu(e,(n=>n.empty?e.moveVertically(n,t):Uu(n,t)))}const nh=e=>th(e,!1),ih=e=>th(e,!0);function rh(e,t){return Iu(e,(n=>n.empty?e.moveVertically(n,t,e.dom.clientHeight):Uu(n,t)))}const sh=e=>rh(e,!1),oh=e=>rh(e,!0);function ah(e,t,n){let i=e.visualLineAt(t.head),r=e.moveToLineBoundary(t,n);if(r.head==t.head&&r.head!=(n?i.to:i.from)&&(r=e.moveToLineBoundary(t,n,!1)),!n&&r.head==i.from&&i.length){let n=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&t.head!=i.from+n&&(r=tr.cursor(i.from+n))}return r}const lh=e=>Iu(e,(t=>tr.cursor(e.visualLineAt(t.head).from,1))),ch=e=>Iu(e,(t=>tr.cursor(e.visualLineAt(t.head).to,-1)));function uh(e,t){let n=ju(e.state.selection,(e=>{let n=t(e);return tr.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(Vu(e.state,n)),!0)}function hh(e,t){return uh(e,(n=>e.moveByChar(n,t)))}const fh=e=>hh(e,e.textDirection!=ca.LTR),dh=e=>hh(e,e.textDirection==ca.LTR);function ph(e,t){return uh(e,(n=>e.moveByGroup(n,t)))}function Oh(e,t){return uh(e,(n=>e.moveVertically(n,t)))}const gh=e=>Oh(e,!1),mh=e=>Oh(e,!0);function yh(e,t){return uh(e,(n=>e.moveVertically(n,t,e.dom.clientHeight)))}const vh=e=>yh(e,!1),bh=e=>yh(e,!0),Qh=e=>uh(e,(t=>tr.cursor(e.visualLineAt(t.head).from))),xh=e=>uh(e,(t=>tr.cursor(e.visualLineAt(t.head).to))),wh=e=>{let t=e.state;return(0,e.dispatch)(Vu(t,{anchor:0})),!0},$h=e=>{let t=e.state;return(0,e.dispatch)(Vu(t,{anchor:t.doc.length})),!0},kh=e=>{let t=e.state;return(0,e.dispatch)(Vu(t,{anchor:t.selection.main.anchor,head:0})),!0},Sh=e=>{let t=e.state;return(0,e.dispatch)(Vu(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function Dh(e,t){let n=e.state,i=e.dispatch,r=n.changeByRange((e=>{let n=e.from,i=e.to;if(n==i){let e=t(n);n=Math.min(n,e),i=Math.max(i,e)}return n==i?{range:e}:{changes:{from:n,to:i},range:tr.cursor(n)}}));return!r.changes.empty&&(i(n.update(r,{scrollIntoView:!0,annotations:Cr.userEvent.of("delete")})),!0)}const Ph=(e,t,n)=>Dh(e,(i=>{let r,s,o=e.state,a=o.doc.lineAt(i);if(!t&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,i-a.from))){if("\t"==r[r.length-1])return i-1;let e=_i(r,0,o.tabSize)%Qu(o)||Qu(o);for(let t=0;t<e&&" "==r[r.length-1-t];t++)i--;return i}if(n){let e=a.text.slice(i-a.from+(t?0:-2),i-a.from+(t?2:0)),n=e?Ri(Ti(e,0)):1;s=t?Math.min(o.doc.length,i+n):Math.max(0,i-n)}else s=Si(a.text,i-a.from,t)+a.from;return s==i&&a.number!=(t?o.doc.lines:1)&&(s+=t?1:-1),s})),Ah=e=>Ph(e,!0,!1),Ch=(e,t)=>Dh(e,(n=>{let i=n,r=e.state,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let e=null;;){if(i==(t?s.to:s.from)){i==n&&s.number!=(t?r.doc.lines:1)&&(i+=t?1:-1);break}let a=Si(s.text,i-s.from,t)+s.from,l=s.text.slice(Math.min(i,a)-s.from,Math.max(i,a)-s.from),c=o(l);if(null!=e&&c!=e)break;" "==l&&i==n||(e=c),i=a}return i})),Th=e=>Ch(e,!1),Wh=e=>Ch(e,!0);function Rh(e){let t=[],n=-1;var i,r=o(e.selection.ranges);try{for(r.s();!(i=r.n()).done;){let r=i.value,s=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);n==s.number?t[t.length-1].to=o.to:t.push({from:s.from,to:o.to}),n=o.number}}catch(e){r.e(e)}finally{r.f()}return t}function _h(e,t,n){let i=[];var r,s=o(Rh(e));try{for(s.s();!(r=s.n()).done;){let t=r.value;if(n?t.to==e.doc.length:0==t.from)continue;let s=e.doc.lineAt(n?t.to+1:t.from-1);n?i.push({from:t.to,to:s.to},{from:t.from,insert:s.text+e.lineBreak}):i.push({from:s.from,to:t.from},{from:t.to,insert:e.lineBreak+s.text})}}catch(e){s.e(e)}finally{s.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0})),!0)}function Eh(e,t,n){let i=[];var r,s=o(Rh(e));try{for(s.s();!(r=s.n()).done;){let t=r.value;n?i.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):i.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)})}}catch(e){s.e(e)}finally{s.f()}return t(e.update({changes:i,scrollIntoView:!0})),!0}function Xh(e,t){let n=-1;return e.changeByRange((i=>{let r=[];for(let s=i.from;s<=i.to;){let o=e.doc.lineAt(s);o.number>n&&(i.empty||i.to>o.from)&&(t(o,r,i),n=o.number),s=o.to+1}let s=e.changes(r);return{changes:r,range:tr.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}}))}const Fh=[{key:"ArrowLeft",run:Gu,shift:fh},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Ku(e,e.textDirection!=ca.LTR),shift:e=>ph(e,e.textDirection!=ca.LTR)},{mac:"Cmd-ArrowLeft",run:lh,shift:Qh},{key:"ArrowRight",run:Hu,shift:dh},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Ku(e,e.textDirection==ca.LTR),shift:e=>ph(e,e.textDirection==ca.LTR)},{mac:"Cmd-ArrowRight",run:ch,shift:xh},{key:"ArrowUp",run:nh,shift:gh},{mac:"Cmd-ArrowUp",run:wh,shift:kh},{mac:"Ctrl-ArrowUp",run:sh,shift:vh},{key:"ArrowDown",run:ih,shift:mh},{mac:"Cmd-ArrowDown",run:$h,shift:Sh},{mac:"Ctrl-ArrowDown",run:oh,shift:bh},{key:"PageUp",run:sh,shift:vh},{key:"PageDown",run:oh,shift:bh},{key:"Home",run:e=>Iu(e,(t=>ah(e,t,!1))),shift:e=>uh(e,(t=>ah(e,t,!1)))},{key:"Mod-Home",run:wh,shift:kh},{key:"End",run:e=>Iu(e,(t=>ah(e,t,!0))),shift:e=>uh(e,(t=>ah(e,t,!0)))},{key:"Mod-End",run:$h,shift:Sh},{key:"Enter",run:e=>{let t=e.state,n=e.dispatch,i=t.changeByRange((e=>{let n=e.from,i=e.to,r=n==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,i=lu(e).resolve(t),r=i.childBefore(t),s=i.childAfter(t);return r&&s&&r.to<=t&&s.from>=t&&(n=r.type.prop(Fc.closedBy))&&n.indexOf(s.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(s.from).from?{from:r.to,to:s.from}:null}(t,n),s=new $u(t,{simulateBreak:n,simulateDoubleBreak:!!r}),o=wu(s,n);null==o&&(o=/^\s*/.exec(t.doc.lineAt(n).text)[0].length);let a=t.doc.lineAt(n);for(;i<a.to&&/\s/.test(a.text.slice(i-a.from,i+1-a.from));)i++;r?(n=r.from,i=r.to):n>a.from&&n<a.from+100&&!/\S/.test(a.text.slice(0,n))&&(n=a.from);let l=["",xu(t,o)];return r&&l.push(xu(t,s.lineIndent(a))),{changes:{from:n,to:i,insert:Xi.of(l)},range:tr.cursor(n+1+l[1].length)}}));return n(t.update(i,{scrollIntoView:!0})),!0}},{key:"Mod-a",run:e=>{let t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},annotations:Cr.userEvent.of("keyboardselection")})),!0}},{key:"Backspace",run:e=>Ph(e,!1,!0)},{key:"Delete",run:Ah},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Th},{key:"Mod-Delete",mac:"Alt-Delete",run:Wh}].concat([{key:"Ctrl-b",run:Gu,shift:fh},{key:"Ctrl-f",run:Hu,shift:dh},{key:"Ctrl-p",run:nh,shift:gh},{key:"Ctrl-n",run:ih,shift:mh},{key:"Ctrl-a",run:lh,shift:Qh},{key:"Ctrl-e",run:ch,shift:xh},{key:"Ctrl-d",run:Ah},{key:"Ctrl-h",run:e=>Ph(e,!1,!1)},{key:"Ctrl-k",run:e=>Dh(e,(t=>{let n=e.visualLineAt(t).to;return t<n?n:Math.min(e.state.doc.length,t+1)}))},{key:"Alt-d",run:Wh},{key:"Ctrl-Alt-h",run:Th},{key:"Ctrl-o",run:e=>{let t=e.state,n=e.dispatch,i=t.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:Xi.of(["",""])},range:tr.cursor(e.from)})));return n(t.update(i,{scrollIntoView:!0,annotations:Cr.userEvent.of("input")})),!0}},{key:"Ctrl-t",run:e=>{let t=e.state,n=e.dispatch,i=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,i=t.doc.lineAt(n),r=n==i.from?n-1:Si(i.text,n-i.from,!1)+i.from,s=n==i.to?n+1:Si(i.text,n-i.from,!0)+i.from;return{changes:{from:r,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(r,n))},range:tr.cursor(s)}}));return!i.changes.empty&&(n(t.update(i,{scrollIntoView:!0})),!0)}},{key:"Alt-f",run:e=>Ku(e,!0),shift:e=>ph(e,!0)},{key:"Alt-b",run:e=>Ku(e,!1),shift:e=>ph(e,!1)},{key:"Alt-<",run:wh},{key:"Alt->",run:$h},{key:"Ctrl-v",run:oh},{key:"Alt-v",run:sh}].map((e=>({mac:e.key,run:e.run,shift:e.shift})))),zh=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Iu(e,(t=>eh(e.state,t,e.textDirection!=ca.LTR))),shift:e=>uh(e,(t=>eh(e.state,t,e.textDirection!=ca.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Iu(e,(t=>eh(e.state,t,e.textDirection==ca.LTR))),shift:e=>uh(e,(t=>eh(e.state,t,e.textDirection==ca.LTR)))},{key:"Alt-ArrowUp",run:e=>_h(e.state,e.dispatch,!1)},{key:"Shift-Alt-ArrowUp",run:e=>Eh(e.state,e.dispatch,!1)},{key:"Alt-ArrowDown",run:e=>_h(e.state,e.dispatch,!0)},{key:"Shift-Alt-ArrowDown",run:e=>Eh(e.state,e.dispatch,!0)},{key:"Escape",run:e=>{let t=e.state,n=e.dispatch,i=t.selection,r=null;return i.ranges.length>1?r=tr.create([i.main]):i.main.empty||(r=tr.create([tr.cursor(i.main.head)])),!!r&&(n(Vu(t,r)),!0)}},{key:"Alt-l",run:e=>{let t=e.state,n=e.dispatch,i=Rh(t).map((e=>{let n=e.from,i=e.to;return tr.range(n,Math.min(i+1,t.doc.length))}));return n(t.update({selection:tr.create(i),annotations:Cr.userEvent.of("keyboardselection")})),!0}},{key:"Mod-i",run:e=>{let t=e.state,n=e.dispatch,i=ju(t.selection,(e=>{var n;let i=lu(t).resolve(e.head,1);for(;!(i.from<e.from&&i.to>=e.to||i.to>e.to&&i.from<=e.from)&&(null===(n=i.parent)||void 0===n?void 0:n.parent);)i=i.parent;return tr.range(i.to,i.from)}));return n(Vu(t,i)),!0}},{key:"Mod-[",run:e=>{let t=e.state;return(0,e.dispatch)(t.update(Xh(t,((e,n)=>{let i=/^\s*/.exec(e.text)[0];if(!i)return;let r=_i(i,0,t.tabSize),s=0,o=xu(t,Math.max(0,r-Qu(t)));for(;s<i.length&&s<o.length&&i.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+i.length,insert:o.slice(s)})})))),!0}},{key:"Mod-]",run:e=>{let t=e.state;return(0,e.dispatch)(t.update(Xh(t,((e,n)=>{n.push({from:e.from,insert:t.facet(bu)})})))),!0}},{key:"Mod-Alt-\\",run:e=>{let t=e.state,n=e.dispatch,i=Object.create(null),r=new $u(t,{overrideIndentation:e=>{let t=i[e];return null==t?-1:t}}),s=Xh(t,((e,n,s)=>{let o=wu(r,e.from);if(null==o)return;let a=/^\s*/.exec(e.text)[0],l=xu(t,o);(a!=l||s.from<e.from+a.length)&&(i[e.from]=o,n.push({from:e.from,to:e.from+a.length,insert:l}))}));return s.changes.empty||n(t.update(s)),!0}},{key:"Shift-Mod-k",run:e=>{let t=e.state,n=t.changes(Rh(t).map((e=>{let n=e.from,i=e.to;return n>0?n--:i<t.doc.length&&i++,{from:n,to:i}}))),i=ju(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:i,scrollIntoView:!0}),!0}},{key:"Shift-Mod-\\",run:e=>function(e,t,n){let i=!1,r=ju(e.selection,(t=>{let r=qu(e,t.head,-1)||qu(e,t.head,1)||t.head>0&&qu(e,t.head-1,1)||t.head<e.doc.length&&qu(e,t.head+1,-1);if(!r||!r.end)return t;i=!0;let s=r.start.from==t.head?r.end.to:r.end.from;return n?tr.range(t.anchor,s):tr.cursor(s)}));return!!i&&(t(Vu(e,r)),!0)}(e.state,e.dispatch,!1)}].concat(Fh),Yh={brackets:["(","[","{","'",'"'],before:")]}'\":;>"},Lh=Pr.define({map(e,t){let n=t.mapPos(e,-1,ji.TrackAfter);return null==n?void 0:n}}),Zh=Pr.define({map:(e,t)=>t.mapPos(e)}),qh=new class extends Nr{};qh.startSide=1,qh.endSide=-1;const Bh=ur.define({create:()=>Jr.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head).from,i=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(i,-1)&&(e=Jr.empty)}e=e.map(t.changes);var n,i=o(t.effects);try{for(i.s();!(n=i.n()).done;){let t=n.value;t.is(Lh)?e=e.update({add:[qh.range(t.value,t.value+1)]}):t.is(Zh)&&(e=e.update({filter:e=>e!=t.value}))}}catch(e){i.e(e)}finally{i.f()}return e}});const Mh="()[]{}<>";function jh(e){for(let t=0;t<Mh.length;t+=2)if(Mh.charCodeAt(t)==e)return Mh.charAt(t+1);return Wi(e<128?e:e+1)}function Vh(e,t){return e.languageDataAt("closeBrackets",t)[0]||Yh}function Ih(e,t,n,i){if(e.composing)return!1;let r=e.state.selection.main;if(i.length>2||2==i.length&&1==Ri(Ti(i,0))||t!=r.from||n!=r.to)return!1;let s=function(e,t){let n=Vh(e,e.selection.main.head),i=n.brackets||Yh.brackets;var r,s=o(i);try{for(s.s();!(r=s.n()).done;){let s=r.value,o=jh(Ti(s,0));if(t==s)return o==s?Jh(e,s,i.indexOf(s+s+s)>-1):Hh(e,s,o,n.before||Yh.before);if(t==o&&Nh(e,e.selection.main.from))return Kh(e,s,o)}}catch(e){s.e(e)}finally{s.f()}return null}(e.state,i);return!!s&&(e.dispatch(s),!0)}const Uh=[{key:"Backspace",run:e=>{let t=e.state,n=e.dispatch,i=Vh(t,t.selection.main.head).brackets||Yh.brackets,r=null,s=t.changeByRange((e=>{if(e.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return Ri(Ti(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);var n,s=o(i);try{for(s.s();!(n=s.n()).done;){let i=n.value;if(i==r&&Gh(t.doc,e.head)==jh(Ti(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:tr.cursor(e.head-i.length),annotations:Cr.userEvent.of("delete")}}}catch(e){s.e(e)}finally{s.f()}}return{range:r=e}}));return r||n(t.update(s,{scrollIntoView:!0})),!r}}];function Nh(e,t){let n=!1;return e.field(Bh).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function Gh(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Ri(Ti(n,0)))}function Hh(e,t,n,i){let r=null,s=e.changeByRange((s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:n,from:s.to}],effects:Lh.of(s.to+t.length),range:tr.range(s.anchor+t.length,s.head+t.length)};let o=Gh(e.doc,s.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:t+n,from:s.head},effects:Lh.of(s.head+t.length),range:tr.cursor(s.head+t.length)}:{range:r=s}}));return r?null:e.update(s,{scrollIntoView:!0,annotations:Cr.userEvent.of("input")})}function Kh(e,t,n){let i=null,r=e.selection.ranges.map((t=>t.empty&&Gh(e.doc,t.head)==n?tr.cursor(t.head+n.length):i=t));return i?null:e.update({selection:tr.create(r,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((e=>{let t=e.from;return Zh.of(t)}))})}function Jh(e,t,n){let i=null,r=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:Lh.of(r.to+t.length),range:tr.range(r.anchor+t.length,r.head+t.length)};let s=r.head,o=Gh(e.doc,s);if(o==t){if(ef(e,s))return{changes:{insert:t+t,from:s},effects:Lh.of(s+t.length),range:tr.cursor(s+t.length)};if(Nh(e,s)){let i=n&&e.sliceDoc(s,s+3*t.length)==t+t+t;return{range:tr.cursor(s+t.length*(i?3:1)),effects:Zh.of(s)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&ef(e,s-2*t.length))return{changes:{insert:t+t+t+t,from:s},effects:Lh.of(s+t.length),range:tr.cursor(s+t.length)};if(e.charCategorizer(s)(o)!=Fr.Word){let n=e.sliceDoc(s-1,s);if(n!=t&&e.charCategorizer(s)(n)!=Fr.Word)return{changes:{insert:t+t,from:s},effects:Lh.of(s+t.length),range:tr.cursor(s+t.length)}}}return{range:i=r}}));return i?null:e.update(r,{scrollIntoView:!0,annotations:Cr.userEvent.of("input")})}function ef(e,t){let n=lu(e).resolve(t+1);return n.parent&&n.from==t}const tf=sr.define({combine(e){let t,n;var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value;t=t||e.topContainer,n=n||e.bottomContainer}}catch(e){r.e(e)}finally{r.f()}return{topContainer:t,bottomContainer:n}}});function nf(e){let t=[of,uf];return e&&t.push(tf.of(e)),t}const rf=sr.define();function sf(e,t){let n=e.plugin(of),i=e.state.facet(rf).indexOf(t);return n&&i>-1?n.panels[i]:null}const of=Uo.fromClass(class{constructor(e){this.specs=e.state.facet(rf),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(tf);this.top=new lf(e,!0,t.topContainer),this.bottom=new lf(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));var n,i=o(this.panels);try{for(i.s();!(n=i.n()).done;){let e=n.value;e.dom.className+=" "+af(e),e.mount&&e.mount()}}catch(e){i.e(e)}finally{i.f()}}update(e){let t=e.state.facet(tf);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new lf(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new lf(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(rf);if(n!=this.specs){let t=[],l=[],c=[],u=[];var i,r=o(n);try{for(r.s();!(i=r.n()).done;){let n,r=i.value,s=this.specs.indexOf(r);s<0?(n=r(e.view),u.push(n)):(n=this.panels[s],n.update&&n.update(e)),t.push(n),(n.top?l:c).push(n)}}catch(e){r.e(e)}finally{r.f()}this.specs=n,this.panels=t,this.top.sync(l),this.bottom.sync(c);for(var s=0,a=u;s<a.length;s++){let e=a[s];e.dom.className+=" "+af(e),e.mount&&e.mount()}}else{var l,c=o(this.panels);try{for(c.s();!(l=c.n()).done;){let t=l.value;t.update&&t.update(e)}}catch(e){c.e(e)}finally{c.f()}}}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:jo.scrollMargins.from((e=>({top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()})))});function af(e){return Do(e.style?`panel.${e.style}`:"panel")}class lf{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=Do(this.top?"panels.top":"panels.bottom"),this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;var t,n=o(this.panels);try{for(n.s();!(t=n.n()).done;){let n=t.value;if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=cf(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e)}}catch(e){n.e(e)}finally{n.f()}for(;e;)e=cf(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-this.view.scrollDOM.getBoundingClientRect().top:this.view.scrollDOM.getBoundingClientRect().bottom-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=o(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){let t=e.value;t&&this.container.classList.remove(t)}}catch(e){t.e(e)}finally{t.f()}var n,i=o((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(n=i.n()).done;){let e=n.value;e&&this.container.classList.add(e)}}catch(e){i.e(e)}finally{i.f()}}}}function cf(e){let t=e.nextSibling;return e.remove(),t}const uf=Sl.baseTheme({$panels:{boxSizing:"border-box",position:"sticky",left:0,right:0},"$$light $panels":{backgroundColor:"#f5f5f5",color:"black"},"$$light $panels.top":{borderBottom:"1px solid #ddd"},"$$light $panels.bottom":{borderTop:"1px solid #ddd"},"$$dark $panels":{backgroundColor:"#333338",color:"white"}});function hf(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];"string"==typeof r?e.setAttribute(i,r):null!=r&&(e[i]=r)}t++}for(;t<arguments.length;t++)ff(e,arguments[t]);return e}function ff(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)ff(e,t[n])}}const df="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class pf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,r=arguments.length>4?arguments[4]:void 0;this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=r?e=>r(df(e)):df,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return this.buffer.charCodeAt(this.bufferPos)}next(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=String.fromCharCode(e),n=this.bufferStart+this.bufferPos;for(this.bufferPos++;;){let e=this.peek();if(e<56320||e>=57344)break;this.bufferPos++,t+=String.fromCharCode(e)}let i=this.normalize(t);for(let e=0,r=n;;e++){let s=i.charCodeAt(e),o=this.match(s,r);if(o)return this.value=o,this;if(e==i.length-1)break;r==n&&e<t.length&&t.charCodeAt(e)==s&&r++}}}match(e,t){let n=null;for(let i=0;i<this.matches.length;i+=2){let r=this.matches[i],s=!1;this.query.charCodeAt(r)==e&&(r==this.query.length-1?n={from:this.matches[i+1],to:t+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n}}function Of(e){let t=document.createElement("form");t.innerHTML=`<label>${e.state.phrase("Go to line:")} <input class=${Do("textfield")} name=line></label>\n<button class=${Do("button")} type=submit>${e.state.phrase("go")}</button>`;let n=t.querySelector("input");function r(){let t=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!t)return;let r=e.state,s=r.doc.lineAt(r.selection.main.head),o=i(t,5),a=o[1],l=o[2],c=o[3],u=o[4],h=c?+c.slice(1):0,f=l?+l:s.number;if(l&&u){let e=f/100;a&&(e=e*("-"==a?-1:1)+s.number/r.doc.lines),f=Math.round(r.doc.lines*e)}else l&&a&&(f=f*("-"==a?-1:1)+s.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,f)));e.dispatch({effects:gf.of(!1),selection:tr.cursor(d.from+Math.max(0,Math.min(h,d.length))),scrollIntoView:!0}),e.focus()}return t.addEventListener("keydown",(t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:gf.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),r())})),t.addEventListener("submit",r),{dom:t,style:"gotoLine",pos:-10}}const gf=Pr.define(),mf=ur.define({create:()=>!0,update(e,t){var n,i=o(t.effects);try{for(i.s();!(n=i.n()).done;){let t=n.value;t.is(gf)&&(e=t.value)}}catch(e){i.e(e)}finally{i.f()}return e},provide:e=>rf.computeN([e],(t=>t.field(e)?[Of]:[]))}),yf=Sl.baseTheme({"$panel.gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),vf={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},bf=sr.define({combine:e=>qr(e,vf,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function Qf(e){let t=[kf,$f];return e&&t.push(bf.of(e)),t}const xf=go.mark({class:Do("selectionMatch")}),wf=go.mark({class:Do("selectionMatch.main")}),$f=Uo.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(bf),n=e.state,i=n.selection;if(i.ranges.length>1)return go.none;let r,s=i.main,a=null;if(s.empty){if(!t.highlightWordAroundCursor)return go.none;if(a=n.charCategorizer(s.head),r=function(e,t,n){let i=e.lineAt(t),r=t-i.from,s=t-i.from;for(;r>0;){let e=Si(i.text,r,!1);if(n(i.text.slice(e,r))!=Fr.Word)break;r=e}for(;s<i.length;){let e=Si(i.text,s);if(n(i.text.slice(s,e))!=Fr.Word)break;s=e}return r==s?null:i.text.slice(r,s)}(n.doc,s.head,a),!r)return go.none}else{let e=s.to-s.from;if(e<t.minSelectionLength||e>200)return go.none;if(r=n.sliceDoc(s.from,s.to).trim(),!r)return go.none}let l=[];var c,u=o(e.visibleRanges);try{for(u.s();!(c=u.n()).done;){let e=c.value,i=new pf(n.doc,r,e.from,e.to);for(;!i.next().done;){let e=i.value,r=e.from,o=e.to;if((!a||(0==r||a(n.sliceDoc(r-1,r))!=Fr.Word)&&(o==n.doc.length||a(n.sliceDoc(o,o+1))!=Fr.Word))&&(a&&r<=s.from&&o>=s.to?l.push(wf.range(r,o)):(r>=s.to||o<=s.from)&&l.push(xf.range(r,o)),l.length>t.maxMatches))return go.none}}}catch(e){u.e(e)}finally{u.f()}return go.set(l)}},{decorations:e=>e.decorations}),kf=Sl.baseTheme({$selectionMatch:{backgroundColor:"#99ff7780"},"$searchMatch $selectionMatch":{backgroundColor:"transparent"}});class Sf{constructor(e,t,n){this.search=e,this.replace=t,this.caseInsensitive=n}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseInsensitive==e.caseInsensitive}cursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return new pf(e,this.search,t,n,this.caseInsensitive?e=>e.toLowerCase():void 0)}get valid(){return!!this.search}}const Df=Pr.define(),Pf=Pr.define(),Af=ur.define({create:()=>new Cf(new Sf("","",!1),[]),update(e,t){var n,i=o(t.effects);try{for(i.s();!(n=i.n()).done;){let t=n.value;t.is(Df)?e=new Cf(t.value,e.panel):t.is(Pf)&&(e=new Cf(e.query,t.value?[qf]:[]))}}catch(e){i.e(e)}finally{i.f()}return e},provide:e=>rf.computeN([e],(t=>t.field(e).panel))});class Cf{constructor(e,t){this.query=e,this.panel=t}}const Tf=go.mark({class:Do("searchMatch")}),Wf=go.mark({class:Do("searchMatch.selected")}),Rf=Uo.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(Af))}update(e){let t=e.state.field(Af);(t!=e.startState.field(Af)||e.docChanged||e.selectionSet)&&(this.decorations=this.highlight(t))}highlight(e){let t=e.query;if(!e.panel.length||!t.valid)return go.none;let n=this.view.state,i=this.view.viewport,r=t.cursor(n.doc,Math.max(0,i.from-t.search.length),Math.min(i.to+t.search.length,n.doc.length)),s=new es;for(;!r.next().done;){let e=r.value,t=e.from,i=e.to,o=n.selection.ranges.some((e=>e.from==t&&e.to==i));s.add(t,i,o?Wf:Tf)}return s.finish()}},{decorations:e=>e.decorations});function _f(e){return t=>{let n=t.state.field(Af,!1);return n&&n.query.valid?e(t,n):Bf(t)}}function Ef(e,t,n){let i=n.cursor(e,t).next();return i.done&&(i=n.cursor(e,0,t+n.search.length-1).next(),i.done)?null:i.value}const Xf=_f(((e,t)=>{let n=e.state.selection.main,i=n.from,r=n.to,s=Ef(e.state.doc,e.state.selection.main.from+1,t.query);return!(!s||s.from==i&&s.to==r)&&(e.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),Uf(e),!0)}));function Ff(e,t,n,i){for(let r=i;;){let i=Math.max(n,r-1e4-e.search.length),s=e.cursor(t,i,r),o=null;for(;!s.next().done;)o=s.value;if(o)return o;if(i==n)return null;r-=1e4}}const zf=_f(((e,t)=>{let n=t.query,i=e.state,r=Ff(n,i.doc,0,i.selection.main.to-1)||Ff(n,i.doc,i.selection.main.from+1,i.doc.length);return!!r&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),Uf(e),!0)})),Yf=_f(((e,t)=>{let n=t.query.cursor(e.state.doc),i=[];for(;!n.next().done;)i.push(tr.range(n.value.from,n.value.to));return!!i.length&&(e.dispatch({selection:tr.create(i)}),!0)})),Lf=_f(((e,t)=>{let n=t.query,i=e.state,r=Ef(i.doc,i.selection.main.from,n);if(!r)return!1;let s,o=i.selection.main,a=o.from,l=o.to,c=[];if(r.from==a&&r.to==l&&(c.push({from:r.from,to:r.to,insert:n.replace}),r=Ef(i.doc,r.to,n)),r){let e=0==c.length||c[0].from>=r.to?0:r.to-r.from-n.replace.length;s={anchor:r.from-e,head:r.to-e}}return e.dispatch({changes:c,selection:s,scrollIntoView:!!s}),r&&Uf(e),!0})),Zf=_f(((e,t)=>{let n=t.query,i=n.cursor(e.state.doc),r=[];for(;!i.next().done;){let e=i.value,t=e.from,s=e.to;r.push({from:t,to:s,insert:n.replace})}return!!r.length&&(e.dispatch({changes:r}),!0)}));function qf(e){let t=e.state.field(Af).query;return{dom:Vf({view:e,query:t,updateQuery(n){t.eq(n)||(t=n,e.dispatch({effects:Df.of(t)}))}}),mount(){this.dom.querySelector("[name=search]").select()},pos:80,style:"search"}}const Bf=e=>{let t=e.state.field(Af,!1);if(t&&t.panel.length){let t=sf(e,qf);if(!t)return!1;t.dom.querySelector("[name=search]").focus()}else e.dispatch({effects:Pf.of(!0),reconfigure:t?void 0:{append:Gf}});return!0},Mf=e=>{let t=e.state.field(Af,!1);if(!t||!t.panel.length)return!1;let n=sf(e,qf);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:Pf.of(!1)}),!0},jf=[{key:"Mod-f",run:Bf,scope:"editor search-panel"},{key:"F3",run:Xf,shift:zf,scope:"editor search-panel"},{key:"Mod-g",run:Xf,shift:zf,scope:"editor search-panel"},{key:"Escape",run:Mf,scope:"editor search-panel"},{key:"Mod-Shift-l",run:e=>{let t=e.state,n=e.dispatch,i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let r=i.main,s=r.from,o=r.to,a=[],l=0;for(let e=new pf(t.doc,t.sliceDoc(s,o));!e.next().done;){if(a.length>1e3)return!1;e.value.from==s&&(l=a.length),a.push(tr.range(e.value.from,e.value.to))}return n(t.update({selection:tr.create(a,l)})),!0}},{key:"Alt-g",run:e=>{let t=sf(e,Of);return t||(e.dispatch({reconfigure:null==e.state.field(mf,!1)?{append:[nf(),mf,yf]}:void 0,effects:gf.of(!0)}),t=sf(e,Of)),t&&t.dom.querySelector("input").focus(),!0}}];function Vf(e){function t(t){return e.view.state.phrase(t)}let n=hf("input",{value:e.query.search,placeholder:t("Find"),"aria-label":t("Find"),class:Do("textfield"),name:"search",onchange:s,onkeyup:s}),i=hf("input",{value:e.query.replace,placeholder:t("Replace"),"aria-label":t("Replace"),class:Do("textfield"),name:"replace",onchange:s,onkeyup:s}),r=hf("input",{type:"checkbox",name:"case",checked:!e.query.caseInsensitive,onchange:s});function s(){e.updateQuery(new Sf(n.value,i.value,!r.checked))}function o(e,t,n){return hf("button",{class:Do("button"),name:e,onclick:t},n)}return hf("div",{onkeydown:function(t){var r,s,o;r=e.view,s=t,o="search-panel",ql(Yl(r.state),s,r,o)?t.preventDefault():13==t.keyCode&&t.target==n?(t.preventDefault(),(t.shiftKey?zf:Xf)(e.view)):13==t.keyCode&&t.target==i&&(t.preventDefault(),Lf(e.view))}},[n,o("next",(()=>Xf(e.view)),[t("next")]),o("prev",(()=>zf(e.view)),[t("previous")]),o("select",(()=>Yf(e.view)),[t("all")]),hf("label",null,[r,"match case"]),hf("br"),i,o("replace",(()=>Lf(e.view)),[t("replace")]),o("replaceAll",(()=>Zf(e.view)),[t("replace all")]),hf("button",{name:"close",onclick:()=>Mf(e.view),"aria-label":t("close")},["×"]),hf("div",{style:"position: absolute; top: -10000px","aria-live":"polite"})])}const If=/[\s\.,:;?!]/;function Uf(e){let t=e.state.selection.main,n=t.from,i=t.to,r=e.state.doc.lineAt(n).from,s=e.state.doc.lineAt(i).to,o=Math.max(r,n-30),a=Math.min(s,i+30),l=e.state.sliceDoc(o,a);if(o!=r)for(let e=0;e<30;e++)if(!If.test(l[e+1])&&If.test(l[e])){l=l.slice(e);break}if(a!=s)for(let e=l.length-1;e>l.length-30;e--)if(!If.test(l[e-1])&&If.test(l[e])){l=l.slice(0,e);break}let c=sf(e,qf);c&&c.dom.contains(e.root.activeElement)&&(c.dom.querySelector("div[aria-live]").textContent=e.state.phrase("current match")+". "+l)}const Nf=Sl.baseTheme({"$panel.search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button":{margin:".2em .5em .2em 0"},"& label":{fontSize:"80%"}},"$$light $searchMatch":{backgroundColor:"#ffff0054"},"$$dark $searchMatch":{backgroundColor:"#00ffff8a"},"$$light $searchMatch.selected":{backgroundColor:"#ff6a0054"},"$$dark $searchMatch.selected":{backgroundColor:"#ff00ff8a"}}),Gf=[Af,Or.override(Rf),nf(),Nf],Hf="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Kf=Uo.fromClass(class{constructor(e){this.view=e,this.inView=!0,this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.tooltips=e.state.facet(td),this.tooltipViews=this.tooltips.map((e=>this.createTooltip(e)))}update(e){let t=e.state.facet(td);if(t==this.tooltips){var n,i=o(this.tooltipViews);try{for(i.s();!(n=i.n()).done;){let t=n.value;t.update&&t.update(e)}}catch(e){i.e(e)}finally{i.f()}}else{let n=[];for(let i=0;i<t.length;i++){let r=t[i],s=-1;for(let e=0;e<this.tooltips.length;e++)this.tooltips[e].create==r.create&&(s=e);if(s<0)n[i]=this.createTooltip(r);else{let t=n[i]=this.tooltipViews[s];t.update&&t.update(e)}}var r,s=o(this.tooltipViews);try{for(s.s();!(r=s.n()).done;){let e=r.value;n.indexOf(e)<0&&e.dom.remove()}}catch(e){s.e(e)}finally{s.f()}this.tooltips=t,this.tooltipViews=n,this.maybeMeasure()}}createTooltip(e){let t=e.create(this.view);return t.dom.className=Do("tooltip"+(e.style?"."+e.style:"")),this.view.dom.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t=o(this.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.remove()}}catch(e){t.e(e)}finally{t.f()}}readMeasure(){return{editor:this.view.dom.getBoundingClientRect(),pos:this.tooltips.map((e=>this.view.coordsAtPos(e.pos))),size:this.tooltipViews.map((e=>e.dom.getBoundingClientRect())),innerWidth:window.innerWidth,innerHeight:window.innerHeight}}writeMeasure(e){let t=e.editor;for(let n=0;n<this.tooltipViews.length;n++){let i=this.tooltips[n],r=this.tooltipViews[n],s=r.dom,o=e.pos[n],a=e.size[n];if(!o||o.bottom<=t.top||o.top>=t.bottom||o.right<=t.left||o.left>=t.right){s.style.top="-10000px";continue}let l=a.right-a.left,c=a.bottom-a.top,u=this.view.textDirection==ca.LTR?Math.min(o.left,e.innerWidth-l):Math.max(0,o.left-l),h=!!i.above;!i.strictSide&&(h?o.top-(a.bottom-a.top)<0:o.bottom+(a.bottom-a.top)>e.innerHeight)&&(h=!h),Hf?(s.style.top=(h?o.top-c:o.bottom)-t.top+"px",s.style.left=u-t.left+"px",s.style.position="absolute"):(s.style.top=(h?o.top-c:o.bottom)+"px",s.style.left=u+"px"),s.classList.toggle("cm-tooltip-above",h),s.classList.toggle("cm-tooltip-below",!h),r.positioned&&r.positioned()}}maybeMeasure(){this.tooltips.length&&((this.view.inView||this.inView)&&this.view.requestMeasure(this.measureReq),this.inView=this.view.inView)}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Jf=Sl.baseTheme({$tooltip:{position:"fixed",border:"1px solid #ddd",backgroundColor:"#f5f5f5",zIndex:100}});function ed(){return[Kf,Jf]}const td=sr.define();class nd{constructor(e,t,n,i){this.view=e,this.source=t,this.field=n,this.setHover=i,this.lastMouseMove=null,this.hoverTimeout=-1,this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now(),t=this.lastMouseMove;if(e-t.timeStamp<750)return void(this.hoverTimeout=setTimeout(this.checkHover,750-(e-t.timeStamp)));let n={x:t.clientX,y:t.clientY},i=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(n):null;if(null==i)return;let r=this.view.coordsAtPos(i);if(null==r||n.y<r.top||n.y>r.bottom||n.x<r.left-this.view.defaultCharacterWidth||n.x>r.right+this.view.defaultCharacterWidth)return;let s=this.view.bidiSpans(this.view.state.doc.lineAt(i)).find((e=>e.from<=i&&e.to>=i)),o=s&&s.dir==ca.RTL?-1:1,a=this.source(this.view,i,n.x<r.left?-o:o);a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMouseMove=e,this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,750));let n=this.active;if(n&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(e.target)){let i=n.pos,r=null!==(t=n.end)&&void 0!==t?t:i;(i==r?this.view.posAtCoords({x:e.clientX,y:e.clientY})==i:function(e,t,n,i,r,s){let o=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(n);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let c=o.getClientRects();o.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-r,r-t.bottom,t.left-i,i-t.right)<=s)return!0}return!1}(this.view,i,r,e.clientX,e.clientY,10))||this.view.dispatch({effects:this.setHover.of(null)})}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function id(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Pr.define(),i=ur.define({create:()=>null,update(e,i){if(e&&t.hideOnChange&&(i.docChanged||i.selection))return null;var r,s=o(i.effects);try{for(s.s();!(r=s.n()).done;){let e=r.value;if(e.is(n))return e.value}}catch(e){s.e(e)}finally{s.f()}if(e&&i.docChanged){let t=i.changes.mapPos(e.pos,-1,ji.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);return n.pos=t,null!=e.end&&(n.end=i.changes.mapPos(e.end)),n}return e},provide:e=>td.computeN([e],(t=>{let n=t.field(e);return n?[n]:[]}))});return[i,Uo.define((t=>new nd(t,e,i,n))),ed()]}class rd{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=lu(this.state).resolve(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),r=i.search(cd(e,!1));return r<0?null:{from:n+r,to:this.pos,text:i.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function sd(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function od(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),n=i(t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value.label;t[e[0]]=!0;for(let t=1;t<e.length;t++)n[e[t]]=!0}}catch(e){r.e(e)}finally{r.f()}let s=sd(t)+sd(n)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(t),2),r=n[0],s=n[1];return e=>{let n=e.matchBefore(s);return n||e.explicit?{from:n?n.from:e.pos,options:t,span:r}:null}}class ad{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function ld(e){return e.selection.main.head}function cd(e,t){var n;let i=e.source,r=t&&"^"!=i[0],s="$"!=i[i.length-1];return r||s?new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}function ud(e,t){let n=t.completion.apply||t.completion.label,i=t.source;"string"==typeof n?e.dispatch({changes:{from:i.from,to:i.to,insert:n},selection:{anchor:i.from+n.length}}):n(e,t.completion,i.from,i.to)}const hd=new WeakMap;function fd(e){if(!Array.isArray(e))return e;let t=hd.get(e);return t||hd.set(e,t=od(e)),t}class dd{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=Ti(e,t),i=Ri(n);this.chars.push(n);let r=e.slice(t,t+i),s=r.toUpperCase();this.folded.push(Ti(s==r?r.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let t=this.chars,n=this.folded,i=this.any,r=this.precise,s=this.byWord;if(1==t.length){let i=Ti(e,0);return i==t[0]?[0,0,Ri(i)]:i==n[0]?[-200,0,Ri(i)]:null}let o=e.indexOf(this.pattern);if(0==o)return[0,0,this.pattern.length];let a=t.length,l=0;if(o<0){for(let r=0,s=Math.min(e.length,200);r<s&&l<a;){let s=Ti(e,r);s!=t[l]&&s!=n[l]||(i[l++]=r),r+=Ri(s)}if(l<a)return null}let c=0,u=0,h=!1,f=0,d=-1,p=-1,O=/[a-z]/.test(e);for(let i=0,l=Math.min(e.length,200),g=0;i<l&&u<a;){let l=Ti(e,i);o<0&&(c<a&&l==t[c]&&(r[c++]=i),f<a&&(l==t[f]||l==n[f]?(0==f&&(d=i),p=i,f++):f=0));let m,y=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(m=Wi(l))!=m.toLowerCase()?1:m!=m.toUpperCase()?2:0;(1==y&&O||0==g&&0!=y)&&(t[u]==l||n[u]==l&&(h=!0))&&(s[u++]=i),g=y,i+=Ri(l)}return u==a&&0==s[0]?this.result((h?-200:0)-100,s,e):f==a&&0==d?[-200,0,p]:o>-1?[-700,o,o+this.pattern.length]:f==a?[-900,d,p]:u==a?this.result((h?-200:0)-100-700,s,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,n){let i=[e],r=1;var s,a=o(t);try{for(a.s();!(s=a.n()).done;){let e=s.value,t=e+(this.astral?Ri(Ti(n,e)):1);r>1&&i[r-1]==e?i[r-1]=t:(i[r++]=e,i[r++]=t)}}catch(e){a.e(e)}finally{a.f()}return i}}const pd=sr.define({combine:e=>qr(e,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0},{defaultKeymap:(e,t)=>e&&t})}),Od=Sl.baseTheme({"$tooltip.autocomplete":{"& > ul":{fontFamily:"monospace",overflowY:"auto",whiteSpace:"nowrap",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{cursor:"pointer",padding:"1px 1em 1px 3px",lineHeight:1.2},"& > li[aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"}}},"$completionListIncompleteTop:before, $completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},"$tooltip.completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},"$tooltip.completionInfo.left":{right:"100%"},"$tooltip.completionInfo.right":{left:"100%"},"$$light $snippetField":{backgroundColor:"#00000022"},"$$dark $snippetField":{backgroundColor:"#ffffff22"},$snippetFieldPosition:{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},$completionMatchedText:{textDecoration:"underline"},$completionDetail:{marginLeft:"0.5em",fontStyle:"italic"},$completionIcon:{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},"$completionIcon.function, $completionIcon.method":{"&:after":{content:"'ƒ'"}},"$completionIcon.class":{"&:after":{content:"'○'"}},"$completionIcon.interface":{"&:after":{content:"'◌'"}},"$completionIcon.variable":{"&:after":{content:"'𝑥'"}},"$completionIcon.constant":{"&:after":{content:"'𝐶'"}},"$completionIcon.type":{"&:after":{content:"'𝑡'"}},"$completionIcon.enum":{"&:after":{content:"'∪'"}},"$completionIcon.property":{"&:after":{content:"'□'"}},"$completionIcon.keyword":{"&:after":{content:"'🔑︎'"}},"$completionIcon.namespace":{"&:after":{content:"'▢'"}},"$completionIcon.text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function gd(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true");for(let r=n.from;r<n.to;r++){let n=e[r],s=n.completion,o=n.match;const a=i.appendChild(document.createElement("li"));a.id=t+"-"+r;let l=a.appendChild(document.createElement("div"));l.className=Do("completionIcon"+(s.type?"."+s.type:"")),l.setAttribute("aria-hidden","true");let c=a.appendChild(document.createElement("span"));c.className=Do("completionLabel");let u=s.label,h=s.detail,f=0;for(let e=1;e<o.length;){let t=o[e++],n=o[e++];t>f&&c.appendChild(document.createTextNode(u.slice(f,t)));let i=c.appendChild(document.createElement("span"));i.appendChild(document.createTextNode(u.slice(t,n))),i.className=Do("completionMatchedText"),f=n}if(f<u.length&&c.appendChild(document.createTextNode(u.slice(f))),h){let e=a.appendChild(document.createElement("span"));e.className=Do("completionDetail"),e.textContent=h}a.setAttribute("role","option")}return n.from&&i.classList.add(Do("completionListIncompleteTop")),n.to<e.length&&i.classList.add(Do("completionListIncompleteBottom")),i}function md(e,t,n){if(e<=n)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}class yd{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let n=e.state.field(t),i=n.open,r=i.options,s=i.selected,o=e.state.facet(pd);this.range=md(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.addEventListener("mousedown",(t=>{for(let n,i=t.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<r.length)return ud(e,r[+n[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(gd(r,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=md(t.options.length,t.selected,this.view.state.facet(pd).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(gd(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let e=t.options[t.selected];e.completion.info&&(this.info=this.dom.appendChild(function(e){let t=document.createElement("div");t.className=Do("tooltip.completionInfo");let n=e.completion.info;return"string"==typeof n?t.textContent=n:t.appendChild(n(e.completion)),t}(e)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){let n=e.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<n.top?e.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(e.scrollTop+=i.bottom-n.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e)return null;let t=this.dom.getBoundingClientRect(),n=e.getBoundingClientRect().top-t.top;if(n<0||n>this.list.clientHeight-10)return null;let i=this.view.textDirection==ca.RTL,r=t.left,s=innerWidth-t.right;return i&&r<Math.min(300,s)?i=!1:!i&&s<Math.min(300,r)&&(i=!0),{top:n,left:i}}positionInfo(e){this.info&&e&&(this.info.style.top=e.top+"px",this.info.classList.toggle("cm-tooltip-completionInfo-left",e.left),this.info.classList.toggle("cm-tooltip-completionInfo-right",!e.left))}}function vd(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class bd{constructor(e,t,n,i,r){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new bd(this.options,xd(t,e),this.tooltip,this.timestamp,e)}static build(e,t,n,i){let r=function(e,t){let n=[];var i,r=o(e);try{for(r.s();!(i=r.n()).done;){let e=i.value;if(e.hasResult()){let i,r=new dd(t.sliceDoc(e.from,e.to));var s,a=o(e.result.options);try{for(a.s();!(s=a.n()).done;){let t=s.value;(i=r.match(t.label))&&(null!=t.boost&&(i[0]+=t.boost),n.push(new ad(t,e,i)))}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}n.sort(kd);let l=[],c=null;var u,h=o(n.sort(kd));try{for(h.s();!(u=h.n()).done;){let e=u.value;if(300==l.length)break;c&&c.label==e.completion.label&&c.detail==e.completion.detail?vd(e.completion)>vd(c)&&(l[l.length-1]=e):l.push(e),c=e.completion}}catch(e){h.e(e)}finally{h.f()}return l}(e,t);if(!r.length)return null;let s=0;if(i){let e=i.options[i.selected].completion;for(let t=0;t<r.length&&!s;t++)r[t].completion==e&&(s=t)}return new bd(r,xd(n,s),[{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),style:"autocomplete",create:(a=Wd,e=>new yd(e,a))}],i?i.timestamp:Date.now(),s);var a}map(e){return new bd(this.options,this.attrs,[Object.assign(Object.assign({},this.tooltip[0]),{pos:e.mapPos(this.tooltip[0].pos)})],this.timestamp,this.selected)}}class Qd{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Qd($d,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let t=e.state,n=t.facet(pd),i=(n.override||t.languageDataAt("autocomplete",ld(t)).map(fd)).map((t=>(this.active.find((e=>e.source==t))||new Sd(t,0,!1)).update(e,n)));i.length==this.active.length&&i.every(((e,t)=>e==this.active[t]))&&(i=this.active);let r=e.selection||i.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,i=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;i<t.length&&!t[i].hasResult;)i++;let r=n==e.length,s=i==t.length;if(r||s)return r==s;if(e[n++].result!=t[i++].result)return!1}}(i,this.active)?bd.build(i,t,this.id,this.open):this.open&&e.docChanged?this.open.map(e.changes):this.open;var s,a=o(e.effects);try{for(a.s();!(s=a.n()).done;){let e=s.value;e.is(Td)&&(r=r&&r.setSelected(e.value,this.id))}}catch(e){a.e(e)}finally{a.f()}return i==this.active&&r==this.open?this:new Qd(i,this.id,r)}get tooltip(){return this.open?this.open.tooltip:$d}get attrs(){return this.open?this.open.attrs:wd}}function xd(e,t){return{"aria-autocomplete":"list","aria-activedescendant":e+"-"+t,"aria-owns":e}}const wd={"aria-autocomplete":"list"},$d=[];function kd(e,t){let n=t.match[0]-e.match[0];if(n)return n;let i=e.completion.label,r=t.completion.label;return i<r?-1:i==r?0:1}class Sd{constructor(e,t,n){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}update(e,t){let n=e.annotation(Cr.userEvent),i=this;"input"==n||"delete"==n?i=i.handleUserEvent(e,n,t):e.docChanged?i=i.handleChange(e):e.selection&&0!=i.state&&(i=new Sd(i.source,0,!1));var r,s=o(e.effects);try{for(s.s();!(r=s.n()).done;){let e=r.value;if(e.is(Pd))i=new Sd(i.source,1,e.value);else if(e.is(Ad))i=new Sd(i.source,0,!1);else if(e.is(Cd)){var a,l=o(e.value);try{for(l.s();!(a=l.n()).done;){let e=a.value;e.source==i.source&&(i=e)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){s.e(e)}finally{s.f()}return i}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new Sd(this.source,1,!1):this}handleChange(e){return e.changes.touchesRange(ld(e.startState))?new Sd(this.source,0,!1):this}}class Dd extends Sd{constructor(e,t,n,i,r,s){super(e,2,t),this.result=n,this.from=i,this.to=r,this.span=s}hasResult(){return!0}handleUserEvent(e,t,n){let i=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),s=ld(e.state);return(this.explicit?s<i:s<=i)||s>r?new Sd(this.source,"input"==t&&n.activateOnTyping?1:0,!1):this.span&&(i==r||this.span.test(e.state.sliceDoc(i,r)))?new Dd(this.source,this.explicit,this.result,i,r,this.span):new Sd(this.source,1,this.explicit)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Sd(this.source,0,!1):new Dd(this.source,this.explicit,this.result,e.changes.mapPos(this.from),e.changes.mapPos(this.to,1),this.span)}map(e){return new Dd(this.source,this.explicit,this.result,e.mapPos(this.from),e.mapPos(this.to,1),this.span)}}const Pd=Pr.define(),Ad=Pr.define(),Cd=Pr.define({map:(e,t)=>e.map((e=>e.hasResult()&&!t.empty?e.map(t):e))}),Td=Pr.define(),Wd=ur.define({create:()=>Qd.start(),update:(e,t)=>e.update(t),provide:e=>[td.computeN([e],(t=>t.field(e).tooltip)),Sl.contentAttributes.from(e,(e=>e.attrs))]});function Rd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return n=>{let i=n.state.field(Wd,!1);if(!i||!i.open||Date.now()-i.open.timestamp<75)return!1;let r,s=1;"page"==t&&(r=n.dom.querySelector(".cm-tooltip-autocomplete"))&&(s=Math.max(2,Math.floor(r.offsetHeight/r.firstChild.offsetHeight)));let o=i.open.selected+s*(e?1:-1),a=i.open.options.length;return o<0?o="page"==t?0:a-1:o>=a&&(o="page"==t?a-1:0),n.dispatch({effects:Td.of(o)}),!0}}class _d{constructor(e,t){this.source=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Ed=Uo.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var t,n=o(e.state.field(Wd).active);try{for(n.s();!(t=n.n()).done;){let e=t.value;1==e.state&&this.startQuery(e)}}catch(e){n.e(e)}finally{n.f()}}update(e){let t=e.state.field(Wd);if(!e.selectionSet&&!e.docChanged&&e.startState.field(Wd)==t)return;let n=e.transactions.some((e=>{let t=e.annotation(Cr.userEvent);return(e.selection||e.docChanged)&&"input"!=t&&"delete"!=t}));for(let t=0;t<this.running.length;t++){let s=this.running[t];if(n||s.updates.length+e.transactions.length>50&&s.time-Date.now()>1e3){var i,r=o(s.context.abortListeners);try{for(r.s();!(i=r.n()).done;){let e=i.value;try{e()}catch(e){qo(this.view.state,e)}}}catch(e){r.e(e)}finally{r.f()}s.context.abortListeners=null,this.running.splice(t--,1)}else s.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing){var s,a=o(e.transactions);try{for(a.s();!(s=a.n()).done;){let e=s.value;"input"==e.annotation(Cr.userEvent)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}}catch(e){a.e(e)}finally{a.f()}}}startUpdate(){this.debounceUpdate=-1;var e,t=o(this.view.state.field(Wd).active);try{for(t.s();!(e=t.n()).done;){let t=e.value;1!=t.state||this.running.some((e=>e.source==t.source))||this.startQuery(t)}}catch(e){t.e(e)}finally{t.f()}}startQuery(e){let t=this.view.state,n=ld(t),i=new rd(t,n,e.explicit),r=new _d(e.source,i);this.running.push(r),Promise.resolve(e.source(i)).then((e=>{r.context.aborted||(r.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:Ad.of(null)}),qo(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(pd);for(let l=0;l<this.running.length;l++){let c=this.running[l];if(void 0===c.done)continue;if(this.running.splice(l--,1),c.done){let s=new Dd(c.source,c.context.explicit,c.done,c.done.from,null!==(e=c.done.to)&&void 0!==e?e:ld(c.updates.length?c.updates[0].startState:this.view.state),c.done.span?cd(c.done.span,!0):null);var i,r=o(c.updates);try{for(r.s();!(i=r.n()).done;){let e=i.value;s=s.update(e,n)}}catch(e){r.e(e)}finally{r.f()}if(s.hasResult()){t.push(s);continue}}let u=this.view.state.field(Wd).active.find((e=>e.source==c.source));if(u&&1==u.state)if(null==c.done){let e=new Sd(c.source,0,!1);var s,a=o(c.updates);try{for(a.s();!(s=a.n()).done;){let t=s.value;e=e.update(t,n)}}catch(e){a.e(e)}finally{a.f()}1!=e.state&&t.push(e)}else this.startQuery(u)}t.length&&this.view.dispatch({effects:Cd.of(t)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&this.view.dispatch({effects:Pd.of(!1)}),this.composing=0}}});class Xd{constructor(e,t,n,i){this.field=e,this.line=t,this.from=n,this.to=i}}class Fd{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){return new Fd(this.field,e.mapPos(this.from,-1),e.mapPos(this.to,1))}}class zd{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],i=[t],r=e.doc.lineAt(t),s=/^\s*/.exec(r.text)[0];var a,l=o(this.lines);try{for(l.s();!(a=l.n()).done;){let r=a.value;if(n.length){let n=s,o=/^\t*/.exec(r)[0].length;for(let t=0;t<o;t++)n+=e.facet(bu);i.push(t+n.length-o),r=n+r.slice(o)}n.push(r),t+=r.length+1}}catch(e){l.e(e)}finally{l.f()}return{text:n,ranges:this.fieldPositions.map((e=>new Fd(e.field,i[e.line]+e.from,i[e.line]+e.to)))}}static parse(e){let t,n=[],i=[],r=[];var s,a=o(e.split(/\r\n?|\n/));try{for(a.s();!(s=a.n()).done;){let e=s.value;for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(e);){let s=t[1]?+t[1]:null,o=t[2]||t[3],a=-1;for(let e=0;e<n.length;e++)(o?n[e].name==o:null!=s&&n[e].seq==s)&&(a=e);if(a<0){let e=0;for(;e<n.length&&(null==s||null!=n[e].seq&&n[e].seq<s);)e++;n.splice(e,0,{seq:s,name:o||null}),a=e}r.push(new Xd(a,i.length,t.index,t.index+o.length)),e=e.slice(0,t.index)+o+e.slice(t.index+t[0].length)}i.push(e)}}catch(e){a.e(e)}finally{a.f()}return new zd(i,r)}}let Yd=go.widget({widget:new class extends po{toDOM(){let e=document.createElement("span");return e.className=Do("snippetFieldPosition"),e}ignoreEvent(){return!1}}}),Ld=go.mark({class:Do("snippetField")});class Zd{constructor(e,t){this.ranges=e,this.active=t,this.deco=go.set(e.map((e=>(e.from==e.to?Yd:Ld).range(e.from,e.to))))}map(e){return new Zd(this.ranges.map((t=>t.map(e))),this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const qd=Pr.define({map:(e,t)=>e&&e.map(t)}),Bd=Pr.define(),Md=ur.define({create:()=>null,update(e,t){var n,i=o(t.effects);try{for(i.s();!(n=i.n()).done;){let t=n.value;if(t.is(qd))return t.value;if(t.is(Bd)&&e)return new Zd(e.ranges,t.value)}}catch(e){i.e(e)}finally{i.f()}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>Sl.decorations.from(e,(e=>e?e.deco:go.none))});function jd(e,t){return tr.create(e.filter((e=>e.field==t)).map((e=>tr.range(e.from,e.to))))}function Vd(e){let t=zd.parse(e);return(e,n,i,r)=>{let s=t.instantiate(e.state,i),o=s.text,a=s.ranges,l={changes:{from:i,to:r,insert:Xi.of(o)}};a.length&&(l.selection=jd(a,0)),a.length>1&&(l.effects=qd.of(new Zd(a,0)),void 0===e.state.field(Md,!1)&&(l.reconfigure={append:[Md,Gd,Kd,Od]})),e.dispatch(e.state.update(l))}}function Id(e){return t=>{let n=t.state,i=t.dispatch,r=n.field(Md,!1);if(!r||e<0&&0==r.active)return!1;let s=r.active+e,o=e>0&&!r.ranges.some((t=>t.field==s+e));return i(n.update({selection:jd(r.ranges,s),effects:qd.of(o?null:new Zd(r.ranges,s))})),!0}}const Ud=[{key:"Tab",run:Id(1),shift:Id(-1)},{key:"Escape",run:e=>{let t=e.state,n=e.dispatch;return!!t.field(Md,!1)&&(n(t.update({effects:qd.of(null)})),!0)}}],Nd=sr.define({combine:e=>e.length?e[0]:Ud}),Gd=Or.override(Fl.compute([Nd],(e=>e.facet(Nd))));function Hd(e,t){return Object.assign(Object.assign({},t),{apply:Vd(e)})}const Kd=Sl.domEventHandlers({mousedown(e,t){let n,i=t.state.field(Md,!1);if(!i||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let r=i.ranges.find((e=>e.from<=n&&e.to>=n));return!(!r||r.field==i.active)&&(t.dispatch({selection:jd(i.ranges,r.field),effects:qd.of(i.ranges.some((e=>e.field>r.field))?new Zd(i.ranges,r.field):null)}),!0)}});function Jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Wd,pd.of(e),Ed,tp,Od,ed()]}const ep=[{key:"Ctrl-Space",run:e=>!!e.state.field(Wd,!1)&&(e.dispatch({effects:Pd.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(Wd,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:Ad.of(null)}),!0)}},{key:"ArrowDown",run:Rd(!0)},{key:"ArrowUp",run:Rd(!1)},{key:"PageDown",run:Rd(!0,"page")},{key:"PageUp",run:Rd(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(Wd,!1);return!(!t||!t.open||Date.now()-t.open.timestamp<75)&&(ud(e,t.open.options[t.open.selected]),!0)}}],tp=Or.override(Fl.computeN([pd],(e=>e.facet(pd).defaultKeymap?[ep]:[])));function np(e,t){return n=>{let i=n.state,r=n.dispatch,s=e(t,i.selection.ranges,i);return!!s&&(r(i.update(s)),!0)}}const ip=np((function(e,t,n){let i=[],r=-1;var s,a=o(t);try{for(a.s();!(s=a.n()).done;){let e=s.value,t=e.from,o=e.to,a=i.length,l=1e9;for(let e=t;e<=o;){let s=n.doc.lineAt(e);if(s.from>r&&(t==o||o>s.from)){r=s.from;let t=op(n,e).line;if(!t)continue;let o=/^\s*/.exec(s.text)[0].length,a=s.text.slice(o,o+t.length)==t?o:-1;o<s.text.length&&o<l&&(l=o),i.push({line:s,comment:a,token:t,indent:o,single:!1})}e=s.to+1}if(l<1e9)for(let e=a;e<i.length;e++)i[e].indent<i[e].line.text.length&&(i[e].indent=l);i.length==a+1&&(i[a].single=!0)}}catch(e){a.e(e)}finally{a.f()}if(1!=e&&i.some((e=>e.comment>=0))){let e=[];var l,c=o(i);try{for(c.s();!(l=c.n()).done;){let t=l.value,n=t.line,i=t.comment,r=t.token;if(i>=0){let t=n.from+i,s=t+r.length;" "==n.text[s-n.from]&&s++,e.push({from:t,to:s})}}}catch(e){c.e(e)}finally{c.f()}return{changes:e}}if(2!=e&&i.some((e=>e.comment<0))){let e=[];var u,h=o(i);try{for(h.s();!(u=h.n()).done;){let t=u.value,n=t.line,i=t.comment,r=t.token,s=t.indent,o=t.single;i!=s&&(o||/\S/.test(n.text))&&e.push({from:n.from+s,insert:r+" "})}}catch(e){h.e(e)}finally{h.f()}let t=n.changes(e);return{changes:t,selection:n.selection.map(t,1)}}return null}),0),rp=np((function(e,t,n){let i=t.map((e=>op(n,e.from).block));if(!i.every((e=>e)))return null;let r=t.map(((e,t)=>function(e,t,n,i){let r,s,o=t.open,a=t.close,l=e.sliceDoc(n-ap,n),c=e.sliceDoc(i,i+ap),u=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(c)[0].length,f=l.length-u;if(l.slice(f-o.length,f)==o&&c.slice(h,h+a.length)==a)return{open:{pos:n-u,margin:u&&1},close:{pos:i+h,margin:h&&1}};i-n<=100?r=s=e.sliceDoc(n,i):(r=e.sliceDoc(n,n+ap),s=e.sliceDoc(i-ap,i));let d=/^\s*/.exec(r)[0].length,p=/\s*$/.exec(s)[0].length,O=s.length-p-a.length;if(r.slice(d,d+o.length)==o&&s.slice(O,O+a.length)==a)return{open:{pos:n+d+o.length,margin:/\s/.test(r.charAt(d+o.length))?1:0},close:{pos:i-p-a.length,margin:/\s/.test(s.charAt(O-1))?1:0}};return null}(n,i[t],e.from,e.to)));if(2!=e&&!r.every((e=>e))){let e=0;return n.changeByRange((t=>{let n=i[e++],s=n.open,o=n.close;if(r[e])return{range:t};let a=s.length+1;return{changes:[{from:t.from,insert:s+" "},{from:t.to,insert:" "+o}],range:tr.range(t.anchor+a,t.head+a)}}))}if(1!=e&&r.some((e=>e))){let e=[];for(let t,n=0;n<r.length;n++)if(t=r[n]){let r=i[n],s=t,o=s.open,a=s.close;e.push({from:o.pos-r.open.length,to:o.pos+o.margin},{from:a.pos-a.margin,to:a.pos+r.close.length})}return{changes:e}}return null}),0),sp=[{key:"Mod-/",run:e=>{let t=op(e.state);return t.line?ip(e):!!t.block&&rp(e)}},{key:"Alt-A",run:rp}];function op(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main.head,n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const ap=50;const lp=2e3;function cp(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY});if(null==n)return null;let i=e.state.doc.lineAt(n),r=n-i.from,s=r>lp?-1:r==i.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):_i(i.text.slice(0,n-i.from),0,e.state.tabSize);return{line:i.number,col:s,off:r}}function up(e,t){let n=cp(e,t),i=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),r=e.state.doc.lineAt(t);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},i=i.map(e.changes)}},get(t,r,s){let o=cp(e,t);if(!o)return i;let a=function(e,t,n){let i=Math.min(t.line,n.line),r=Math.max(t.line,n.line),s=[];if(t.off>lp||n.off>lp||t.col<0||n.col<0){let o=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let t=i;t<=r;t++){let n=e.doc.line(t);n.length<=a&&s.push(tr.range(n.from+o,n.to+a))}}else{let o=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let t=i;t<=r;t++){let n=e.doc.line(t),i=n.length>lp?n.text.slice(0,2*a):n.text,r=Ei(i,0,o,e.tabSize),l=Ei(i,0,a,e.tabSize);r.leftOver||s.push(tr.range(n.from+r.offset,n.from+l.offset))}}return s}(e.state,n,o);return a.length?s?tr.create(a.concat(i.ranges)):tr.create(a):i}}:null}function hp(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Sl.mouseSelectionStyle.of(((e,n)=>t(n)?up(e,n):null))}let fp=0;class dp{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=fp++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new dp([],null,[]);if(t.set.push(t),e){var n,i=o(e.set);try{for(i.s();!(n=i.n()).done;){let e=n.value;t.set.push(e)}}catch(e){i.e(e)}finally{i.f()}}return t}static defineModifier(){let e=new Op;return t=>t.modified.indexOf(e)>-1?t:Op.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let pp=0;class Op{constructor(){this.instances=[],this.id=pp++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>n.base==e&&function(e,t){return e.length==t.length&&e.every(((e,n)=>e==t[n]))}(t,n.modified)));if(n)return n;let i=[],r=new dp(i,e,t);var s,a=o(t);try{for(a.s();!(s=a.n()).done;){s.value.instances.push(r)}}catch(e){a.e(e)}finally{a.f()}let l=gp(t);var c,u=o(e.set);try{for(u.s();!(c=u.n()).done;){let e=c.value;var h,f=o(l);try{for(f.s();!(h=f.n()).done;){let t=h.value;i.push(Op.get(e,t))}}catch(e){f.e(e)}finally{f.f()}}}catch(e){u.e(e)}finally{u.f()}return r}}function gp(e){let t=[e];for(let r=0;r<e.length;r++){var n,i=o(gp(e.slice(0,r).concat(e.slice(r+1))));try{for(i.s();!(n=i.n()).done;){let e=n.value;t.push(e)}}catch(e){i.e(e)}finally{i.f()}}return t}function mp(e){let t=Object.create(null);for(let r in e){let s=e[r];Array.isArray(s)||(s=[s]);var n,i=o(r.split(" "));try{for(i.s();!(n=i.n()).done;){let e=n.value;if(e){let n=[],i=2,r=e;for(let t=0;;){if("..."==r&&t>0&&t+3==e.length){i=1;break}let s=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(r);if(!s)throw new RangeError("Invalid path: "+e);if(n.push("*"==s[0]?null:'"'==s[0][0]?JSON.parse(s[0]):s[0]),t+=s[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);r=e.slice(t)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+e);let l=new bp(s,i,o>0?n.slice(0,o):null);t[a]=l.sort(t[a])}}}catch(e){i.e(e)}finally{i.f()}}return yp.add(t)}const yp=new Fc,vp=sr.define({combine:e=>e.length?e[0]:null});class bp{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}class Qp{constructor(e){this.map=Object.create(null);let t=Object.create(null);var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value,i=Vr.newName();t["."+i]=Object.assign({},e,{tag:null});let a=e.tag;Array.isArray(a)||(a=[a]);var r,s=o(a);try{for(s.s();!(r=s.n()).done;){let e=r.value;this.map[e.id]=i}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}this.module=new Vr(t),this.match=this.match.bind(this),this.extension=[xp,vp.of(this),Sl.styleModule.of(this.module)]}match(e){var t,n=o(e.set);try{for(n.s();!(t=n.n()).done;){let n=t.value,i=this.map[n.id];if(i)return n!=e&&(this.map[e.id]=i),i}}catch(e){n.e(e)}finally{n.f()}return this.map[e.id]=null}static define(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qp(t)}}const xp=Or.fallback(Uo.fromClass(class{constructor(e){this.markCache=Object.create(null),this.tree=lu(e.state),this.decorations=this.buildDeco(e,e.state.facet(vp))}update(e){let t=lu(e.state),n=e.state.facet(vp),i=n!=e.startState.facet(vp);t.length<e.view.viewport.to&&!i?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return go.none;let n=new es;var i,r=o(e.visibleRanges);try{for(r.s();!(i=r.n()).done;){let e=i.value,r=e.from,s=e.to;Sp(this.tree,r,s,t.match,((e,t,i)=>{n.add(e,t,this.markCache[i]||(this.markCache[i]=go.mark({class:i})))}))}}catch(e){r.e(e)}finally{r.f()}return n.finish()}},{decorations:e=>e.decorations})),wp=[""],$p=[""],kp=[""];function Sp(e,t,n,i,r){let s=t,a="",l=0;e.iterate({from:t,to:n,enter:(e,t)=>{l++;let n=kp[l-1],c=n,u=e.prop(yp),h=!1;for(;u;){if(!u.context||Dp(u.context,wp,l)){var f,d=o(u.tags);try{for(d.s();!(f=d.n()).done;){let e=f.value,t=i(e);t&&(c&&(c+=" "),c+=t,1==u.mode?n=c:0==u.mode&&(h=!0))}}catch(e){d.e(e)}finally{d.f()}break}u=u.next}if(c!=a&&(t>s&&a&&r(s,t,a),s=t,a=c),h)return l--,!1;$p[l]=c,kp[l]=n,wp[l]=e.name},leave:(e,t,i)=>{l--;let o=$p[l];if(o!=a){let e=Math.min(n,i);e>s&&a&&r(s,e,a),s=e,a=o}}})}function Dp(e,t,n){if(e.length>n-1)return!1;for(let i=n-1,r=e.length-1;r>=0;r--,i--){let n=e[r];if(n&&n!=t[i])return!1}return!0}const Pp=dp.define,Ap=Pp(),Cp=Pp(),Tp=Pp(Cp),Wp=Pp(),Rp=Pp(Wp),_p=Pp(Wp),Ep=Pp(),Xp=Pp(Ep),Fp=Pp(),zp=Pp(),Yp=Pp(),Lp=Pp(Yp),Zp=Pp(),qp={comment:Ap,lineComment:Pp(Ap),blockComment:Pp(Ap),docComment:Pp(Ap),name:Cp,variableName:Pp(Cp),typeName:Tp,tagName:Pp(Tp),propertyName:Pp(Cp),className:Pp(Cp),labelName:Pp(Cp),namespace:Pp(Cp),macroName:Pp(Cp),literal:Wp,string:Rp,docString:Pp(Rp),character:Pp(Rp),number:_p,integer:Pp(_p),float:Pp(_p),bool:Pp(Wp),regexp:Pp(Wp),escape:Pp(Wp),color:Pp(Wp),url:Pp(Wp),keyword:Fp,self:Pp(Fp),null:Pp(Fp),atom:Pp(Fp),unit:Pp(Fp),modifier:Pp(Fp),operatorKeyword:Pp(Fp),controlKeyword:Pp(Fp),definitionKeyword:Pp(Fp),operator:zp,derefOperator:Pp(zp),arithmeticOperator:Pp(zp),logicOperator:Pp(zp),bitwiseOperator:Pp(zp),compareOperator:Pp(zp),updateOperator:Pp(zp),definitionOperator:Pp(zp),typeOperator:Pp(zp),controlOperator:Pp(zp),punctuation:Yp,separator:Pp(Yp),bracket:Lp,angleBracket:Pp(Lp),squareBracket:Pp(Lp),paren:Pp(Lp),brace:Pp(Lp),content:Ep,heading:Xp,heading1:Pp(Xp),heading2:Pp(Xp),heading3:Pp(Xp),heading4:Pp(Xp),heading5:Pp(Xp),heading6:Pp(Xp),contentSeparator:Pp(Ep),list:Pp(Ep),quote:Pp(Ep),emphasis:Pp(Ep),strong:Pp(Ep),link:Pp(Ep),monospace:Pp(Ep),inserted:Pp(),deleted:Pp(),changed:Pp(),invalid:Pp(),meta:Zp,documentMeta:Pp(Zp),annotation:Pp(Zp),processingInstruction:Pp(Zp),definition:dp.defineModifier(),constant:dp.defineModifier(),function:dp.defineModifier(),standard:dp.defineModifier(),local:dp.defineModifier(),special:dp.defineModifier()};Qp.define({tag:qp.link,textDecoration:"underline"},{tag:qp.heading,textDecoration:"underline",fontWeight:"bold"},{tag:qp.emphasis,fontStyle:"italic"},{tag:qp.strong,fontWeight:"bold"},{tag:qp.keyword,color:"#708"},{tag:[qp.atom,qp.bool,qp.url,qp.contentSeparator,qp.labelName],color:"#219"},{tag:[qp.literal,qp.inserted],color:"#164"},{tag:[qp.string,qp.deleted],color:"#a11"},{tag:[qp.regexp,qp.escape,qp.special(qp.string)],color:"#e40"},{tag:qp.definition(qp.variableName),color:"#00f"},{tag:qp.local(qp.variableName),color:"#30a"},{tag:[qp.typeName,qp.namespace],color:"#085"},{tag:qp.className,color:"#167"},{tag:[qp.special(qp.variableName),qp.macroName,qp.local(qp.variableName)],color:"#256"},{tag:qp.definition(qp.propertyName),color:"#00c"},{tag:qp.comment,color:"#940"},{tag:qp.meta,color:"#7a757a"},{tag:qp.invalid,color:"#f00"});class Bp{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Mp{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}}function jp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=null;return e.between(n,1e9,((e,n,r)=>{let s=r.spec;if(!t||s.diagnostic==t)return i=new Bp(e,n,s.diagnostic),!1})),i}const Vp=Pr.define(),Ip=Pr.define(),Up=Pr.define(),Np=ur.define({create:()=>new Mp(go.none,null,null),update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),i=null;if(e.selected){let r=t.changes.mapPos(e.selected.from,1);i=jp(n,e.selected.diagnostic,r)||jp(n,null,r)}e=new Mp(n,e.panel,i)}var n,i=o(t.effects);try{for(i.s();!(n=i.n()).done;){let t=n.value;if(t.is(Vp)){let n=go.set(t.value.map((e=>e.from<e.to?go.mark({attributes:{class:Do("lintRange."+e.severity)},diagnostic:e}).range(e.from,e.to):go.widget({widget:new nO(e),diagnostic:e}).range(e.from))));e=new Mp(n,e.panel,jp(n))}else t.is(Ip)?e=new Mp(e.diagnostics,t.value?rO.open:null,e.selected):t.is(Up)&&(e=new Mp(e.diagnostics,e.panel,t.value))}}catch(e){i.e(e)}finally{i.f()}return e},provide:e=>[rf.computeN([e],(t=>{let n=t.field(e).panel;return n?[n]:[]})),Sl.decorations.from(e,(e=>e.diagnostics))]}),Gp=go.mark({class:Do("lintRange.active")});function Hp(e,t,n){let i=e.state.field(Np).diagnostics,r=[],s=2e8,o=0;return i.between(t-(n<0?1:0),t+(n>0?1:0),((e,i,a)=>{let l=a.spec;t>=e&&t<=i&&(e==i||(t>e||n>0)&&(t<i||n<0))&&(r.push(l.diagnostic),s=Math.min(e,s),o=Math.max(i,o))})),r.length?{pos:s,end:o,above:e.state.doc.lineAt(s).to<o,style:"lint",create:()=>({dom:hf("ul",r.map((t=>tO(e,t,!1))))})}:null}const Kp=e=>{let t=e.state.field(Np,!1);return!(!t||!t.panel)&&(e.dispatch({effects:Ip.of(!1)}),!0)},Jp=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(Np,!1);var n;t&&t.panel||e.dispatch({effects:Ip.of(!0),reconfigure:(n=e.state,n.field(Np,!1)?void 0:{append:[Np,Sl.decorations.compute([Np],(e=>{let t=e.field(Np),n=t.selected,i=t.panel;return n&&i&&n.from!=n.to?go.set([Gp.range(n.from,n.to)]):go.none})),nf(),id(Hp),oO]})});let i=sf(e,rO.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(Np,!1);if(!t)return!1;let n=e.state.selection.main,i=t.diagnostics.iter(n.to+1);return!(!i.value&&(i=t.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to))&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)}}];function eO(e){let t=[];if(e){var n,i=o(e);try{e:for(i.s();!(n=i.n()).done;){let e=n.value.name;for(let n=0;n<e.length;n++){let i=e[n];if(/[a-zA-Z]/.test(i)&&!t.some((e=>e.toLowerCase()==i.toLowerCase()))){t.push(i);continue e}}t.push("")}}catch(e){i.e(e)}finally{i.f()}}return t}function tO(e,t,n){var i;let r=n?eO(t.actions):[];return hf("li",{class:Do("diagnostic."+t.severity)},hf("span",{class:Do("diagnosticText")},t.message),null===(i=t.actions)||void 0===i?void 0:i.map(((n,i)=>{let s=i=>{i.preventDefault();let r=jp(e.state.field(Np).diagnostics,t);r&&n.apply(e,r.from,r.to)},o=n.name,a=r[i]?o.indexOf(r[i]):-1,l=a<0?o:[o.slice(0,a),hf("u",o.slice(a,a+1)),o.slice(a+1)];return hf("button",{class:Do("diagnosticAction"),onclick:s,onmousedown:s},l)})),t.source&&hf("div",{class:Do("diagnosticSource")},t.source))}class nO extends po{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return hf("span",{class:Do("lintPoint."+this.diagnostic.severity)})}}class iO{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=tO(e,t,!0),this.dom.setAttribute("role","option")}}class rO{constructor(e){this.view=e,this.items=[];this.list=hf("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)Kp(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.items.length))return;{let n=this.items[this.selectedIndex].diagnostic,i=eO(n.actions);for(let r=0;r<i.length;r++)if(i[r].toUpperCase().charCodeAt(0)==t.keyCode){let t=jp(this.view.state.field(Np).diagnostics,n);t&&n.actions[r].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=hf("div",this.list,hf("button",{name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Kp(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Np).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let e=this.view.state.field(Np),t=e.diagnostics,n=e.selected,i=0,r=!1,s=null;for(t.between(0,this.view.state.doc.length,((e,t,o)=>{let a,l=o.spec,c=-1;for(let e=i;e<this.items.length;e++)if(this.items[e].diagnostic==l.diagnostic){c=e;break}c<0?(a=new iO(this.view,l.diagnostic),this.items.splice(i,0,a),r=!0):(a=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),n&&a.diagnostic==n.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),s=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new iO(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:e=>{let t=e.sel,n=e.panel;t.top<n.top?this.list.scrollTop-=n.top-t.top:t.bottom>n.bottom&&(this.list.scrollTop+=t.bottom-n.bottom)}})):this.items.length||this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}var n,i=o(this.items);try{for(i.s();!(n=i.n()).done;){let i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(e){i.e(e)}finally{i.f()}for(;e;)t();this.list.firstChild||this.list.appendChild(tO(this.view,{severity:"info",message:this.view.state.phrase("No diagnostics")},!0))}moveSelection(e){if(0==this.items.length)return;let t=jp(this.view.state.field(Np).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Up.of(t)})}get style(){return"lint"}static open(e){return new rO(e)}}function sO(e){if("function"!=typeof btoa)return"none";return`url('data:image/svg+xml;base64,${btoa(`<svg xmlns="http://www.w3.org/2000/svg" width="6" height="3">\n    <path d="m0 3 l2 -2 l1 0 l2 2 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>\n  </svg>`)}')`}const oO=Sl.baseTheme({$diagnostic:{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block"},"$diagnostic.error":{borderLeft:"5px solid #d11"},"$diagnostic.warning":{borderLeft:"5px solid orange"},"$diagnostic.info":{borderLeft:"5px solid #999"},$diagnosticAction:{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},$diagnosticSource:{fontSize:"70%",opacity:.7},$lintRange:{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x"},"$lintRange.error":{backgroundImage:sO("#d11")},"$lintRange.warning":{backgroundImage:sO("orange")},"$lintRange.info":{backgroundImage:sO("#999")},"$lintRange.active":{backgroundColor:"#ffdd9980"},$lintPoint:{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},"$lintPoint.warning":{"&:after":{borderBottomColor:"orange"}},"$lintPoint.info":{"&:after":{borderBottomColor:"#999"}},"$panel.lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}},"$tooltip.lint":{padding:0,margin:0}});class aO{constructor(e,t,n,i,r,s,o){this.type=e,this.value=t,this.from=n,this.hash=i,this.end=r,this.children=s,this.positions=o}static create(e,t,n,i,r){return new aO(e,t,n,i+(i<<8)+e+(t<<4)|0,r,[],[])}toTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.end,n=this.children.length-1;n>=0&&(t=Math.max(t,this.positions[n]+this.children[n].length+this.from));let i=new Zc(e.types[this.type],this.children,this.positions,t-this.from).balance(2048);return ug(i.children,this.hash),i}copy(){return new aO(this.type,this.value,this.from,this.hash,this.end,this.children.slice(),this.positions.slice())}}var lO;!function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.URL=33]="URL",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeInfo=40]="CodeInfo",e[e.LinkTitle=41]="LinkTitle",e[e.LinkLabel=42]="LinkLabel"}(lO||(lO={}));class cO{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class uO{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return pO(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n<e;n++)t+=9==this.text.charCodeAt(n)?4-t%4:1;return t}findColumn(e){let t=0;for(let n=0;t<this.text.length&&n<e;t++)n+=9==this.text.charCodeAt(t)?4-n%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.baseIndent;t++)e+=" ";return e+this.text.slice(this.basePos)}}function hO(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(e.type==lO.OrderedList?QO:bO)(n,t,!1);return i>0&&(e.type!=lO.BulletList||yO(n,t,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==e.value}const fO={[lO.Blockquote]:(e,t,n)=>62==n.next&&(n.markers.push(UO(lO.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+1),e.end=t.lineStart+n.text.length,!0),[lO.ListItem]:(e,t,n)=>!(n.indent<n.baseIndent+e.value&&n.next>-1)&&(n.moveBaseColumn(n.baseIndent+e.value),!0),[lO.OrderedList]:hO,[lO.BulletList]:hO,[lO.Document]:()=>!0};function dO(e){return 32==e||9==e||10==e||13==e}function pO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;t<e.length&&dO(e.charCodeAt(t));)t++;return t}function OO(e,t,n){for(;t>n&&dO(e.charCodeAt(t-1));)t--;return t}function gO(e){if(96!=e.next&&126!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(96==e.next)for(let n=t;n<e.text.length;n++)if(96==e.text.charCodeAt(n))return-1;return t}function mO(e){return 62!=e.next?-1:32==e.text.charCodeAt(e.pos+1)?2:1}function yO(e,t,n){if(42!=e.next&&45!=e.next&&95!=e.next)return-1;let i=1;for(let t=e.pos+1;t<e.text.length;t++){let n=e.text.charCodeAt(t);if(n==e.next)i++;else if(!dO(n))return-1}return n&&45==e.next&&wO(e)>-1&&e.depth==t.stack.length||i<3?-1:1}function vO(e,t){return e.block.type==t||e.stack.length>1&&e.stack[e.stack.length-2].type==t}function bO(e,t,n){return 45!=e.next&&43!=e.next&&42!=e.next||e.pos!=e.text.length-1&&!dO(e.text.charCodeAt(e.pos+1))||!(!n||vO(t,lO.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?-1:1}function QO(e,t,n){let i=e.pos,r=e.next;for(;r>=48&&r<=57;){if(i++,i==e.text.length)return-1;r=e.text.charCodeAt(i)}return i==e.pos||i>e.pos+9||46!=r&&41!=r||i<e.text.length-1&&!dO(e.text.charCodeAt(i+1))||n&&!vO(t,lO.OrderedList)&&(e.skipSpace(i+1)==e.text.length||i>e.pos+1||49!=e.next)?-1:i+1-e.pos}function xO(e){if(35!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&35==e.text.charCodeAt(t);)t++;if(t<e.text.length&&32!=e.text.charCodeAt(t))return-1;let n=t-e.pos;return n>6?-1:n}function wO(e){if(45!=e.next&&61!=e.next||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let n=t;for(;t<e.text.length&&dO(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}const $O=/^[ \t]*$/,kO=/-->/,SO=/\?>/,DO=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,kO],[/^\s*<\?/,SO],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,$O],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,$O]];function PO(e,t,n){if(60!=e.next)return-1;let i=e.text.slice(e.pos);for(let e=0,t=DO.length-(n?1:0);e<t;e++)if(DO[e][0].test(i))return e;return-1}function AO(e,t){let n=e.countIndent(t,e.pos,e.indent),i=e.countIndent(e.skipSpace(t),t,n);return i>=n+5?n+1:i}const CO={LinkReference:void 0,IndentedCode(e,t){let n=t.baseIndent+4;if(t.indent<n)return!1;let i=t.findColumn(n),r=e.lineStart+i,s=e.lineStart+t.text.length,a=[],l=[];for(;e.nextLine()&&!(t.depth<e.stack.length);)if(t.pos==t.text.length){var c,u=o(t.markers);try{for(u.s();!(c=u.n()).done;){let e=c.value;l.push(e)}}catch(e){u.e(e)}finally{u.f()}}else{if(t.indent<n)break;if(l.length){var h,f=o(l);try{for(f.s();!(h=f.n()).done;){let e=h.value;a.push(e)}}catch(e){f.e(e)}finally{f.f()}l=[]}var d,p=o(t.markers);try{for(p.s();!(d=p.n()).done;){let e=d.value;a.push(e)}}catch(e){p.e(e)}finally{p.f()}s=e.lineStart+t.text.length}l.length&&(t.markers=l.concat(t.markers));let O=!a.length&&e.parser.codeParser&&e.parser.codeParser("");return O?e.startNested(r,O.startParse(e.input.clip(s),r,e.parseContext),(t=>new Zc(e.parser.nodeSet.types[lO.CodeBlock],[t],[0],s-r))):e.addNode(e.buffer.writeElements(a,-r).finish(lO.CodeBlock,s-r),r),!0},FencedCode(e,t){let n=gO(t);if(n<0)return!1;let i=e.lineStart+t.pos,r=t.next,s=n-t.pos,a=t.skipSpace(n),l=OO(t.text,t.text.length,a),c=[UO(lO.CodeMark,i,i+s)],u="";a<l&&(c.push(UO(lO.CodeInfo,e.lineStart+a,e.lineStart+l)),u=t.text.slice(a,l));let h=c.length,f=h,d=e.lineStart+t.text.length+1,p=-1;for(;e.nextLine()&&!(t.depth<e.stack.length);){var O,g=o(t.markers);try{for(g.s();!(O=g.n()).done;){let e=O.value;c.push(e)}}catch(e){g.e(e)}finally{g.f()}let n=t.pos;if(t.indent-t.baseIndent<4)for(;n<t.text.length&&t.text.charCodeAt(n)==r;)n++;if(n-t.pos>=s&&t.skipSpace(n)==t.text.length){c.push(UO(lO.CodeMark,e.lineStart+t.pos,e.lineStart+n)),h++,p=e.lineStart-1,e.nextLine();break}}let m=e.prevLineEnd();p<0&&(p=m);let y=c.length==h&&e.parser.codeParser&&e.parser.codeParser(u);return y&&d<p?e.startNested(i,y.startParse(e.input.clip(p),d,e.parseContext),(e=>(c.splice(f,0,new IO(e,d)),UO(lO.FencedCode,i,m,c)))):e.addNode(e.buffer.writeElements(c,-i).finish(lO.FencedCode,e.prevLineEnd()-i),i),!0},Blockquote(e,t){let n=mO(t);return!(n<0)&&(e.startContext(lO.Blockquote,t.pos),e.addNode(lO.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule(e,t){if(yO(t,e,!1)<0)return!1;let n=e.lineStart+t.pos;return e.nextLine(),e.addNode(lO.HorizontalRule,n),!0},BulletList(e,t){let n=bO(t,e,!1);if(n<0)return!1;e.block.type!=lO.BulletList&&e.startContext(lO.BulletList,t.basePos,t.next);let i=AO(t,t.pos+1);return e.startContext(lO.ListItem,t.basePos,i-t.baseIndent),e.addNode(lO.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},OrderedList(e,t){let n=QO(t,e,!1);if(n<0)return!1;e.block.type!=lO.OrderedList&&e.startContext(lO.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));let i=AO(t,t.pos+n);return e.startContext(lO.ListItem,t.basePos,i-t.baseIndent),e.addNode(lO.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},ATXHeading(e,t){let n=xO(t);if(n<0)return!1;let i=t.pos,r=e.lineStart+i,s=OO(t.text,t.text.length,i),o=s;for(;o>i&&t.text.charCodeAt(o-1)==t.next;)o--;o!=s&&o!=i&&dO(t.text.charCodeAt(o-1))||(o=t.text.length);let a=e.buffer.write(lO.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(i+n+1,o),r+n+1),-r);o<t.text.length&&a.write(lO.HeaderMark,o-i,s-i);let l=a.finish(lO.ATXHeading1-1+n,t.text.length-i);return e.nextLine(),e.addNode(l,r),!0},HTMLBlock(e,t){let n=PO(t,0,!1);if(n<0)return!1;let i=e.lineStart+t.pos,r=DO[n][1],s=[],a=r!=$O;for(;!r.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){a=!1;break}var l,c=o(t.markers);try{for(c.s();!(l=c.n()).done;){let e=l.value;s.push(e)}}catch(e){c.e(e)}finally{c.f()}}a&&e.nextLine();let u=r==kO?lO.CommentBlock:r==SO?lO.ProcessingInstructionBlock:lO.HTMLBlock,h=e.prevLineEnd();return!s.length&&u==lO.HTMLBlock&&e.parser.htmlParser?e.startNested(i,e.parser.htmlParser.startParse(e.input.clip(h),i,e.parseContext),(t=>new Zc(e.parser.nodeSet.types[u],[t],[0],h-i))):e.addNode(e.buffer.writeElements(s,-i).finish(u,h-i),i),!0},SetextHeading:void 0};class TO{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,n){if(-1==this.stage)return!1;let i=n.content+"\n"+t.scrub(),r=this.advance(i);return r>-1&&r<i.length&&this.complete(e,n,r)}finish(e,t){return(2==this.stage||3==this.stage)&&pO(t.content,this.pos)==t.content.length&&this.complete(e,t,t.content.length)}complete(e,t,n){return e.addLeafElement(t,UO(lO.LinkReference,this.start,this.start+n,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(!1===e&&(this.stage=-1),!1)}advance(e){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(og(e,this.pos,this.start,!0)))return-1;if(58!=e.charCodeAt(this.pos))return this.stage=-1;this.elts.push(UO(lO.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let t=pO(e,this.pos),n=0;if(t>this.pos){let i=sg(e,t,this.start);if(i){let t=WO(e,i.to-this.start);t>0&&(this.nextStage(i),n=t)}}return n||(n=WO(e,this.pos)),n>0&&n<e.length?n:-1}return WO(e,this.pos)}if(!this.nextStage(rg(e,pO(e,this.pos),this.start)))return-1}}}}function WO(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(10==n)break;if(!dO(n))return-1}return t}class RO{nextLine(e,t,n){let i=t.depth<e.stack.length?-1:wO(t),r=t.next;if(i<0)return!1;let s=UO(lO.HeaderMark,e.lineStart+t.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(n,UO(61==r?lO.SetextHeading1:lO.SetextHeading2,n.start,e.prevLineEnd(),[...e.parser.parseInline(n.content,n.start),s])),!0}finish(){return!1}}const _O={LinkReference:(e,t)=>91==t.content.charCodeAt(0)?new TO(t):null,SetextHeading:()=>new RO},EO=[(e,t)=>xO(t)>=0,(e,t)=>gO(t)>=0,(e,t)=>mO(t)>=0,(e,t)=>bO(t,e,!0)>=0,(e,t)=>QO(t,e,!0)>=0,(e,t)=>yO(t,e,!0)>=0,(e,t)=>PO(t,0,!0)>=0];class XO{constructor(e,t,n){this.from=e,this.parse=t,this.finish=n}}class FO{constructor(e,t,n,i){this.parser=e,this.input=t,this.parseContext=i,this.line=new uO,this.atEnd=!1,this.nested=null,this.lineStart=n,this.block=aO.create(lO.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=(null==i?void 0:i.fragments)?new fg(i.fragments,t):null,this.updateLine(t.lineAfter(this.lineStart))}get pos(){return this.nested?this.nested.parse.pos:this.lineStart}advance(){if(this.nested){let e=this.nested.parse.advance();if(e){let t=this.nested.finish(e);t instanceof VO&&(t=t.toTree(this.parser.nodeSet)),this.addNode(t,this.nested.from),this.nested=null}return null}let e=this.line;for(;;){for(;e.depth<this.stack.length;)this.finishContext();var t,n=o(e.markers);try{for(n.s();!(t=n.n()).done;){let e=t.value;this.addNode(e.type,e.from,e.to)}}catch(e){n.e(e)}finally{n.f()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){var i,r=o(this.parser.blockParsers);try{for(r.s();!(i=r.n()).done;){let t=i.value;if(t){let n=t(this,e);if(0!=n){if(1==n)return null;e.forward();continue e}}}}catch(e){r.e(e)}finally{r.f()}break}let s=new cO(this.lineStart+e.pos,e.text.slice(e.pos));var a,l=o(this.parser.leafBlockParsers);try{for(l.s();!(a=l.n()).done;){let e=a.value;if(e){let t=e(this,s);t&&s.parsers.push(t)}}}catch(e){l.e(e)}finally{l.f()}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){var c,u=o(dg.endLeafBlock);try{for(u.s();!(c=u.n()).done;){if((0,c.value)(this,e))break e}}catch(e){u.e(e)}finally{u.f()}}var h,f=o(s.parsers);try{for(f.s();!(h=f.n()).done;){if(h.value.nextLine(this,e,s))return null}}catch(e){f.e(e)}finally{f.f()}s.content+="\n"+e.scrub();var d,p=o(e.markers);try{for(p.s();!(d=p.n()).done;){let e=d.value;s.marks.push(e)}}catch(e){p.e(e)}finally{p.f()}}return this.finishLeaf(s),null}reuseFragment(e){if(!this.fragments.moveTo(this.lineStart+e,this.lineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return!!t&&(this.lineStart+=t,this.lineStart<this.input.length?(this.lineStart++,this.updateLine(this.input.lineAfter(this.lineStart))):(this.atEnd=!0,this.updateLine("")),!0)}nextLine(){return this.lineStart+=this.line.text.length,this.lineStart>=this.input.length?(this.atEnd=!0,this.updateLine(""),!1):(this.lineStart++,this.updateLine(this.input.lineAfter(this.lineStart)),!0)}updateLine(e){let t=this.line;for(t.reset(e);t.depth<this.stack.length;t.depth++){let e=this.stack[t.depth],n=this.parser.skipContextMarkup[e.type];if(!n)throw new Error("Unhandled block context "+lO[e.type]);if(!n(e,this,t))break;t.forward()}}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.block=aO.create(e,n,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.startContext(this.parser.getNodeType(e),t,n)}addNode(e,t,n){"number"==typeof e&&(e=new Zc(this.parser.nodeSet.types[e],MO,MO,(null!=n?n:this.prevLineEnd())-t)),this.block.children.push(e),this.block.positions.push(t-this.block.from)}addElement(e){this.block.children.push(e.toTree(this.parser.nodeSet)),this.block.positions.push(e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(lg(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}startNested(e,t,n){this.nested=new XO(e,t,n)}finishContext(){this.block=BO(this.stack,this.parser.nodeSet)}finish(){for(;this.stack.length>1;)this.finishContext();return this.block.toTree(this.parser.nodeSet,this.lineStart)}forceFinish(){let e=this.stack.map((e=>e.copy())),t=this.lineStart;if(this.nested){let n=e[e.length-1],i=this.nested.finish(this.nested.parse.forceFinish());i instanceof VO&&(i=i.toTree(this.parser.nodeSet));let r=t-this.nested.from;i.length>r&&(i=new Zc(i.type,i.children.filter(((e,t)=>i.positions[t]<=r)),i.positions.filter((e=>e<=r)),r)),n.children.push(i),n.positions.push(this.nested.from)}for(;e.length>1;)BO(e,this.parser.nodeSet);return e[0].toTree(this.parser.nodeSet,t)}finishLeaf(e){var t,n=o(e.parsers);try{for(n.s();!(t=n.n()).done;){if(t.value.finish(this,e))return}}catch(e){n.e(e)}finally{n.f()}let i=lg(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(i,-e.start).finish(lO.Paragraph,e.content.length),e.start)}elt(e,t,n,i){return"string"==typeof e?UO(this.parser.getNodeType(e),t,n,i):new IO(e,t)}get buffer(){return new jO(this.parser.nodeSet)}}class zO{constructor(e,t,n,i,r,s,a,l,c,u){this.nodeSet=e,this.codeParser=t,this.htmlParser=n,this.blockParsers=i,this.leafBlockParsers=r,this.blockNames=s,this.endLeafBlock=a,this.skipContextMarkup=l,this.inlineParsers=c,this.inlineNames=u,this.nodeTypes=Object.create(null);var h,f=o(e.types);try{for(f.s();!(h=f.n()).done;){let e=h.value;this.nodeTypes[e.name]=e.id}}catch(e){f.e(e)}finally{f.f()}}startParse(e){return new FO(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}configure(e){let t=LO(e);if(!t)return this;let n=this.nodeSet,i=this.skipContextMarkup,r=this.blockParsers.slice(),s=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),c=this.inlineNames.slice(),u=this.endLeafBlock.slice();if(YO(t.defineNodes)){i=Object.assign({},i);let e=n.types.slice();var h,f=o(t.defineNodes);try{for(f.s();!(h=f.n()).done;){let t=h.value,n="string"==typeof t?{name:t}:t,r=n.name,s=n.block,o=n.composite;if(e.some((e=>e.name==r)))continue;o&&(i[e.length]=(e,t,n)=>o(t,n,e.value));let a=e.length,l=o?["Block","BlockContext"]:s?a>=lO.ATXHeading1&&a<=lO.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;e.push(Yc.define({id:a,name:r,props:l&&[[Fc.group,l]]}))}}catch(e){f.e(e)}finally{f.f()}n=new Lc(e)}if(YO(t.props)&&(n=n.extend(...t.props)),YO(t.remove)){var d,p=o(t.remove);try{for(p.s();!(d=p.n()).done;){let e=d.value,t=this.blockNames.indexOf(e),n=this.inlineNames.indexOf(e);t>-1&&(r[t]=s[t]=void 0),n>-1&&(l[n]=void 0)}}catch(e){p.e(e)}finally{p.f()}}if(YO(t.parseBlock)){var O,g=o(t.parseBlock);try{for(g.s();!(O=g.n()).done;){let e=O.value,t=a.indexOf(e.name);if(t>-1)r[t]=e.parse,s[t]=e.leaf;else{let t=e.before?ZO(a,e.before):e.after?ZO(a,e.after)+1:a.length-1;r.splice(t,0,e.parse),s.splice(t,0,e.leaf),a.splice(t,0,e.name)}e.endLeaf&&u.push(e.endLeaf)}}catch(e){g.e(e)}finally{g.f()}}if(YO(t.parseInline)){var m,y=o(t.parseInline);try{for(y.s();!(m=y.n()).done;){let e=m.value,t=c.indexOf(e.name);if(t>-1)l[t]=e.parse;else{let t=e.before?ZO(c,e.before):e.after?ZO(c,e.after)+1:c.length-1;l.splice(t,0,e.parse),c.splice(t,0,e.name)}}}catch(e){y.e(e)}finally{y.f()}}return new zO(n,t.codeParser||this.codeParser,t.htmlParser||this.htmlParser,r,s,a,u,i,l,c)}getNodeType(e){let t=this.nodeTypes[e];if(null==t)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let n=new ag(this,e,t);e:for(let e=t;e<n.end;){let t=n.char(e);var i,r=o(this.inlineParsers);try{for(r.s();!(i=r.n()).done;){let r=i.value;if(r){let i=r(n,t,e);if(i>=0){e=i;continue e}}}}catch(e){r.e(e)}finally{r.f()}e++}return n.resolveMarkers(0)}}function YO(e){return null!=e&&e.length>0}function LO(e){if(!Array.isArray(e))return e;if(0==e.length)return null;let t=LO(e[0]);if(1==e.length)return t;let n=LO(e.slice(1));if(!n||!t)return t||n;let i=(e,t)=>(e||MO).concat(t||MO);return{props:i(t.props,n.props),codeParser:n.codeParser||t.codeParser,htmlParser:n.htmlParser||t.htmlParser,defineNodes:i(t.defineNodes,n.defineNodes),parseBlock:i(t.parseBlock,n.parseBlock),parseInline:i(t.parseInline,n.parseInline),remove:i(t.remove,n.remove)}}function ZO(e,t){let n=e.indexOf(t);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return n}let qO=[Yc.none];for(let e,t=1;e=lO[t];t++)qO[t]=Yc.define({id:t,name:e,props:t>=lO.Escape?[]:[[Fc.group,t in fO?["Block","BlockContext"]:["Block","LeafBlock"]]]});function BO(e,t){let n=e.pop(),i=e[e.length-1];return i.children.push(n.toTree(t)),i.positions.push(n.from-i.from),i}const MO=[];class jO{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.content.push(e,t,n,4+4*i),this}writeElements(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){n.value.writeTo(this,t)}}catch(e){i.e(e)}finally{i.f()}return this}finish(e,t){return Zc.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}class VO{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:MO;this.type=e,this.from=t,this.to=n,this.children=i}writeTo(e,t){let n=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-n)}toTree(e){return new jO(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class IO{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return MO}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function UO(e,t,n,i){return new VO(e,t,n,i)}const NO={resolve:"Emphasis",mark:"EmphasisMark"},GO={resolve:"Emphasis",mark:"EmphasisMark"},HO={},KO={};class JO{constructor(e,t,n,i){this.type=e,this.from=t,this.to=n,this.side=i}}const eg="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let tg=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{tg=/[!-#%-\*,-\/:;\?@\[-\]_\{-\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65\u{10100}-\u{10102}\u{1039F}\u{103D0}\u{1056F}\u{10857}\u{1091F}\u{1093F}\u{10A50}-\u{10A58}\u{10A7F}\u{10AF0}-\u{10AF6}\u{10B39}-\u{10B3F}\u{10B99}-\u{10B9C}\u{10EAD}\u{10F55}-\u{10F59}\u{11047}-\u{1104D}\u{110BB}\u{110BC}\u{110BE}-\u{110C1}\u{11140}-\u{11143}\u{11174}\u{11175}\u{111C5}-\u{111C8}\u{111CD}\u{111DB}\u{111DD}-\u{111DF}\u{11238}-\u{1123D}\u{112A9}\u{1144B}-\u{1144F}\u{1145A}\u{1145B}\u{1145D}\u{114C6}\u{115C1}-\u{115D7}\u{11641}-\u{11643}\u{11660}-\u{1166C}\u{1173C}-\u{1173E}\u{1183B}\u{11944}-\u{11946}\u{119E2}\u{11A3F}-\u{11A46}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11AA2}\u{11C41}-\u{11C45}\u{11C70}\u{11C71}\u{11EF7}\u{11EF8}\u{11FFF}\u{12470}-\u{12474}\u{16A6E}\u{16A6F}\u{16AF5}\u{16B37}-\u{16B3B}\u{16B44}\u{16E97}-\u{16E9A}\u{16FE2}\u{1BC9F}\u{1DA87}-\u{1DA8B}\u{1E95E}\u{1E95F}]/u}catch(Ht){}const ng={Escape(e,t,n){if(92!=t||n==e.end-1)return-1;let i=e.char(n+1);for(let t=0;t<eg.length;t++)if(eg.charCodeAt(t)==i)return e.append(UO(lO.Escape,n,n+2));return-1},Entity(e,t,n){if(38!=t)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return i?e.append(UO(lO.Entity,n,n+1+i[0].length)):-1},InlineCode(e,t,n){if(96!=t||n&&96==e.char(n-1))return-1;let i=n+1;for(;i<e.end&&96==e.char(i);)i++;let r=i-n,s=0;for(;i<e.end;i++)if(96==e.char(i)){if(s++,s==r&&96!=e.char(i+1))return e.append(UO(lO.InlineCode,n,i+1,[UO(lO.CodeMark,n,n+r),UO(lO.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(e,t,n){if(60!=t||n==e.end-1)return-1;let i=e.slice(n+1,e.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return e.append(UO(lO.URL,n,n+1+r[0].length));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return e.append(UO(lO.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(i);if(o)return e.append(UO(lO.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);if(!a)return-1;let l=[];if(e.parser.htmlParser){let t,i=e.parser.htmlParser.startParse(tu(e.slice(n,n+1+a[0].length)),0,{});for(;!(t=i.advance()););l=t.children.map(((e,i)=>new IO(e,n+t.positions[i])))}return e.append(UO(lO.HTMLTag,n,n+1+a[0].length,l))},Emphasis(e,t,n){if(95!=t&&42!=t)return-1;let i=n+1;for(;e.char(i)==t;)i++;let r=e.slice(n-1,n),s=e.slice(i,i+1),o=tg.test(r),a=tg.test(s),l=/\s|^$/.test(r),c=/\s|^$/.test(s),u=!c&&(!a||l||o),h=!l&&(!o||c||a),f=u&&(42==t||!h||o),d=h&&(42==t||!u||a);return e.append(new JO(95==t?NO:GO,n,i,(f?1:0)|(d?2:0)))},HardBreak(e,t,n){if(92==t&&10==e.char(n+1))return e.append(UO(lO.HardBreak,n,n+2));if(32==t){let t=n+1;for(;32==e.char(t);)t++;if(10==e.char(t)&&t>=n+2)return e.append(UO(lO.HardBreak,n,t+1))}return-1},Link:(e,t,n)=>91==t?e.append(new JO(HO,n,n+1,1)):-1,Image:(e,t,n)=>33==t&&91==e.char(n+1)?e.append(new JO(KO,n,n+2,1)):-1,LinkEnd(e,t,n){if(93!=t)return-1;for(let t=e.parts.length-1;t>=0;t--){let i=e.parts[t];if(i instanceof JO&&(i.type==HO||i.type==KO)){if(!i.side||e.skipSpace(i.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[t]=null,-1;let r=e.takeContent(t),s=e.parts[t]=ig(e,r,i.type==HO?lO.Link:lO.Image,i.from,n+1);if(i.type==HO)for(let n=0;n<t;n++){let t=e.parts[n];t instanceof JO&&t.type==HO&&(t.side=0)}return s.to}}return-1}};function ig(e,t,n,i,r){let s=e.text,o=e.char(r),a=r;if(t.unshift(UO(lO.LinkMark,i,i+(n==lO.Image?2:1))),t.push(UO(lO.LinkMark,r-1,r)),40==o){let n,i=e.skipSpace(r+1),o=rg(s,i-e.offset,e.offset);o&&(i=e.skipSpace(o.to),n=sg(s,i-e.offset,e.offset),n&&(i=e.skipSpace(n.to))),41==e.char(i)&&(t.push(UO(lO.LinkMark,r,r+1)),a=i+1,o&&t.push(o),n&&t.push(n),t.push(UO(lO.LinkMark,i,a)))}else if(91==o){let n=og(s,r-e.offset,e.offset,!1);n&&(t.push(n),a=n.to)}return UO(n,i,a,t)}function rg(e,t,n){if(60==e.charCodeAt(t)){for(let i=t+1;i<e.length;i++){let r=e.charCodeAt(i);if(62==r)return UO(lO.URL,t+n,i+1+n);if(60==r||10==r)return!1}return null}{let i=0,r=t;for(let t=!1;r<e.length;r++){let n=e.charCodeAt(r);if(dO(n))break;if(t)t=!1;else if(40==n)i++;else if(41==n){if(!i)break;i--}else 92==n&&(t=!0)}return r>t?UO(lO.URL,t+n,r+n):r==e.length&&null}}function sg(e,t,n){let i=e.charCodeAt(t);if(39!=i&&34!=i&&40!=i)return!1;let r=40==i?41:i;for(let i=t+1,s=!1;i<e.length;i++){let o=e.charCodeAt(i);if(s)s=!1;else{if(o==r)return UO(lO.LinkTitle,t+n,i+1+n);92==o&&(s=!0)}}return null}function og(e,t,n,i){for(let r=!1,s=t+1,o=Math.min(e.length,s+999);s<o;s++){let o=e.charCodeAt(s);if(r)r=!1;else{if(93==o)return!i&&UO(lO.LinkLabel,t+n,s+1+n);if(i&&!dO(o)&&(i=!1),91==o)return!1;92==o&&(r=!0)}}return null}class ag{constructor(e,t,n){this.parser=e,this.text=t,this.offset=n,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,n,i,r){return this.append(new JO(e,t,n,(i?1:0)|(r?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let t=e;t<this.parts.length;t++){let n=this.parts[t];if(!(n instanceof JO&&n.type.resolve&&2&n.side))continue;let i,r=n.type==NO||n.type==GO,s=n.to-n.from,o=t-1;for(;o>=e;o--){let e=this.parts[o];if(e instanceof JO&&1&e.side&&e.type==n.type&&!(r&&(1&n.side||2&e.side)&&(e.to-e.from+s)%3==0&&((e.to-e.from)%3||s%3))){i=e;break}}if(!i)continue;let a=n.type.resolve,l=[],c=i.from,u=n.to;if(r){let e=Math.min(2,i.to-i.from,s);c=i.to-e,u=n.from+e,a=1==e?"Emphasis":"StrongEmphasis"}i.type.mark&&l.push(this.elt(i.type.mark,c,i.to));for(let e=o+1;e<t;e++)this.parts[e]instanceof VO&&l.push(this.parts[e]),this.parts[e]=null;n.type.mark&&l.push(this.elt(n.type.mark,n.from,u));let h=this.elt(a,c,u,l);this.parts[o]=r&&i.from!=c?new JO(i.type,i.from,c,i.side):null,(this.parts[t]=r&&n.to!=u?new JO(n.type,u,n.to,n.side):null)?this.parts.splice(t,0,h):this.parts[t]=h}let t=[];for(let n=e;n<this.parts.length;n++){let e=this.parts[n];e instanceof VO&&t.push(e)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let n=this.parts[t];if(n instanceof JO&&n.type==e)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}skipSpace(e){return pO(this.text,e-this.offset)+this.offset}elt(e,t,n,i){return"string"==typeof e?UO(this.parser.getNodeType(e),t,n,i):new IO(e,t)}}function lg(e,t){if(!t.length)return e;if(!e.length)return t;let n=e.slice(),i=0;var r,s=o(t);try{for(s.s();!(r=s.n()).done;){let e=r.value;for(;i<n.length&&n[i].to<e.to;)i++;if(i<n.length&&n[i].from<e.from){let t=n[i];t instanceof VO&&(n[i]=new VO(t.type,t.from,t.to,lg(t.children,[e])))}else n.splice(i++,0,e)}}catch(e){s.e(e)}finally{s.f()}return n}const cg=new WeakMap;function ug(e,t){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value;cg.set(e,t),e instanceof Zc&&e.type.isAnonymous&&ug(e.children,t)}}catch(e){i.e(e)}finally{i.f()}}const hg=[lO.CodeBlock,lO.ListItem,lO.OrderedList,lO.BulletList];class fg{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let e=this.fragment.to;for(;e>0&&10!=this.input.get(e-1);)e--;this.fragmentEnd=e?e-1:0}let n=this.cursor;n||(n=this.cursor=this.fragment.tree.cursor(),n.firstChild());let i=e+this.fragment.offset;for(;n.to<=i;)if(!n.parent())return!1;for(;;){if(n.from>=i)return this.fragment.from<=t;if(!n.childAfter(i))return!1}}matches(e){let t=this.cursor.tree;return t&&cg.get(t)==e}takeNodes(e){let t=this.cursor,n=this.fragment.offset,i=e.lineStart,r=i,s=e.block.children.length,o=r,a=s;for(;;){if(t.to-n>=this.fragmentEnd){if(t.type.isAnonymous&&t.firstChild())continue;break}if(e.addNode(t.tree,t.from-n),t.type.is("Block")&&(hg.indexOf(t.type.id)<0?(r=t.to-n,s=e.block.children.length):(r=o,s=a,o=t.to-n,a=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>s;)e.block.children.pop(),e.block.positions.pop();return r-i}}const dg=new zO(new Lc(qO),null,null,Object.keys(CO).map((e=>CO[e])),Object.keys(CO).map((e=>_O[e])),Object.keys(CO),EO,fO,Object.keys(ng).map((e=>ng[e])),Object.keys(ng)),pg={resolve:"Strikethrough",mark:"StrikethroughMark"},Og={defineNodes:["Strikethrough","StrikethroughMark"],parseInline:[{name:"Strikethrough",parse:(e,t,n)=>126!=t||126!=e.char(n+1)?-1:e.addDelimiter(pg,n,n+2,!0,!0),after:"Emphasis"}]};function gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=0,o=!0,a=-1,l=-1,c=!1,u=()=>{i.push(e.elt("TableCell",r+a,r+l,e.parser.parseInline(t.slice(a,l),r+a)))};for(let h=n;h<t.length;h++){let n=t.charCodeAt(h);124!=n||c?(c||32!=n&&9!=n)&&(a<0&&(a=h),l=h+1):((!o||a>-1)&&s++,o=!1,i&&(a>-1&&u(),i.push(e.elt("TableDelimiter",h+r,h+r+1))),a=l=-1),c=!c&&92==n}return a>-1&&(s++,i&&u()),s}class mg{constructor(){this.rows=null}nextLine(e,t,n){if(null==this.rows){let i;if(this.rows=!1,(45==t.next||58==t.next||124==t.next)&&/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/.test(i=t.text.slice(t.pos))){let r=[];gg(e,n.content,0,r,n.start)==gg(e,i,t.pos)&&(this.rows=[e.elt("TableHeader",n.start,n.start+n.content.length,r),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let n=[];gg(e,t.text,t.pos,n,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,n))}return!1}finish(e,t){return!!this.rows&&(this.emit(e,t),!0)}emit(e,t){e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows))}}const yg={defineNodes:[{name:"Table",block:!0},"TableHeader","TableRow","TableCell","TableDelimiter"],parseBlock:[{name:"Table",leaf:(e,t)=>function(e,t){for(let n=t;n<e.length;n++){let t=e.charCodeAt(n);if(124==t)return!0;92==t&&n++}return!1}(t.content,0)?new mg:null,before:"SetextHeading"}]};class vg{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const bg=[yg,{defineNodes:[{name:"Task",block:!0},"TaskMarker"],parseBlock:[{name:"TaskList",leaf:(e,t)=>/^\[[ xX]\]/.test(t.content)&&"ListItem"==e.parser.nodeSet.types[e.block.type].name?new vg:null,after:"SetextHeading"}]},Og];function Qg(e,t,n){return(i,r,s)=>{if(r!=e||i.char(s+1)==e)return-1;let o=[i.elt(n,s,s+1)];for(let r=s+1;r<i.end;r++){let a=i.char(r);if(a==e)return i.addElement(i.elt(t,s,r+1,o.concat(i.elt(n,r,r+1))));if(92==a&&o.push(i.elt("Escape",r,2+r++)),dO(a))break}return-1}}const xg={defineNodes:["Superscript","SuperscriptMark"],parseInline:[{name:"Superscript",parse:Qg(94,"Superscript","SuperscriptMark")}]},wg={defineNodes:["Subscript","SubscriptMark"],parseInline:[{name:"Subscript",parse:Qg(126,"Subscript","SubscriptMark")}]},$g={defineNodes:["Emoji"],parseInline:[{name:"Emoji",parse(e,t,n){let i;return 58==t&&(i=/^[a-zA-Z_0-9]+:/.exec(e.slice(n+1,e.end)))?e.addElement(e.elt("Emoji",n,n+1+i[0].length)):-1}}]};class kg{constructor(e,t,n,i,r,s,o,a,l,c){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=r,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.parent=c}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.parser.context;return new kg(e,[],t,n,n,0,[],0,i?new Sg(i,i.start):null,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=65535&e,i=this.p.parser,r=i.dynamicPrecedence(n);if(r&&(this.score+=r),0==t)return n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.pushState(i.getGoto(this.state,n,!0),this.reducePos),void this.reduceContext(n);let s=this.stack.length-3*(t-1)-(262144&e?6:0),o=this.stack[s-2],a=this.stack[s-1],l=this.bufferBase+this.buffer.length-a;if(n<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,o,e,l+4,!0)}if(262144&e)this.state=this.stack[s];else{let e=this.stack[s-3];this.state=i.getGoto(e,n,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(n)}storeNode(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==n)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4])for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4);this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(e,t,n,i)}shift(e,t,n){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=this.pos,r=e,s=this.p.parser;(n>this.pos||t<=s.maxNode)&&(this.pos=n,s.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,i),t<=s.maxNode&&this.buffer.push(t,i,n,4),this.shiftContext(t)}else t<=this.p.parser.maxNode&&this.buffer.push(t,this.pos,n,4),this.pos=n}apply(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this.p.input,this))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new kg(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=200}canShift(e){for(let t=new Pg(this);;){let n=this.p.parser.stateSlot(t.top,4)||this.p.parser.hasAction(t.top,e);if(0==(65536&n))return!0;if(0==n)return!1;t.reduce(n)}}get ruleStart(){for(let e=this.state,t=this.stack.length;;){let n=this.p.parser.stateSlot(e,5);if(!(65536&n))return 0;if(t-=3*(n>>19),(65535&n)<this.p.parser.minRepeatTerm)return this.stack[t+1];e=this.stack[t]}}startOf(e,t){let n=this.state,i=this.stack.length,r=this.p.parser;for(;;){let s=r.stateSlot(n,5),o=s>>19,a=65535&s;if(e.indexOf(a)>-1){let e=i-3*(s>>19),n=this.stack[e+1];if(null==t||t>n)return n}if(0==i)return null;0==o?(i-=3,n=this.stack[i]):(i-=3*(o-1),n=r.getGoto(this.stack[i-3],a,!0))}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<t.length;r+=2)(i=t[r+1])!=this.state&&this.p.parser.hasAction(i,e)&&n.push(t[r],i);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let i=t[e+1];n.some(((e,t)=>1&t&&e==i))||n.push(t[e],i)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let i=t[e+1];if(i==this.state)continue;let r=this.split();r.storeNode(0,r.pos,r.pos,4,!0),r.pushState(i,this.pos),r.shiftContext(t[e]),r.score-=200,n.push(r)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);return 0!=(65536&e)&&(this.p.parser.validAction(this.state,e)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100),this.reduce(e),!0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2)&&this.forceReduce(););return this}get deadEnd(){if(3!=this.stack.length)return!1;let e=this.p.parser;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this.p.input,this))}reduceContext(e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this.p.input,this))}emitContext(){let e=this.curContext;if(!e.tracker.strict)return;let t=this.buffer.length-1;(t<0||-2!=this.buffer[t])&&this.buffer.push(e.hash,this.reducePos,this.reducePos,-2)}updateContext(e){if(e!=this.curContext.context){let t=new Sg(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}}class Sg{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.hash(t)}}var Dg;!function(e){e[e.Token=200]="Token",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Dg||(Dg={}));class Pg{constructor(e){this.stack=e,this.top=e.state,this.rest=e.stack,this.offset=this.rest.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(n-1);let i=this.stack.p.parser.getGoto(this.rest[this.offset-3],t,!0);this.top=i}}class Ag{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e){return new Ag(e,e.bufferBase+e.buffer.length,e.buffer.length)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Ag(this.stack,this.pos,this.index)}}class Cg{constructor(){this.start=-1,this.value=-1,this.end=-1}accept(e,t){this.value=e,this.end=t}}class Tg{constructor(e,t){this.data=e,this.id=t}token(e,t,n){!function(e,t,n,i,r){let s=0,o=1<<r,a=i.p.parser.dialect;e:for(let r=n.start;0!=(o&e[s]);){let l=e[s+1];for(let t=s+3;t<l;t+=2)if((e[t+1]&o)>0){let s=e[t];if(a.allows(s)&&(-1==n.value||n.value==s||i.p.parser.overrides(s,n.value))){n.accept(s,r);break}}let c=t.get(r++);for(let t=0,n=e[s+2];t<n;){let i=t+n>>1,r=l+i+(i<<1),o=e[r],a=e[r+1];if(c<o)n=i;else{if(!(c>=a)){s=e[r+2];continue e}t=i+1}}break}}(this.data,e,t,n,this.id)}}Tg.prototype.contextual=Tg.prototype.fallback=Tg.prototype.extend=!1;class Wg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Rg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;let n=null;for(let i=0,r=0;i<e.length;){let s=0;for(;;){let t=e.charCodeAt(i++),n=!1;if(126==t){s=65535;break}t>=92&&t--,t>=34&&t--;let r=t-32;if(r>=46&&(r-=46,n=!0),s+=r,n)break;s*=46}n?n[r++]=s:n=new t(s)}return n}const _g="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG);let Eg=null;function Xg(e,t,n){let i=e.cursor(t);for(;;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<=t:i.from>=t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-5)):Math.min(e.length,Math.max(i.from+1,t+5));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}class Fg{constructor(e){this.fragments=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Xg(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Xg(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[t]+n.positions[i];if(s>e)return this.nextStart=s,null;if(s==e&&s+r.length<=this.safeTo)return s==e&&s>=this.safeFrom?r:null;r instanceof Bc?(this.index[t]++,this.nextStart=s+r.length):(this.index[t]++,s+r.length>=e&&(this.trees.push(r),this.start.push(s),this.index.push(0)))}}}class zg extends Cg{constructor(){super(...arguments),this.extended=-1,this.mask=0,this.context=0}clear(e){this.start=e,this.value=this.extended=-1}}const Yg=new Cg;class Lg{constructor(e){this.tokens=[],this.mainToken=Yg,this.actions=[],this.tokens=e.tokenizers.map((e=>new zg))}getActions(e,t){let n=0,i=null,r=e.p.parser,s=r.tokenizers,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0;for(let r=0;r<s.length;r++){if(0==(1<<r&o))continue;let l=s[r],c=this.tokens[r];if((!i||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=o||c.context!=a)&&(this.updateCachedToken(c,l,e,t),c.mask=o,c.context=a),0!=c.value)){let t=n;if(c.extended>-1&&(n=this.addActions(e,c.extended,c.end,n)),n=this.addActions(e,c.value,c.end,n),!l.extend&&(i=c,n>t))break}}for(;this.actions.length>n;)this.actions.pop();return i||(i=Yg,i.start=e.pos,e.pos==t.length?i.accept(e.p.parser.eofTerm,e.pos):i.accept(0,e.pos+1)),this.mainToken=i,this.actions}updateCachedToken(e,t,n,i){if(e.clear(n.pos),t.token(i,e,n),e.value>-1){let t=n.p.parser;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let s=t.specializers[r](i.read(e.start,e.end),n);if(s>=0&&n.p.parser.dialect.allows(s>>1)){0==(1&s)?e.value=s>>1:e.extended=s>>1;break}}}else n.pos==i.length?e.accept(n.p.parser.eofTerm,n.pos):e.accept(0,n.pos+1)}putAction(e,t,n,i){for(let t=0;t<i;t+=3)if(this.actions[t]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let r=e.state,s=e.p.parser,o=s.data;for(let e=0;e<2;e++)for(let a=s.stateSlot(r,e?2:1);;a+=3){if(65535==o[a]){if(1!=o[a+1]){0==i&&2==o[a+1]&&(i=this.putAction(Ig(o,a+1),t,n,i));break}a=Ig(o,a+2)}o[a]==t&&(i=this.putAction(Ig(o,a+1),t,n,i))}return i}}var Zg;!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=200]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit"}(Zg||(Zg={}));class qg{constructor(e,t,n,i){this.parser=e,this.input=t,this.startPos=n,this.context=i,this.pos=0,this.recovering=0,this.nextStackID=9812,this.nested=null,this.nestEnd=0,this.nestWrap=null,this.reused=[],this.tokens=new Lg(e),this.topTerm=e.top[1],this.stacks=[kg.start(this,e.top[0],this.startPos)];let r=null==i?void 0:i.fragments;this.fragments=r&&r.length?new Fg(r):null}advance(){if(this.nested){let e=this.nested.advance();return this.pos=this.nested.pos,e&&(this.finishNested(this.stacks[0],e),this.nested=null),null}let e,t,n,i=this.stacks,r=this.pos,s=this.stacks=[];for(let o=0;o<i.length;o++){let a,l=i[o];for(;;){if(l.pos>r)s.push(l);else if(a=this.checkNest(l))(!n||n.stack.score<l.score)&&(n=a);else{if(this.advanceStack(l,s,i))continue;{e||(e=[],t=[]),e.push(l);let n=this.tokens.mainToken;t.push(n.value,n.end)}}break}}if(n)return this.startNested(n),null;if(!s.length){let t=e&&function(e){let t=null;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value;e.pos==e.p.input.length&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}}catch(e){i.e(e)}finally{i.f()}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw _g&&e&&console.log("Stuck with token "+this.parser.getName(this.tokens.mainToken.value)),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=this.runRecovery(e,t,s);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(s.length>e)for(s.sort(((e,t)=>t.score-e.score));s.length>e;)s.pop();s.some((e=>e.reducePos>r))&&this.recovering--}else if(s.length>1)e:for(let e=0;e<s.length-1;e++){let t=s[e];for(let n=e+1;n<s.length;n++){let i=s[n];if(t.sameState(i)||t.buffer.length>200&&i.buffer.length>200){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){s.splice(e--,1);continue e}s.splice(n--,1)}}}this.pos=s[0].pos;for(let e=1;e<s.length;e++)s[e].pos<this.pos&&(this.pos=s[e].pos);return null}advanceStack(e,t,n){let i=e.pos,r=this.input,s=this.parser,o=_g?this.stackID(e)+" -> ":"";if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let r=this.fragments.nodeAt(i);r;){let i=this.parser.nodeSet.types[r.type.id]==r.type?s.getGoto(e.state,r.type.id):-1;if(i>-1&&r.length&&(!t||(r.contextHash||0)==n))return e.useNode(r,i),_g&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(r.type.id)})`),!0;if(!(r instanceof Zc)||0==r.children.length||r.positions[0]>0)break;let a=r.children[0];if(!(a instanceof Zc))break;r=a}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),_g&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(65535&a)})`),!0;let l=this.tokens.getActions(e,r);for(let r=0;r<l.length;){let a=l[r++],c=l[r++],u=l[r++],h=r==l.length||!n,f=h?e:e.split();if(f.apply(a,c,u),_g&&console.log(o+this.stackID(f)+` (via ${0==(65536&a)?"shift":`reduce of ${s.getName(65535&a)}`} for ${s.getName(c)} @ ${i}${f==e?"":", split"})`),h)return!0;f.pos>i?t.push(f):n.push(f)}return!1}advanceFully(e,t){let n=e.pos;for(;;){let i=this.checkNest(e);if(i)return i;if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Bg(e,t),!0}}runRecovery(e,t,n){let i,r=null,s=!1;for(let c=0;c<e.length;c++){let u=e[c],h=t[c<<1],f=t[1+(c<<1)],d=_g?this.stackID(u)+" -> ":"";if(u.deadEnd){if(s)continue;s=!0,u.restart(),_g&&console.log(d+this.stackID(u)+" (restarted)");let e=this.advanceFully(u,n);if(e){!0!==e&&(i=e);continue}}let p=u.split(),O=d;for(let e=0;p.forceReduce()&&e<10;e++){_g&&console.log(O+this.stackID(p)+" (via force-reduce)");let e=this.advanceFully(p,n);if(e){!0!==e&&(i=e);break}_g&&(O=this.stackID(p)+" -> ")}var a,l=o(u.recoverByInsert(h));try{for(l.s();!(a=l.n()).done;){let e=a.value;_g&&console.log(d+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n)}}catch(e){l.e(e)}finally{l.f()}this.input.length>u.pos?(f==u.pos&&(f++,h=0),u.recoverByDelete(h,f),_g&&console.log(d+this.stackID(u)+` (via recover-delete ${this.parser.getName(h)})`),Bg(u,n)):(!r||r.score<u.score)&&(r=u)}if(r)return r;if(i){var c,u=o(this.stacks);try{for(u.s();!(c=u.n()).done;){if(c.value.score>i.stack.score){i=void 0;break}}}catch(e){u.e(e)}finally{u.f()}}return i&&this.startNested(i),null}forceFinish(){let e=this.stacks[0].split();return this.nested&&this.finishNested(e,this.nested.forceFinish()),this.stackToTree(e.forceAll())}stackToTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pos;return this.parser.context&&e.emitContext(),Zc.build({buffer:Ag.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.startPos,length:t-this.startPos,minRepeatType:this.parser.minRepeatTerm})}checkNest(e){let t=this.parser.findNested(e.state);if(!t)return null;let n=t.value;return"function"==typeof n&&(n=n(this.input,e)),n?{stack:e,info:t,spec:n}:null}startNested(e){let t=e.stack,n=e.info,i=e.spec;this.stacks=[t],this.nestEnd=this.scanForNestEnd(t,n.end,i.filterEnd),this.nestWrap="number"==typeof i.wrapType?this.parser.nodeSet.types[i.wrapType]:i.wrapType||null,i.startParse?this.nested=i.startParse(this.input.clip(this.nestEnd),t.pos,this.context):this.finishNested(t)}scanForNestEnd(e,t,n){for(let i=e.pos;i<this.input.length;i++)if(Yg.start=i,Yg.value=-1,t.token(this.input,Yg,e),Yg.value>-1&&(!n||n(this.input.read(i,Yg.end))))return i;return this.input.length}finishNested(e,t){this.nestWrap?t=new Zc(this.nestWrap,t?[t]:[],t?[0]:[],this.nestEnd-e.pos):t||(t=new Zc(Yc.none,[],[],this.nestEnd-e.pos));let n=this.parser.findNested(e.state);e.useNode(t,this.parser.getGoto(e.state,n.placeholder,!0)),_g&&console.log(this.stackID(e)+" (via unnest)")}stackID(e){let t=(Eg||(Eg=new WeakMap)).get(e);return t||Eg.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Bg(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(i.pos==e.pos&&i.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class Mg{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const jg=e=>e;class Vg{constructor(e){if(this.bufferLength=_c,this.strict=!1,this.cachedDialect=null,13!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (13)`);let t=Rg(e.tokenData),n=e.nodeNames.split(" ");this.minRepeatTerm=n.length,this.context=e.context;for(let t=0;t<e.repeatNodeCount;t++)n.push("");let r=[];for(let e=0;e<n.length;e++)r.push([]);function s(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps){var a,l=o(e.nodeProps);try{for(l.s();!(a=l.n()).done;){let e=a.value,t=e[0];for(let n=1;n<e.length;){let i=e[n++];if(i>=0)s(i,t,e[n++]);else{let r=e[n+-i];for(let o=-i;o>0;o--)s(e[n++],t,r);n++}}}}catch(e){l.e(e)}finally{l.f()}}if(this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=Rg(e.states,Uint32Array),this.data=Rg(e.stateData),this.goto=Rg(e.goto);let c=Object.keys(e.topRules).map((t=>e.topRules[t][1]));this.nodeSet=new Lc(n.map(((t,n)=>Yc.define({name:n>=this.minRepeatTerm?void 0:t,id:n,props:r[n],top:c.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})))),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new Tg(t,e):e)),this.topRules=e.topRules,this.nested=(e.nested||[]).map((e=>{let t=i(e,4),n=t[0],r=t[1],s=t[2],o=t[3];return{name:n,value:r,end:new Tg(Rg(s),0),placeholder:o}})),this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof e&&(e=tu(e));let i=new qg(this,e,t,n);for(;;){let e=i.advance();if(e)return e}}startParse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"string"==typeof e&&(e=tu(e)),new qg(this,e,t,n)}getGoto(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.goto;if(t>=i[0])return-1;for(let r=i[t+1];;){let t=i[r++],s=1&t,o=i[r++];if(s&&n)return o;for(let n=r+(t>>1);r<n;r++)if(i[r]==e)return o;if(s)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let r,s=this.stateSlot(e,i?2:1);;s+=3){if(65535==(r=n[s])){if(1!=n[s+1]){if(2==n[s+1])return Ig(n,s+2);break}r=n[s=Ig(n,s+2)]}if(r==t||0==r)return Ig(n,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}findNested(e){let t=this.stateSlot(e,0);return 4&t?this.nested[t>>10]:null}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=Ig(this.data,n+2)}if(t==Ig(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Ig(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}overrides(e,t){let n=Ug(this.data,this.tokenPrecTable,t);return n<0||Ug(this.data,this.tokenPrecTable,e)<n}configure(e){let t=Object.assign(Object.create(Vg.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.nested&&(t.nested=this.nested.map((t=>Object.prototype.hasOwnProperty.call(e.nested,t.name)?{name:t.name,value:e.nested[t.name],end:t.end,placeholder:t.placeholder}:t))),null!=e.strict&&(t.strict=e.strict),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get hasNested(){return this.nested.length>0}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){if(this.cachedDialect&&this.cachedDialect.source==e)return this.cachedDialect;let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e){var i,r=o(e.split(" "));try{for(r.s();!(i=r.n()).done;){let e=i.value,r=t.indexOf(e);r>=0&&(n[r]=!0)}}catch(e){r.e(e)}finally{r.f()}}let s=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,i=this.dialects[t[e]];65535!=(n=this.data[i++]);)(s||(s=new Uint8Array(this.maxTerm+1)))[n]=1;return this.cachedDialect=new Mg(e,n,s)}static deserialize(e){return new Vg(e)}}function Ig(e,t){return e[t]|e[t+1]<<16}function Ug(e,t,n){for(let i,r=t;65535!=(i=e[r]);r++)if(i==n)return r-t;return-1}const Ng={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Gg={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Hg={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Kg(e){return 45==e||46==e||58==e||e>=65&&e<=90||95==e||e>=97&&e<=122||e>=161}let Jg=null,em=null,tm=0;function nm(e,t){if(tm==t&&em==e)return Jg;let n=e.get(t);for(;9==(i=n)||10==i||13==i||32==i;)n=e.get(++t);var i;let r=t;for(;Kg(n);)n=e.get(++t);return em=e,tm=t,Jg=t>r?e.read(r,t).toLowerCase():n==im||n==rm?void 0:null}const im=63,rm=33;function sm(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let t=0;t<e.length;t++)this.hash+=(this.hash<<4)+e.charCodeAt(t)+(e.charCodeAt(t)<<8)}const om=new class{constructor(e){this.start=e.start,this.shift=e.shift||jg,this.reduce=e.reduce||jg,this.reuse=e.reuse||jg,this.hash=e.hash,this.strict=!1!==e.strict}}({start:null,shift:(e,t,n,i)=>1==t?new sm(nm(n,i.pos)||"",e):e,reduce:(e,t)=>10==t&&e?e.parent:e,reuse(e,t,n,i){let r=t.type.id;return 1==r||11==r?new sm(nm(n,i.pos-t.length+1)||"",e):e},hash:e=>e?e.hash:0,strict:!1}),am=new Wg(((e,t,n)=>{let i,r=t.start,s=e.get(r);if(s<0&&n.context&&t.accept(34,t.start),60!=s)return;r++,(i=47==e.get(r))&&r++;let o=nm(e,r);if(void 0===o)return;if(!o)return t.accept(i?4:1,r);let a=n.context?n.context.name:null;if(i){if(o==a)return t.accept(2,r);if(a&&Gg[a])return t.accept(34,t.start);if(n.dialectEnabled(0))return t.accept(2,r);for(let e=n.context;e;e=e.parent)if(e.name==o)return;t.accept(3,r)}else a&&Hg[a]&&Hg[a][o]?t.accept(34,t.start):t.accept(1,r)})),lm=new Wg(((e,t,n)=>{let i=e.get(t.start),r=t.start+1;if(47==i){if(62!=e.get(r))return;r++}else if(62!=i)return;n.context&&Ng[n.context.name]&&t.accept(5,r)})),cm=new Wg(((e,t)=>{let n=t.start,i=0;for(;;){let t=e.get(n);if(t<0)break;if(n++,t=="--\x3e".charCodeAt(i)){if(i++,3==i){n-=3;break}}else i=0}n>t.start&&t.accept(35,n)})),um=/^<\/?\s*([\.\-\:\w\xa1-\uffff]+)/;function hm(e){let t=um.exec(e);return t?t[1].toLowerCase():null}function fm(e){let t=um.exec(e),n={};if(t){let i,r=/\s*([\.\-\:\w\xa1-\uffff]+)\s*(?:=\s*(?:"([^"]*)"|'([^']*)'|([^\s=<>"'/]+)))?/g;for(r.lastIndex=t.index+t[0].length;i=r.exec(e);)n[i[1]]=i[4]||i[3]||i[2]||i[1]}return n}function dm(e){return t=>hm(t)==e}function pm(e){let t=null;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){let e=n.value;t||(t=Object.create(null)),(t[e.tag]||(t[e.tag]=[])).push({attrs:e.attrs,value:{filterEnd:dm(e.tag),startParse:e.parser.startParse.bind(e.parser)}})}}catch(e){i.e(e)}finally{i.f()}return function(e,n){let i,r,s=e.read(n.ruleStart,n.pos),a=hm(s);if(!a)return null;if(t&&(i=t[a])){var l,c=o(i);try{for(c.s();!(l=c.n()).done;){let e=l.value;if(!e.attrs||e.attrs(r||(r=fm(s))))return e.value}}catch(e){c.e(e)}finally{c.f()}}return"script"==a||"textarea"==a||"style"==a?{filterEnd:dm(a),wrapType:25}:null}}const Om=pm([]);const gm=Vg.deserialize({version:13,states:"+^OQOXOOOoO`O'#CgS!cOXO'#CfOOOP'#Cf'#CfO!mOdO'#CqO!uO`O'#CsOOOP'#DQ'#DQOOOP'#Cv'#CvQQOXOOOOOQ'#Cw'#CwO!}O`O,59RO#VOrO,59ROOOP'#C{'#C{O#eOXO'#DWO#oOPO,59QOOOS'#C|'#C|O#wOdO,59]OOOP,59],59]O$PO`O,59_O$XO`O,59_OOOP-E6t-E6tOOOQ-E6u-E6uO$aOrO1G.mO$aOrO1G.mO$oOrO'#CiOOOQ'#Cx'#CxO%QOrO1G.mOOOP1G.m1G.mOOOP1G.v1G.vOOOP-E6y-E6yO%]O`O'#CoOOOP1G.l1G.lOOOS-E6z-E6zOOOP1G.w1G.wO%eO`O1G.yO%eO`O1G.yOOOP1G.y1G.yO%mOrO7+$XO%{OrO7+$XOOOP7+$X7+$XOOOP7+$b7+$bO&WOrO,59TO&iO!bO,59TOOOQ-E6v-E6vO&wO`O,59ZO'PO`O,59ZO'XO`O7+$eOOOP7+$e7+$eO'aOrO<<GsOOOP<<Gs<<GsOOOP<<G|<<G|O'lO!bO1G.oO'lO!bO1G.oO'zO#tO'#ClO(YO&jO'#ClO(hOrO1G.oO(vO`O1G.uO(vO`O1G.uOOOP1G.u1G.uOOOP<<HP<<HPOOOPAN=_AN=_OOOPAN=hAN=hO)OO!bO7+$ZO)^OrO7+$ZOOOO'#Cy'#CyO)lO#tO,59WOOOQ,59W,59WOOOO'#Cz'#CzO)zO&jO,59WO)^OrO7+$ZO*YO`O7+$aOOOP7+$a7+$aO*bOrO<<GuO*bOrO<<GuOOOO-E6w-E6wOOOQ1G.r1G.rOOOO-E6x-E6xOOOP<<G{<<G{O*pOrOAN=a",stateData:"+T~OPPORTOSUOVUOWUOXUOfUOhVO{SO~O[ZOuXO~OPPORTOSUOVUOWUOXUOfUO{SO~OQzPrzP~PwOs_O|aO~O[cOuXO~O[fOuXO~OTlO^hObkOuXO~OQzXrzX~PwOQnOroO~Os_O|qO~O[rOuXO~ObtOuXO~OTxO^hObwOuXO~O_zOuXOT]X^]Xb]X~OTxO^hObwO~O[}OuXO~Ob!POuXO~OT!SO^hOb!ROuXO~OT!SO^hOb!RO~O_!TOuXOT]a^]ab]a~Oa!XOuXOv!VOx!WO~O[!YOuXO~Ob![OuXO~Ob!]OuXO~OT!_O^hOb!^O~Oa!aOuXOv!VOx!WO~OW!bOX!bOv!dOw!bO~OW!eOX!eOx!dOy!eO~OuXOT]i^]ib]i~Ob!iOuXO~Oa!jOuXOv!VOx!WO~OuXOT]q^]qb]q~OW!bOX!bOv!mOw!bO~OW!eOX!eOx!mOy!eO~Ob!oOuXO~OuXOT]y^]yb]y~OuXOT]!R^]!Rb]!R~O{fhf~",goto:"%b{PPPPPPPPPP|!SP!YPP!cPP!m!p|P|PP!v!|$^$m$s$y%PPPP%VPPPPP%_XUOQW]XQOQW]_iZfgjuv!QQ!XzS!a!T!UR!j!`Ro^XROQW]QWORdWQYPQbTneYbgsuy|!O!U!Z!`!g!h!k!pQgZQscQufQyhQ|nQ!OrQ!UzQ!Z}Q!`!TQ!g!XQ!h!YQ!k!aR!p!jQjZSvfgU{jv!QR!QuQ!c!VR!l!cQ!f!WR!n!fQ]QRm]Q`SRp`SVOWT[Q]R^Q",nodeNames:"⚠ StartTag StartCloseTag StartCloseTag IncompleteCloseTag SelfCloseEndTag Document Text EntityReference CharacterReference Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl RawText",maxTerm:44,context:om,nodeProps:[[Fc.closedBy,-2,1,2,"EndTag SelfCloseEndTag",11,"CloseTag"],[Fc.openedBy,5,"StartTag",18,"StartTag StartCloseTag",19,"OpenTag"]],skippedNodes:[0,25],repeatNodeCount:7,tokenData:"!$|!aR!WOX$kXY)sYZ)sZ]$k]^)s^p$kpq)sqr$krs*zsv$kvw+dwx2wx}$k}!O3d!O!P$k!P!Q7]!Q![$k![!]8s!]!^$k!^!_>`!_!`!!n!`!a8R!a!c$k!c!}8s!}#R$k#R#S8s#S#T$k#T#o8s#o$f$k$f$g&R$g%W$k%W%o8s%o%p$k%p&a8s&a&b$k&b1p8s1p4U$k4U4d8s4d4e$k4e$IS8s$IS$I`$k$I`$Ib8s$Ib$Kh$k$Kh%#t8s%#t&/x$k&/x&Et8s&Et&FV$k&FV;'S8s;'S;:j!#`;:j?&r$k?&r?Ah8s?Ah?BY$k?BY?Mn8s?Mn~$k!Z$vcVPaWw`ypOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!R&[VVPw`ypOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&Rq&xTVPypOv&qwx'Xx!^&q!^!_'g!_~&qP'^RVPOv'Xw!^'X!_~'Xp'lQypOv'gx~'ga'yUVPw`Or'rrs'Xsv'rw!^'r!^!_(]!_~'r`(bRw`Or(]sv(]w~(]!Q(rTw`ypOr(krs'gsv(kwx(]x~(kW)WXaWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!a*O^VPw`ypu^OX&RXY)sYZ)sZ]&R]^)s^p&Rpq)sqr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!Z+TTvhVPypOv&qwx'Xx!^&q!^!_'g!_~&q!Z+ibaWOX,qXZ.OZ],q]^.O^p,qqr,qrs.Ost/Ztw,qwx.Ox!P,q!P!Q.O!Q!],q!]!^)R!^!a.O!a$f,q$f$g.O$g~,q!Z,vbaWOX,qXZ.OZ],q]^.O^p,qqr,qrs.Ost)Rtw,qwx.Ox!P,q!P!Q.O!Q!],q!]!^.g!^!a.O!a$f,q$f$g.O$g~,q!R.RTOp.Oqs.Ot!].O!]!^.b!^~.O!R.gOW!R!Z.nXW!RaWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z/`aaWOX0eXZ1oZ]0e]^1o^p0eqr0ers1osw0ewx1ox!P0e!P!Q1o!Q!]0e!]!^)R!^!a1o!a$f0e$f$g1o$g~0e!Z0jaaWOX0eXZ1oZ]0e]^1o^p0eqr0ers1osw0ewx1ox!P0e!P!Q1o!Q!]0e!]!^2T!^!a1o!a$f0e$f$g1o$g~0e!R1rSOp1oq!]1o!]!^2O!^~1o!R2TOX!R!Z2[XX!RaWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z3QUxxVPw`Or'rrs'Xsv'rw!^'r!^!_(]!_~'r!]3oeVPaWw`ypOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O5Q!O!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!]5]dVPaWw`ypOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!`&R!`!a6k!a$f$k$f$g&R$g~$k!T6vVVPw`yp|QOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!X7fXVPw`ypOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_!`&R!`!a8R!a~&R!X8^VbUVPw`ypOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a9S!Y^S[QVPaWw`ypOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O8s!O!P8s!P!Q&R!Q![8s![!]8s!]!^$k!^!_(k!_!a&R!a!c$k!c!}8s!}#R$k#R#S8s#S#T$k#T#o8s#o$f$k$f$g&R$g$}$k$}%O8s%O%W$k%W%o8s%o%p$k%p&a8s&a&b$k&b1p8s1p4U8s4U4d8s4d4e$k4e$IS8s$IS$I`$k$I`$Ib8s$Ib$Je$k$Je$Jg8s$Jg$Kh$k$Kh%#t8s%#t&/x$k&/x&Et8s&Et&FV$k&FV;'S8s;'S;:j<r;:j?&r$k?&r?Ah8s?Ah?BY$k?BY?Mn8s?Mn~$k!a<}eVPaWw`ypOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8s<%l~$k!R>gWw`ypOq(kqr?Prs'gsv(kwx(]x!a(k!a!bKh!b~(k!R?WZw`ypOr(krs'gsv(kwx(]x}(k}!O?y!O!f(k!f!gAP!g#W(k#W#XGx#X~(k!R@QVw`ypOr(krs'gsv(kwx(]x}(k}!O@g!O~(k!R@pTw`yp{POr(krs'gsv(kwx(]x~(k!RAWVw`ypOr(krs'gsv(kwx(]x!q(k!q!rAm!r~(k!RAtVw`ypOr(krs'gsv(kwx(]x!e(k!e!fBZ!f~(k!RBbVw`ypOr(krs'gsv(kwx(]x!v(k!v!wBw!w~(k!RCOVw`ypOr(krs'gsv(kwx(]x!{(k!{!|Ce!|~(k!RClVw`ypOr(krs'gsv(kwx(]x!r(k!r!sDR!s~(k!RDYVw`ypOr(krs'gsv(kwx(]x!g(k!g!hDo!h~(k!RDvWw`ypOrDorsE`svDovwEtwxFdx!`Do!`!aG`!a~DoqEeTypOvE`vxEtx!`E`!`!aFV!a~E`PEwRO!`Et!`!aFQ!a~EtPFVOhPqF^QyphPOv'gx~'gaFiVw`OrFdrsEtsvFdvwEtw!`Fd!`!aGO!a~FdaGVRw`hPOr(]sv(]w~(]!RGiTw`yphPOr(krs'gsv(kwx(]x~(k!RHPVw`ypOr(krs'gsv(kwx(]x#c(k#c#dHf#d~(k!RHmVw`ypOr(krs'gsv(kwx(]x#V(k#V#WIS#W~(k!RIZVw`ypOr(krs'gsv(kwx(]x#h(k#h#iIp#i~(k!RIwVw`ypOr(krs'gsv(kwx(]x#m(k#m#nJ^#n~(k!RJeVw`ypOr(krs'gsv(kwx(]x#d(k#d#eJz#e~(k!RKRVw`ypOr(krs'gsv(kwx(]x#X(k#X#YDo#Y~(k!RKoWw`ypOrKhrsLXsvKhvwLmwxM}x!aKh!a!b! e!b~KhqL^TypOvLXvxLmx!aLX!a!bM[!b~LXPLpRO!aLm!a!bLy!b~LmPL|RO!`Lm!`!aMV!a~LmPM[OfPqMaTypOvLXvxLmx!`LX!`!aMp!a~LXqMwQypfPOv'gx~'gaNSVw`OrM}rsLmsvM}vwLmw!aM}!a!bNi!b~M}aNnVw`OrM}rsLmsvM}vwLmw!`M}!`!a! T!a~M}a! [Rw`fPOr(]sv(]w~(]!R! lWw`ypOrKhrsLXsvKhvwLmwxM}x!`Kh!`!a!!U!a~Kh!R!!_Tw`ypfPOr(krs'gsv(kwx(]x~(k!V!!yV_SVPw`ypOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a!#keVPaWw`ypOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8s<%l~$k",tokenizers:[am,lm,cm,0,1,2,3,4,5],topRules:{Document:[0,6]},nested:[["elementContent",Om,"&k~RP!^!_U~XP!P!Q[~_dXY!mYZ!m]^!mpq!m![!]$O!c!}$O#R#S$O#T#o$O%W%o$O%p&a$O&b1p$O4U4d$O4e$IS$O$I`$Ib$O$Kh%#t$O&/x&Et$O&FV;'S$O;'S;:j&e?&r?Ah$O?BY?Mn$O~!pdXY!mYZ!m]^!mpq!m![!]$O!c!}$O#R#S$O#T#o$O%W%o$O%p&a$O&b1p$O4U4d$O4e$IS$O$I`$Ib$O$Kh%#t$O&/x&Et$O&FV;'S$O;'S;:j&e?&r?Ah$O?BY?Mn$O~$RkXY%vYZ%v]^%vpq%v}!O$O!O!P$O!Q![$O![!]$O!`!a&Y!c!}$O#R#S$O#T#o$O$}%O$O%W%o$O%p&a$O&b1p$O1p4U$O4U4d$O4e$IS$O$I`$Ib$O$Je$Jg$O$Kh%#t$O&/x&Et$O&FV;'S$O;'S;:j&_?&r?Ah$O?BY?Mn$O~%yTXY%vYZ%v]^%vpq%v!`!a&Y~&_Oq~~&bP;=`<%l$O~&hP;=`<%l$O",42]],dialects:{noMatch:0},tokenPrec:460}),mm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function ym(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}const vm=new Wg(((e,t)=>{let n=t.start,i=n,r=!1;for(;;){let o=e.get(i);if(!(ym(o)||45==o||95==o||r&&(s=o,s>=48&&s<=57))){r&&t.accept(40==o?93:94,i);break}!r&&(45!=o||i>n)&&(r=!0),i++}var s})),bm=new Wg(((e,t)=>{if(mm.includes(e.get(t.start-1))){let n=e.get(t.start);(ym(n)||95==n||35==n||46==n||91==n||58==n||45==n)&&t.accept(92,t.start)}})),Qm=new Wg(((e,t)=>{let n=t.start;if(!mm.includes(e.get(n-1))){let i=e.get(n);if(37==i&&t.accept(1,n+1),ym(i)){let i=n+1;for(;ym(e.get(i));)i++;t.accept(1,i)}}})),xm={__proto__:null,not:30,url:64,"url-prefix":64,domain:64,regexp:64,selector:132},wm={__proto__:null,"@import":112,"@media":136,"@charset":140,"@namespace":144,"@keyframes":150,"@supports":162},$m={__proto__:null,not:126,only:126,from:156,to:158},km=Vg.deserialize({version:13,states:"7WOYQ[OOOOQP'#Cc'#CcOOQP'#Cb'#CbO!ZQ[O'#CeO!}QXO'#C`O#UQ[O'#CgO#aQ[O'#DOO#fQ[O'#DSOOQP'#Eb'#EbO#kQdO'#DdO$SQ[O'#DqO#kQdO'#DsO$eQ[O'#DuO$pQ[O'#DxO$uQ[O'#EOO%TQ[O'#EQOOQS'#Ea'#EaOOQS'#ER'#ERQYQ[OOOOQP'#Cf'#CfOOQP,59P,59PO!ZQ[O,59PO%[Q[O'#ESO%vQWO,58zO&OQ[O,59RO#aQ[O,59jO#fQ[O,59nO%[Q[O,59rO%[Q[O,59tO%[Q[O,59uO'[Q[O'#D_OOQS,58z,58zOOQP'#Cj'#CjOOQO'#Cp'#CpOOQP,59R,59RO'cQWO,59RO'hQWO,59ROOQP'#DQ'#DQOOQP,59j,59jOOQO'#DU'#DUO'mQ`O,59nOOQS'#Cr'#CrO#kQdO'#CsO'uQvO'#CuO(|QtO,5:OOOQO'#Cz'#CzO'hQWO'#CyO)bQWO'#C{OOQS'#Ef'#EfOOQO'#Dg'#DgO)gQ[O'#DnO)uQWO'#EhO$uQ[O'#DlO*TQWO'#DoOOQO'#Ei'#EiO%yQWO,5:]O*YQpO,5:_OOQS'#Dw'#DwO*bQWO,5:aO*gQ[O,5:aOOQO'#Dz'#DzO*oQWO,5:dO*tQWO,5:jO*|QWO,5:lOOQS-E8P-E8POOQP1G.k1G.kO+pQXO,5:nOOQO-E8Q-E8QOOQS1G.f1G.fOOQP1G.m1G.mO'cQWO1G.mO'hQWO1G.mOOQP1G/U1G/UO+}Q`O1G/YO,hQXO1G/^O-OQXO1G/`O-fQXO1G/aO-|QXO'#CcO.qQWO'#D`OOQS,59y,59yO.vQWO,59yO/OQ[O,59yO/VQ[O'#CnO/^QdO'#CqOOQP1G/Y1G/YO#kQdO1G/YO/eQpO,59_OOQS,59a,59aO#kQdO,59cO/mQWO1G/jOOQS,59e,59eO/rQ!bO,59gO/zQWO'#DgO0VQWO,5:SO0[QWO,5:YO$uQ[O,5:UO$uQ[O'#EXO0dQWO,5;SO0oQWO,5:WO%[Q[O,5:ZOOQS1G/w1G/wOOQS1G/y1G/yOOQS1G/{1G/{O1QQWO1G/{O1VQdO'#D{OOQS1G0O1G0OOOQS1G0U1G0UOOQS1G0W1G0WOOQP7+$X7+$XOOQP7+$t7+$tO#kQdO7+$tO#kQdO,59zO1eQ[O'#EWO1oQWO1G/eOOQS1G/e1G/eO1oQWO1G/eO1wQXO'#EdO2OQWO,59YO2TQtO'#ETO2uQdO'#EeO3PQWO,59]O3UQpO7+$tOOQS1G.y1G.yOOQS1G.}1G.}OOQS7+%U7+%UO3^QWO1G/RO#kQdO1G/nOOQO1G/t1G/tOOQO1G/p1G/pO3cQWO,5:sOOQO-E8V-E8VO3qQXO1G/uOOQS7+%g7+%gO3xQYO'#CuO%yQWO'#EYO4QQdO,5:gOOQS,5:g,5:gO4`QpO<<H`O4hQtO1G/fOOQO,5:r,5:rO4{Q[O,5:rOOQO-E8U-E8UOOQS7+%P7+%PO5VQWO7+%PO5_QWO,5;OOOQP1G.t1G.tOOQS-E8R-E8RO#kQdO'#EUO5gQWO,5;POOQT1G.w1G.wOOQP<<H`<<H`OOQS7+$m7+$mO5oQdO7+%YOOQO7+%a7+%aOOQS,5:t,5:tOOQS-E8W-E8WOOQS1G0R1G0ROOQPAN=zAN=zO5vQtO'#EVO#kQdO'#EVO6nQdO7+%QOOQO7+%Q7+%QOOQO1G0^1G0^OOQS<<Hk<<HkO7OQdO,5:pOOQO-E8S-E8SOOQO<<Ht<<HtO7YQtO,5:qOOQS-E8T-E8TOOQO<<Hl<<Hl",stateData:"8W~O#SOSQOS~OTWOWWO[TO]TOsUOwVO!X_O!YXO!fYO!hZO!j[O!m]O!s^O#QPO#VRO~O#QcO~O[hO]hOcfOsiOwjO{kO!OmO#OlO#VeO~O!QnO~P!`O_sO#PqO#QpO~O#QuO~O#QwO~OazOh!QOj!QOp!PO#P}O#QyO#Z{O~Oa!SO!a!UO!d!VO#Q!RO!Q#[P~Oj![Op!PO#Q!ZO~O#Q!^O~Oa!SO!a!UO!d!VO#Q!RO~O!V#[P~P$SOTWOWWO[TO]TOsUOwVO#QPO#VRO~OcfO!QnO~O_!hO#PqO#QpO~OTWOWWO[TO]TOsUOwVO!X_O!YXO!fYO!hZO!j[O!m]O!s^O#Q!oO#VRO~O!P!qO~P&ZOa!tO~Oa!uO~Ou!vOy!wO~OP!yOaiXliX!ViX!aiX!diX#QiX`iXciXhiXjiXpiX#PiX#ZiXuiX!PiX!UiX~Oa!SOl!zO!a!UO!d!VO#Q!RO!V#[P~Oa!}O~Oa!SO!a!UO!d!VO#Q#OO~Oc#SO!_#RO!Q#[X!V#[X~Oa#VO~Ol!zO!V#XO~O!V#YO~Oj#ZOp!PO~O!Q#[O~O!QnO!_#RO~O!QnO!V#_O~O[hO]hOsiOwjO{kO!OmO#OlO#VeO~Oc!va!Q!va`!va~P+UOu#aOy#bO~O[hO]hOsiOwjO#VeO~Oczi{zi!Ozi!Qzi#Ozi`zi~P,VOc|i{|i!O|i!Q|i#O|i`|i~P,VOc}i{}i!O}i!Q}i#O}i`}i~P,VO[VX[!TX]VXcVXsVXwVX{VX!OVX!QVX#OVX#VVX~O[#cO~O!P#fO!V#dO~O!P#fO~P&ZO`#WP~P%[O`#XP~P#kO`#nOl!zO~O!V#pO~Oj#qOq#qO~O[!]X`!ZX!_!ZX~O[#rO~O`#sO!_#RO~Oc#SO!Q#[a!V#[a~O!_#ROc!`a!Q!`a!V!`a`!`a~O!V#xO~O!P#|O!p#zO!q#zO#Z#yO~O!P!zX!V!zX~P&ZO!P$SO!V#dO~O`#WX~P!`O`$VO~Ol!zO`!wXa!wXc!wXh!wXj!wXp!wX#P!wX#Q!wX#Z!wX~Oc$XO`#XX~P#kO`$ZO~Ol!zOu$[O~O`$]O~O!_#ROc!{a!Q!{a!V!{a~O`$_O~P+UOP!yO!QiX~O!P$bO!p#zO!q#zO#Z#yO~Ol!zOu$cO~Oc$eOl!zO!U$gO!P!Si!V!Si~P#kO!P!za!V!za~P&ZO!P$iO!V#dO~OcfO`#Wa~Oc$XO`#Xa~O`$lO~P#kOl!zOa!yXc!yXh!yXj!yXp!yX!P!yX!U!yX!V!yX#P!yX#Q!yX#Z!yX~Oc$eO!U$oO!P!Sq!V!Sq~P#kO`!xac!xa~P#kOl!zOa!yac!yah!yaj!yap!ya!P!ya!U!ya!V!ya#P!ya#Q!ya#Z!ya~Oq#Zl!Ol~",goto:"+}#^PPPP#_P#g#uP#g$T#gPP$ZPPP$aP$g$m$v$vP%YP$vP$v%p&SPP#gP&lP#gP&rP#gP#g#gPPP&x'['hPP#_PP'n'n'x'nP'nP'n'nP#_P#_P#_P'{#_P(O(RPP#_P#_(U(d(n(|)S)Y)d)jPPPPPP)p)xP*d*g*jP+`+i]`Obn!s#d$QiWObfklmn!s!t#V#d$QiQObfklmn!s!t#V#d$QQdRR!ceQrTR!ghQ!gsR#`!hQtTR!ihQ!gtQ!|!OR#`!iq!QXZz!u!w!z#b#c#k#r$O$X$^$e$f$jp!QXZz!u!w!z#b#c#k#r$O$X$^$e$f$jT#z#[#{q!OXZz!u!w!z#b#c#k#r$O$X$^$e$f$jp!QXZz!u!w!z#b#c#k#r$O$X$^$e$f$jQ![[R#Z!]QvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQgSS!eg$UR$U#hQ#k!uU$W#k$^$jQ$^#rR$j$XQ$Y#kR$k$YQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#h!tR#w#VR#i!tR#l!uQ|XQ!YZQ!xz[#j!u#k#r$X$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"⚠ Unit Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName not ) ( ArgList , PseudoClassName ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery callee MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:105,nodeProps:[[Fc.openedBy,16,"(",47,"{"],[Fc.closedBy,17,")",48,"}"]],skippedNodes:[0,2],repeatNodeCount:8,tokenData:"Bj~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8u}!O9Q!O!P9i!P!Q9z!Q![<U![!]<y!]!^=i!^!_$w!_!`=t!`!a>P!a!b$w!b!c>o!c!}$w!}#O?{#O#P$w#P#Q@W#Q#R2U#R#T$w#T#U@c#U#c$w#c#dAb#d#o$w#o#pAq#p#q2U#q#rA|#r#sBX#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQqWOy%Qz~%Q~%bf#S~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#S~qWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSqWOy%Qz#a%Q#a#b)T#b~%Q^)YSqWOy%Qz#d%Q#d#e)f#e~%Q^)kSqWOy%Qz#c%Q#c#d)w#d~%Q^)|SqWOy%Qz#f%Q#f#g*Y#g~%Q^*_SqWOy%Qz#h%Q#h#i*k#i~%Q^*pSqWOy%Qz#T%Q#T#U*|#U~%Q^+RSqWOy%Qz#b%Q#b#c+_#c~%Q^+dSqWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!UUqWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOj~~,lPO~+}_,tWsPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWqWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWqWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWhUqWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWhUqWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWqWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWhUqWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WqWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQhUqWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQyQqWOy%Qz~%QX2wQWPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQaVOy%Qz~%Q~3zO`~_4RSTPlSOy%Qz!_%Q!_!`2e!`~%Q_4fUlS!OPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SqWOy%Qz!Q%Q!Q![5Z![~%Q^5bWqW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWqWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSqWOy%Qz!Q%Q!Q![6z![~%Q^7RSqW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYqW#ZUOy%Qz!O%Q!O!P8U!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^8]WqW#ZUOy%Qz!Q%Q!Q![8U![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8zQcVOy%Qz~%Q^9VUlSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_9nS#VPOy%Qz!Q%Q!Q![5Z![~%Q~:PRlSOy%Qz{:Y{~%Q~:_SqWOy:Yyz:kz{;`{~:Y~:nROz:kz{:w{~:k~:zTOz:kz{:w{!P:k!P!Q;Z!Q~:k~;`OQ~~;eUqWOy:Yyz:kz{;`{!P:Y!P!Q;w!Q~:Y~<OQQ~qWOy%Qz~%Q^<ZY#ZUOy%Qz!O%Q!O!P8U!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX=OS[POy%Qz![%Q![!]=[!]~%QX=cQ]PqWOy%Qz~%Q_=nQ!VVOy%Qz~%QY=yQyQOy%Qz~%QX>US{POy%Qz!`%Q!`!a>b!a~%QX>iQ{PqWOy%Qz~%QX>rUOy%Qz!c%Q!c!}?U!}#T%Q#T#o?U#o~%QX?]Y!XPqWOy%Qz}%Q}!O?U!O!Q%Q!Q![?U![!c%Q!c!}?U!}#T%Q#T#o?U#o~%QX@QQwPOy%Qz~%Q^@]QuUOy%Qz~%QX@fSOy%Qz#b%Q#b#c@r#c~%QX@wSqWOy%Qz#W%Q#W#XAT#X~%QXA[Q!_PqWOy%Qz~%QXAeSOy%Qz#f%Q#f#gAT#g~%QXAvQ!QPOy%Qz~%Q_BRQ!PVOy%Qz~%QZB^S!OPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[bm,Qm,vm,0,1,2,3],topRules:{StyleSheet:[0,3]},specialized:[{term:93,get:e=>xm[e]||-1},{term:55,get:e=>wm[e]||-1},{term:94,get:e=>$m[e]||-1}],tokenPrec:1060});let Sm=null;function Dm(){if(!Sm&&"object"==typeof document&&document.body){let e=[];for(let t in document.body.style)/[A-Z]|^-|^(item|length)$/.test(t)||e.push(t);Sm=e.sort().map((e=>({type:"property",label:e})))}return Sm||[]}const Pm=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map((e=>({type:"class",label:e}))),Am=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),Cm=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),Tm=/^[\w-]*/,Wm=au.define({parser:km.configure({props:[ku.add({Declaration:Tu()}),Wu.add({Block:e=>({from:e.from+1,to:e.to-1})}),mp({"import charset namespace keyframes":qp.definitionKeyword,"media supports":qp.controlKeyword,"from to":qp.keyword,NamespaceName:qp.namespace,KeyframeName:qp.labelName,TagName:qp.typeName,ClassName:qp.className,PseudoClassName:qp.constant(qp.className),not:qp.operatorKeyword,IdName:qp.labelName,"FeatureName PropertyName AttributeName":qp.propertyName,NumberLiteral:qp.number,KeywordQuery:qp.keyword,UnaryQueryOp:qp.operatorKeyword,callee:qp.keyword,"CallTag ValueName":qp.atom,Callee:qp.variableName,Unit:qp.unit,"UniversalSelector NestingSelector":qp.definitionOperator,AtKeyword:qp.keyword,MatchOp:qp.compareOperator,"ChildOp SiblingOp, LogicOp":qp.logicOperator,BinOp:qp.arithmeticOperator,Important:qp.modifier,Comment:qp.blockComment,ParenthesizedContent:qp.special(qp.name),ColorLiteral:qp.color,StringLiteral:qp.string,":":qp.punctuation,"PseudoOp #":qp.derefOperator,"; ,":qp.separator,"( )":qp.paren,"[ ]":qp.squareBracket,"{ }":qp.brace})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/}});Wm.data.of({autocomplete:e=>{let t=e.state,n=e.pos,i=lu(t).resolve(n,-1);if("PropertyName"==i.name)return{from:i.from,options:Dm(),span:Tm};if("ValueName"==i.name)return{from:i.from,options:Am,span:Tm};if("PseudoClassName"==i.name)return{from:i.from,options:Pm,span:Tm};if("TagName"==i.name){for(let e=i.parent;e;e=e.parent)if("Block"==e.name)return{from:i.from,options:Dm(),span:Tm};return{from:i.from,options:Cm,span:Tm}}if(!e.explicit)return null;let r=i.resolve(n),s=r.childBefore(n);return s&&":"==s.name&&"PseudoClassSelector"==r.name?{from:n,options:Pm,span:Tm}:s&&":"==s.name&&"Declaration"==r.name||"ArgList"==r.name?{from:n,options:Am,span:Tm}:"Block"==r.name?{from:n,options:Dm(),span:Tm}:null}});const Rm=270,_m=[10,13,8232,8233],Em=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288];function Xm(e,t){for(let n=t-1;n>=0;n--){let t=e.get(n);if(_m.indexOf(t)>-1)return!0;if(Em.indexOf(t)<0)break}return!1}const Fm=new Wg(((e,t,n)=>{let i=t.start,r=e.get(i);(125==r||-1==r||Xm(e,i))&&n.canShift(273)&&t.accept(273,t.start)}),{contextual:!0,fallback:!0}),zm=new Wg(((e,t,n)=>{let i=t.start,r=e.get(i++);if(!(Em.indexOf(r)>-1||_m.indexOf(r)>-1)){if(47==r){let t=e.get(i++);if(47==t||42==t)return}125!=r&&59!=r&&-1!=r&&!Xm(e,t.start)&&n.canShift(269)&&t.accept(269,t.start)}}),{contextual:!0}),Ym=new Wg(((e,t,n)=>{let i=t.start,r=e.get(i);if((43==r||45==r)&&r==e.get(i+1)){let r=!Xm(e,t.start)&&n.canShift(1);t.accept(r?1:2,i+2)}}),{contextual:!0}),Lm=new Wg(((e,t)=>{let n=t.start,i=!1;for(;;){let r=e.get(n++);if(r<0){n-1>t.start&&t.accept(Rm,n-1);break}if(96==r){n==t.start+1?t.accept(272,n):t.accept(Rm,n-1);break}if(123==r&&i){n==t.start+2?t.accept(271,n):t.accept(Rm,n-2);break}if(10==r&&n>t.start+1){t.accept(Rm,n);break}92==r&&n!=e.length&&n++,i=36==r}}));const Zm={__proto__:null,export:16,as:21,from:25,default:30,async:35,function:36,this:46,true:54,false:54,void:58,typeof:62,null:76,super:78,new:112,await:129,yield:131,delete:132,class:142,extends:144,public:181,private:181,protected:181,readonly:183,in:202,instanceof:204,import:236,keyof:287,unique:291,infer:297,is:331,abstract:351,implements:353,type:355,let:358,var:360,const:362,interface:369,enum:373,namespace:379,module:381,declare:385,global:389,for:410,of:419,while:422,with:426,do:430,if:434,else:436,switch:440,case:446,try:452,catch:454,finally:456,return:460,throw:464,break:468,continue:472,debugger:476},qm={__proto__:null,async:99,get:101,set:103,public:151,private:151,protected:151,static:153,abstract:155,readonly:159,new:335},Bm={__proto__:null,"<":119},Mm=Vg.deserialize({version:13,states:"$8xO]QYOOO&zQ!LdO'#CgO'ROSO'#DRO)ZQYO'#DWO)kQYO'#DcO)rQYO'#DmO-iQYO'#DsOOQO'#ET'#ETO-|QWO'#ESO.RQWO'#ESO.ZQ!LdO'#IgO2dQ!LdO'#IhO3QQWO'#EpO3VQpO'#FVOOQ!LS'#Ex'#ExO3_O!bO'#ExO3mQWO'#F^O4wQWO'#F]OOQ!LS'#Ih'#IhOOQ!LS'#Ig'#IgOOQQ'#JR'#JRO4|QWO'#HeO5RQ!LYO'#HfOOQQ'#I['#I[OOQQ'#Hg'#HgQ]QYOOO)rQYO'#DeO5ZQWO'#GQO5`Q#tO'#ClO5nQWO'#ERO5yQ#tO'#EwO6eQWO'#GQO6jQWO'#GUO6uQWO'#GUO7TQWO'#GYO7TQWO'#GZO7TQWO'#G]O5ZQWO'#G`O7tQWO'#GcO9SQWO'#CcO9dQWO'#GpO9lQWO'#GvO9lQWO'#GxO]QYO'#GzO9lQWO'#G|O9lQWO'#HPO9qQWO'#HVO9vQ!LZO'#HZO)rQYO'#H]O:RQ!LZO'#H_O:^Q!LZO'#HaO5RQ!LYO'#HcO)rQYO'#IjOOOS'#Hh'#HhO:iOSO,59mOOQ!LS,59m,59mO<zQbO'#CgO=UQYO'#HiO=cQWO'#IlO?bQbO'#IlO'^QYO'#IlO?iQWO,59rO@PQ&jO'#D]O@xQWO'#ETOAVQWO'#IvOAbQWO'#IuOAjQWO,5:qOAoQWO'#ItOAvQWO'#DtO5`Q#tO'#EROBUQWO'#EROBaQ`O'#EwOOQ!LS,59},59}OBiQYO,59}ODgQ!LdO,5:XOETQWO,5:_OEnQ!LYO'#IsO6jQWO'#IrOEuQWO'#IrOE}QWO,5:pOFSQWO'#IrOFbQYO,5:nOH_QWO'#EPOIfQWO,5:nOJrQWO'#DgOJyQYO'#DlOKTQ&jO,5:wO)rQYO,5:wOOQQ'#Eh'#EhOOQQ'#Ej'#EjO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xOOQQ'#En'#EnOKYQYO,5;XOOQ!LS,5;^,5;^OOQ!LS,5;_,5;_OMVQWO,5;_OOQ!LS,5;`,5;`O)rQYO'#HsOM[Q!LYO,5;yOH_QWO,5:xO)rQYO,5;[ONXQpO'#IzOMvQpO'#IzON`QpO'#IzONqQpO,5;gOOQO,5;q,5;qO!!|QYO'#FXOOOO'#Hr'#HrO3_O!bO,5;dO!#TQpO'#FZOOQ!LS,5;d,5;dO!#qQ,UO'#CqOOQ!LS'#Ct'#CtO!$UQWO'#CtO!$lQ#tO,5;vO!$sQWO,5;xO!%|QWO'#FhO!&ZQWO'#FiO!&`QWO'#FmO!'bQ&jO'#FqO!(TQ,UO'#IeOOQ!LS'#Ie'#IeO!(_QWO'#IdO!(mQWO'#IcOOQ!LS'#Cr'#CrOOQ!LS'#Cx'#CxO!(uQWO'#CzOIkQWO'#F`OIkQWO'#FbO!(zQWO'#FdOIaQWO'#FeO!)PQWO'#FkOIkQWO'#FpO!)UQWO'#EUO!)mQWO,5;wO]QYO,5>POOQQ'#I_'#I_OOQQ,5>Q,5>QOOQQ-E;e-E;eO!+iQ!LdO,5:POOQ!LQ'#Co'#CoO!,YQ#tO,5<lOOQO'#Ce'#CeO!,kQWO'#CpO!,sQ!LYO'#I`O4wQWO'#I`O9qQWO,59WO!-RQpO,59WO!-ZQ#tO,59WO5`Q#tO,59WO!-fQWO,5:nO!-nQWO'#GoO!-vQWO'#JVO!.OQYO,5;aOKTQ&jO,5;cO!/{QWO,5=YO!0QQWO,5=YO!0VQWO,5=YO5RQ!LYO,5=YO5ZQWO,5<lO!0eQWO'#EVO!0vQ&jO'#EWOOQ!LQ'#It'#ItO!1XQ!LYO'#JSO5RQ!LYO,5<pO7TQWO,5<wOOQO'#Cq'#CqO!1dQpO,5<tO!1lQ#tO,5<uO!1wQWO,5<wO!1|Q`O,5<zO9qQWO'#GeO5ZQWO'#GgO!2UQWO'#GgO5`Q#tO'#GjO!2ZQWO'#GjOOQQ,5<},5<}O!2`QWO'#GkO!2hQWO'#ClO!2mQWO,58}O!2wQWO,58}O!4vQYO,58}OOQQ,58},58}O!5TQ!LYO,58}O)rQYO,58}O!5`QYO'#GrOOQQ'#Gs'#GsOOQQ'#Gt'#GtO]QYO,5=[O!5pQWO,5=[O)rQYO'#DsO]QYO,5=bO]QYO,5=dO!5uQWO,5=fO]QYO,5=hO!5zQWO,5=kO!6PQYO,5=qOOQQ,5=u,5=uO)rQYO,5=uO5RQ!LYO,5=wOOQQ,5=y,5=yO!9}QWO,5=yOOQQ,5={,5={O!9}QWO,5={OOQQ,5=},5=}O!:SQ`O,5?UOOOS-E;f-E;fOOQ!LS1G/X1G/XO!:XQbO,5>TO)rQYO,5>TOOQO-E;g-E;gO!:cQWO,5?WO!:kQbO,5?WO!:rQWO,5?aOOQ!LS1G/^1G/^O!:zQpO'#DPOOQO'#In'#InO)rQYO'#InO!;iQpO'#InO!<WQpO'#D^O!<iQ&jO'#D^O!>qQYO'#D^O!>xQWO'#ImO!?QQWO,59wO!?VQWO'#EXO!?eQWO'#IwO!?mQWO,5:rO!@TQ&jO'#D^O)rQYO,5?bO!@_QWO'#HnO!:rQWO,5?aOOQ!LQ1G0]1G0]O!AeQ&jO'#DwOOQ!LS,5:`,5:`O)rQYO,5:`OH_QWO,5:`O!AlQWO,5:`O9qQWO,5:mO!-RQpO,5:mO!-ZQ#tO,5:mO5`Q#tO,5:mOOQ!LS1G/i1G/iOOQ!LS1G/y1G/yOOQ!LQ'#EO'#EOO)rQYO,5?_O!AwQ!LYO,5?_O!BYQ!LYO,5?_O!BaQWO,5?^O!BiQWO'#HpO!BaQWO,5?^OOQ!LQ1G0[1G0[O6jQWO,5?^OOQ!LS1G0Y1G0YO!CTQ!LbO,5:kOOQ!LS'#Fg'#FgO!CqQ!LdO'#IeOFbQYO1G0YO!EpQ#tO'#IoO!EzQWO,5:RO!FPQbO'#IpO)rQYO'#IpO!FZQWO,5:WOOQ!LS'#DP'#DPOOQ!LS1G0c1G0cO!F`QWO1G0cO!HqQ!LdO1G0dO!HxQ!LdO1G0dO!K]Q!LdO1G0dO!KdQ!LdO1G0dO!MkQ!LdO1G0dO!NOQ!LdO1G0dO#!oQ!LdO1G0dO#!vQ!LdO1G0dO#%ZQ!LdO1G0dO#%bQ!LdO1G0dO#'VQ!LdO1G0dO#*PQ7^O'#CgO#+zQ7^O1G0sO#-xQ7^O'#IhOOQ!LS1G0y1G0yO#.SQ!LdO,5>_OOQ!LS-E;q-E;qO#.sQ!LdO1G0dO#0uQ!LdO1G0vO#1fQpO,5;iO#1kQpO,5;jO#1pQpO'#FQO#2UQWO'#FPOOQO'#I{'#I{OOQO'#Hq'#HqO#2ZQpO1G1ROOQ!LS1G1R1G1ROOQO1G1[1G1[O#2iQ7^O'#IgO#4cQWO,5;sO! PQYO,5;sOOOO-E;p-E;pOOQ!LS1G1O1G1OOOQ!LS,5;u,5;uO#4hQpO,5;uOOQ!LS,59`,59`O)rQYO1G1bOKTQ&jO'#HuO#4mQWO,5<ZOOQ!LS,5<W,5<WOOQO'#F{'#F{OIkQWO,5<fOOQO'#F}'#F}OIkQWO,5<hOIkQWO,5<jOOQO1G1d1G1dO#4xQ`O'#CoO#5]Q`O,5<SO#5dQWO'#JOO5ZQWO'#JOO#5rQWO,5<UOIkQWO,5<TO#5wQ`O'#FgO#6UQ`O'#JPO#6`QWO'#JPOH_QWO'#JPO#6eQWO,5<XOOQ!LQ'#Db'#DbO#6jQWO'#FjO#6uQpO'#FrO!']Q&jO'#FrO!']Q&jO'#FtO#7WQWO'#FuO!)PQWO'#FxOOQO'#Hw'#HwO#7]Q&jO,5<]OOQ!LS,5<],5<]O#7dQ&jO'#FrO#7rQ&jO'#FsO#7zQ&jO'#FsOOQ!LS,5<k,5<kOIkQWO,5?OOIkQWO,5?OO#8PQWO'#HxO#8[QWO,5>}OOQ!LS'#Cg'#CgO#9OQ#tO,59fOOQ!LS,59f,59fO#9qQ#tO,5;zO#:dQ#tO,5;|O#:nQWO,5<OOOQ!LS,5<P,5<PO#:sQWO,5<VO#:xQ#tO,5<[OFbQYO1G1cO#;YQWO1G1cOOQQ1G3k1G3kOOQ!LS1G/k1G/kOMVQWO1G/kOOQQ1G2W1G2WOH_QWO1G2WO)rQYO1G2WOH_QWO1G2WO#;_QWO1G2WO#;mQWO,59[O#<sQWO'#EPOOQ!LQ,5>z,5>zO#<}Q!LYO,5>zOOQQ1G.r1G.rO9qQWO1G.rO!-RQpO1G.rO!-ZQ#tO1G.rO#=]QWO1G0YO#=bQWO'#CgO#=mQWO'#JWO#=uQWO,5=ZO#=zQWO'#JWO#>PQWO'#IQO#>_QWO,5?qO#@ZQbO1G0{OOQ!LS1G0}1G0}O5ZQWO1G2tO#@bQWO1G2tO#@gQWO1G2tO#@lQWO1G2tOOQQ1G2t1G2tO#@qQ#tO1G2WO6jQWO'#IuO6jQWO'#EXO6jQWO'#HzO#ASQ!LYO,5?nOOQQ1G2[1G2[O!1wQWO1G2cOH_QWO1G2`O#A_QWO1G2`OOQQ1G2a1G2aOH_QWO1G2aO#AdQWO1G2aO#AlQ&jO'#G_OOQQ1G2c1G2cO!']Q&jO'#H|O!1|Q`O1G2fOOQQ1G2f1G2fOOQQ,5=P,5=PO#AtQ#tO,5=RO5ZQWO,5=RO#7WQWO,5=UO4wQWO,5=UO!-RQpO,5=UO!-ZQ#tO,5=UO5`Q#tO,5=UO#BVQWO'#JUO#BbQWO,5=VOOQQ1G.i1G.iO#BgQ!LYO1G.iO#BrQWO1G.iO!(uQWO1G.iO5RQ!LYO1G.iO#BwQbO,5?sO#CRQWO,5?sO#C^QYO,5=^O#CeQWO,5=^O6jQWO,5?sOOQQ1G2v1G2vO]QYO1G2vOOQQ1G2|1G2|OOQQ1G3O1G3OO9lQWO1G3QO#CjQYO1G3SO#GbQYO'#HROOQQ1G3V1G3VO9qQWO1G3]O#GoQWO1G3]O5RQ!LYO1G3aOOQQ1G3c1G3cOOQ!LQ'#Fn'#FnO5RQ!LYO1G3eO5RQ!LYO1G3gOOOS1G4p1G4pO#IkQ!LdO,5;yO#JOQbO1G3oO#JYQWO1G4rO#JbQWO1G4{O#JjQWO,5?YO! PQYO,5:sO6jQWO,5:sO9qQWO,59xO! PQYO,59xO!-RQpO,59xO#LcQ7^O,59xOOQO,5:s,5:sO#LmQ&jO'#HjO#MTQWO,5?XOOQ!LS1G/c1G/cO#M]Q&jO'#HoO#MqQWO,5?cOOQ!LQ1G0^1G0^O!<iQ&jO,59xO#MyQbO1G4|OOQO,5>Y,5>YO6jQWO,5>YOOQO-E;l-E;lO#NTQ!LrO'#D|O!']Q&jO'#DxOOQO'#Hm'#HmO#NoQ&jO,5:cOOQ!LS,5:c,5:cO#NvQ&jO'#DxO$ UQ&jO'#D|O$ jQ&jO'#D|O!']Q&jO'#D|O$ tQWO1G/zO$ yQ`O1G/zOOQ!LS1G/z1G/zO)rQYO1G/zOH_QWO1G/zOOQ!LS1G0X1G0XO9qQWO1G0XO!-RQpO1G0XO!-ZQ#tO1G0XO$!QQ!LdO1G4yO)rQYO1G4yO$!bQ!LYO1G4yO$!sQWO1G4xO6jQWO,5>[OOQO,5>[,5>[O$!{QWO,5>[OOQO-E;n-E;nO$!sQWO1G4xOOQ!LS,5;y,5;yO$#ZQ!LdO,59fO$%YQ!LdO,5;zO$'[Q!LdO,5;|O$)^Q!LdO,5<[OOQ!LS7+%t7+%tO$+fQWO'#HkO$+pQWO,5?ZOOQ!LS1G/m1G/mO$+xQYO'#HlO$,VQWO,5?[O$,_QbO,5?[OOQ!LS1G/r1G/rOOQ!LS7+%}7+%}O$,iQ7^O,5:XO)rQYO7+&_O$,sQ7^O,5:POOQO1G1T1G1TOOQO1G1U1G1UO$,zQMhO,5;lO! PQYO,5;kOOQO-E;o-E;oOOQ!LS7+&m7+&mOOQO7+&v7+&vOOOO1G1_1G1_O$-VQWO1G1_OOQ!LS1G1a1G1aO$-[Q!LdO7+&|OOQ!LS,5>a,5>aO$-{QWO,5>aOOQ!LS1G1u1G1uP$.QQWO'#HuPOQ!LS-E;s-E;sO$.qQ#tO1G2QO$/dQ#tO1G2SO$/nQ#tO1G2UOOQ!LS1G1n1G1nO$/uQWO'#HtO$0TQWO,5?jO$0TQWO,5?jO$0]QWO,5?jO$0hQWO,5?jOOQO1G1p1G1pO$0vQ#tO1G1oO$1WQWO'#HvO$1hQWO,5?kOH_QWO,5?kO$1pQ`O,5?kOOQ!LS1G1s1G1sO5RQ!LYO,5<^O5RQ!LYO,5<_O$1zQWO,5<_O#7RQWO,5<_O!-RQpO,5<^O$2PQWO,5<`O5RQ!LYO,5<aO$1zQWO,5<dOOQO-E;u-E;uOOQ!LS1G1w1G1wO!']Q&jO,5<^O$2XQWO,5<_O!']Q&jO,5<`O!']Q&jO,5<_O$2dQ#tO1G4jO$2nQ#tO1G4jOOQO,5>d,5>dOOQO-E;v-E;vOKTQ&jO,59hO)rQYO,59hO$2{QWO1G1jOIkQWO1G1qOOQ!LS7+&}7+&}OFbQYO7+&}OOQ!LS7+%V7+%VO$3QQ`O'#JQO$ tQWO7+'rO$3[QWO7+'rO$3dQ`O7+'rOOQQ7+'r7+'rOH_QWO7+'rO)rQYO7+'rOH_QWO7+'rOOQO1G.v1G.vO$3nQ!LbO'#CgO$4OQ!LbO,5<bO$4mQWO,5<bOOQ!LQ1G4f1G4fOOQQ7+$^7+$^O9qQWO7+$^O!-RQpO7+$^OFbQYO7+%tO$4rQWO'#IPO$4}QWO,5?rOOQO1G2u1G2uO5ZQWO,5?rOOQO,5>l,5>lOOQO-E<O-E<OOOQ!LS7+&g7+&gO$5VQWO7+(`O5RQ!LYO7+(`O5ZQWO7+(`O$5[QWO7+(`O$5aQWO7+'rOOQ!LQ,5>f,5>fOOQ!LQ-E;x-E;xOOQQ7+'}7+'}O$5oQ!LbO7+'zOH_QWO7+'zO$5yQ`O7+'{OOQQ7+'{7+'{OH_QWO7+'{O$6QQWO'#JTO$6]QWO,5<yOOQO,5>h,5>hOOQO-E;z-E;zOOQQ7+(Q7+(QO$7SQ&jO'#GhOOQQ1G2m1G2mOH_QWO1G2mO)rQYO1G2mOH_QWO1G2mO$7ZQWO1G2mO$7iQ#tO1G2mO5RQ!LYO1G2pO#7WQWO1G2pO4wQWO1G2pO!-RQpO1G2pO!-ZQ#tO1G2pO$7zQWO'#IOO$8VQWO,5?pO$8_Q&jO,5?pOOQ!LQ1G2q1G2qOOQQ7+$T7+$TO$8dQWO7+$TO5RQ!LYO7+$TO$8iQWO7+$TO)rQYO1G5_O)rQYO1G5`O$8nQYO1G2xO$8uQWO1G2xO$8zQYO1G2xO$9RQ!LYO1G5_OOQQ7+(b7+(bO5RQ!LYO7+(lO]QYO7+(nOOQQ'#JZ'#JZOOQQ'#IR'#IRO$9]QYO,5=mOOQQ,5=m,5=mO)rQYO'#HSO$9jQWO'#HUOOQQ7+(w7+(wO$9oQYO7+(wO6jQWO7+(wOOQQ7+({7+({OOQQ7+)P7+)POOQQ7+)R7+)ROOQO1G4t1G4tO$=jQ7^O1G0_O$=tQWO1G0_OOQO1G/d1G/dO$>PQ7^O1G/dO9qQWO1G/dO! PQYO'#D^OOQO,5>U,5>UOOQO-E;h-E;hOOQO,5>Z,5>ZOOQO-E;m-E;mO!-RQpO1G/dOOQO1G3t1G3tO9qQWO,5:dOOQO,5:h,5:hO!.OQYO,5:hO$>ZQ!LYO,5:hO$>fQ!LYO,5:hO!-RQpO,5:dOOQO-E;k-E;kOOQ!LS1G/}1G/}O!']Q&jO,5:dO$>tQ!LrO,5:hO$?`Q&jO,5:dO!']Q&jO,5:hO$?nQ&jO,5:hO$@SQ!LYO,5:hOOQ!LS7+%f7+%fO$ tQWO7+%fO$ yQ`O7+%fOOQ!LS7+%s7+%sO9qQWO7+%sO!-RQpO7+%sO$@hQ!LdO7+*eO)rQYO7+*eOOQO1G3v1G3vO6jQWO1G3vO$@xQWO7+*dO$AQQ!LdO1G2QO$CSQ!LdO1G2SO$EUQ!LdO1G1oO$G^Q#tO,5>VOOQO-E;i-E;iO$GhQbO,5>WO)rQYO,5>WOOQO-E;j-E;jO$GrQWO1G4vO$ItQ7^O1G0dO$KoQ7^O1G0dO$MjQ7^O1G0dO$MqQ7^O1G0dO% `Q7^O1G0dO% sQ7^O1G0dO%#zQ7^O1G0dO%$RQ7^O1G0dO%%|Q7^O1G0dO%&TQ7^O1G0dO%'xQ7^O1G0dO%(VQ!LdO<<IyO%(vQ7^O1G0dO%*fQ7^O'#IeO%,cQ7^O1G0vO! PQYO'#FSOOQO'#I|'#I|OOQO1G1W1G1WO%,jQWO1G1VO%,oQ7^O,5>_OOOO7+&y7+&yOOQ!LS1G3{1G3{OIkQWO7+'pO%,|QWO,5>`O5ZQWO,5>`OOQO-E;r-E;rO%-[QWO1G5UO%-[QWO1G5UO%-dQWO1G5UO%-oQ`O,5>bO%-yQWO,5>bOH_QWO,5>bOOQO-E;t-E;tO%.OQ`O1G5VO%.YQWO1G5VOOQO1G1x1G1xOOQO1G1y1G1yO5RQ!LYO1G1yO$1zQWO1G1yO5RQ!LYO1G1xO%.bQWO1G1zOH_QWO1G1zOOQO1G1{1G1{O5RQ!LYO1G2OO!-RQpO1G1xO#7RQWO1G1yO%.gQWO1G1zO%.oQWO1G1yOIkQWO7+*UOOQ!LS1G/S1G/SO%.zQWO1G/SOOQ!LS7+'U7+'UO%/PQ#tO7+']OOQ!LS<<Ji<<JiOH_QWO'#HyO%/aQWO,5?lOOQQ<<K^<<K^OH_QWO<<K^O$ tQWO<<K^O%/iQWO<<K^O%/qQ`O<<K^OH_QWO1G1|OOQQ<<Gx<<GxO9qQWO<<GxOOQ!LS<<I`<<I`OOQO,5>k,5>kO%/{QWO,5>kOOQO-E;}-E;}O%0QQWO1G5^O%0YQWO<<KzOOQQ<<Kz<<KzO%0_QWO<<KzO5RQ!LYO<<KzO)rQYO<<K^OH_QWO<<K^OOQQ<<Kf<<KfO$5oQ!LbO<<KfOOQQ<<Kg<<KgO$5yQ`O<<KgO%0dQ&jO'#H{O%0oQWO,5?oO! PQYO,5?oOOQQ1G2e1G2eO#NTQ!LrO'#D|O!']Q&jO'#GiOOQO'#H}'#H}O%0wQ&jO,5=SOOQQ,5=S,5=SO#7rQ&jO'#D|O%1OQ&jO'#D|O%1dQ&jO'#D|O%1nQ&jO'#GiO%1|QWO7+(XO%2RQWO7+(XO%2ZQ`O7+(XOOQQ7+(X7+(XOH_QWO7+(XO)rQYO7+(XOH_QWO7+(XO%2eQWO7+(XOOQQ7+([7+([O5RQ!LYO7+([O#7WQWO7+([O4wQWO7+([O!-RQpO7+([O%2sQWO,5>jOOQO-E;|-E;|OOQO'#Gl'#GlO%3OQWO1G5[O5RQ!LYO<<GoOOQQ<<Go<<GoO%3WQWO<<GoO%3]QWO7+*yO%3bQWO7+*zOOQQ7+(d7+(dO%3gQWO7+(dO%3lQYO7+(dO%3sQWO7+(dO)rQYO7+*yO)rQYO7+*zOOQQ<<LW<<LWOOQQ<<LY<<LYOOQQ-E<P-E<POOQQ1G3X1G3XO%3xQWO,5=nOOQQ,5=p,5=pO9qQWO<<LcO%3}QWO<<LcO! PQYO7+%yOOQO7+%O7+%OO%4SQ7^O1G4|O9qQWO7+%OOOQO1G0O1G0OO%4^Q!LdO1G0SOOQO1G0S1G0SO!.OQYO1G0SO%4hQ!LYO1G0SO9qQWO1G0OO!-RQpO1G0OO%4sQ!LYO1G0SO!']Q&jO1G0OO%5RQ!LYO1G0SO%5gQ!LrO1G0SO%5qQ&jO1G0OO!']Q&jO1G0SOOQ!LS<<IQ<<IQOOQ!LS<<I_<<I_O9qQWO<<I_O%6PQ!LdO<<NPOOQO7+)b7+)bO%6aQ!LdO7+']O%8iQbO1G3rO%8sQ7^O,5;yO%8}Q7^O,59fO%:zQ7^O,5;zO%<wQ7^O,5;|O%>tQ7^O,5<[O%@dQ7^O7+&|O%@kQWO,5;nOOQO7+&q7+&qO%@pQ#tO<<K[OOQO1G3z1G3zO%AQQWO1G3zO%A]QWO1G3zO%AkQWO7+*pO%AkQWO7+*pOH_QWO1G3|O%AsQ`O1G3|O%A}QWO7+*qOOQO7+'e7+'eO5RQ!LYO7+'eOOQO7+'d7+'dO$1zQWO7+'fO%BVQ`O7+'fOOQO7+'j7+'jO5RQ!LYO7+'dO$1zQWO7+'eO%B^QWO7+'fOH_QWO7+'fO#7RQWO7+'eO%BcQ#tO<<MpOOQ!LS7+$n7+$nO%BmQ`O,5>eOOQO-E;w-E;wO$ tQWOAN@xOOQQAN@xAN@xOH_QWOAN@xO%BwQ!LbO7+'hOOQQAN=dAN=dO5ZQWO1G4VO%CUQWO7+*xO5RQ!LYOANAfO%C^QWOANAfOOQQANAfANAfO%CcQWOAN@xO%CkQ`OAN@xOOQQANAQANAQOOQQANARANARO%CuQWO,5>gOOQO-E;y-E;yO%DQQ7^O1G5ZO#7WQWO,5=TO4wQWO,5=TO!-RQpO,5=TOOQO-E;{-E;{OOQQ1G2n1G2nO$>tQ!LrO,5:hO!']Q&jO,5=TO%D[Q&jO,5=TO%DjQ&jO,5:hOOQQ<<Ks<<KsOH_QWO<<KsO%1|QWO<<KsO%EOQWO<<KsO%EWQ`O<<KsO)rQYO<<KsOH_QWO<<KsOOQQ<<Kv<<KvO5RQ!LYO<<KvO#7WQWO<<KvO4wQWO<<KvO%EbQ&jO1G4UO%EgQWO7+*vOOQQAN=ZAN=ZO5RQ!LYOAN=ZOOQQ<<Ne<<NeOOQQ<<Nf<<NfOOQQ<<LO<<LOO%EoQWO<<LOO%EtQYO<<LOO%E{QWO<<NeO%FQQWO<<NfOOQQ1G3Y1G3YOOQQANA}ANA}O9qQWOANA}O%FVQ7^O<<IeOOQO<<Hj<<HjOOQO7+%n7+%nO%4^Q!LdO7+%nO!.OQYO7+%nOOQO7+%j7+%jO9qQWO7+%jO%FaQ!LYO7+%nO!-RQpO7+%jO%FlQ!LYO7+%nO!']Q&jO7+%jO%FzQ!LYO7+%nOOQ!LSAN>yAN>yO%G`Q!LdO<<K[O%IhQ7^O<<IyO%IoQ7^O1G1oO%K_Q7^O1G2QO%M[Q7^O1G2SOOQO1G1Y1G1YOOQO7+)f7+)fO& XQWO7+)fO& dQWO<<N[O& lQ`O7+)hOOQO<<KP<<KPO5RQ!LYO<<KQO$1zQWO<<KQOOQO<<KO<<KOO5RQ!LYO<<KPO& vQ`O<<KQO$1zQWO<<KPOOQQG26dG26dO$ tQWOG26dOOQO7+)q7+)qOOQQG27QG27QO5RQ!LYOG27QOH_QWOG26dO! PQYO1G4RO& }QWO7+*uO5RQ!LYO1G2oO#7WQWO1G2oO4wQWO1G2oO!-RQpO1G2oO!']Q&jO1G2oO%5gQ!LrO1G0SO&!VQ&jO1G2oO%1|QWOANA_OOQQANA_ANA_OH_QWOANA_O&!eQWOANA_O&!mQ`OANA_OOQQANAbANAbO5RQ!LYOANAbO#7WQWOANAbOOQO'#Gm'#GmOOQO7+)p7+)pOOQQG22uG22uOOQQANAjANAjO&!wQWOANAjOOQQANDPANDPOOQQANDQANDQO&!|QYOG27iOOQO<<IY<<IYO%4^Q!LdO<<IYOOQO<<IU<<IUO!.OQYO<<IYO9qQWO<<IUO&&wQ!LYO<<IYO!-RQpO<<IUO&'SQ!LYO<<IYO&'bQ7^O7+']OOQO<<MQ<<MQOOQOAN@lAN@lO5RQ!LYOAN@lOOQOAN@kAN@kO$1zQWOAN@lO5RQ!LYOAN@kOOQQLD,OLD,OOOQQLD,lLD,lO$ tQWOLD,OO&)QQ7^O7+)mOOQO7+(Z7+(ZO5RQ!LYO7+(ZO#7WQWO7+(ZO4wQWO7+(ZO!-RQpO7+(ZO!']Q&jO7+(ZOOQQG26yG26yO%1|QWOG26yOH_QWOG26yOOQQG26|G26|O5RQ!LYOG26|OOQQG27UG27UO9qQWOLD-TOOQOAN>tAN>tO%4^Q!LdOAN>tOOQOAN>pAN>pO!.OQYOAN>tO9qQWOAN>pO&)[Q!LYOAN>tO&)gQ7^O<<K[OOQOG26WG26WO5RQ!LYOG26WOOQOG26VG26VOOQQ!$( j!$( jOOQO<<Ku<<KuO5RQ!LYO<<KuO#7WQWO<<KuO4wQWO<<KuO!-RQpO<<KuOOQQLD,eLD,eO%1|QWOLD,eOOQQLD,hLD,hOOQQ!$(!o!$(!oOOQOG24`G24`O%4^Q!LdOG24`OOQOG24[G24[O!.OQYOG24`OOQOLD+rLD+rOOQOANAaANAaO5RQ!LYOANAaO#7WQWOANAaO4wQWOANAaOOQQ!$(!P!$(!POOQOLD)zLD)zO%4^Q!LdOLD)zOOQOG26{G26{O5RQ!LYOG26{O#7WQWOG26{OOQO!$'Mf!$'MfOOQOLD,gLD,gO5RQ!LYOLD,gOOQO!$(!R!$(!ROKYQYO'#DmO&+VQ!LdO'#IgO&+jQ!LdO'#IgOKYQYO'#DeO&+qQ!LdO'#CgO&,[QbO'#CgO&,lQYO,5:nOFbQYO,5:nOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xOKYQYO,5:xO! PQYO'#HsO&.iQWO,5;yO&.qQWO,5:xOKYQYO,5;[O!(uQWO'#CzO!(uQWO'#CzOH_QWO'#F`O&.qQWO'#F`OH_QWO'#FbO&.qQWO'#FbOH_QWO'#FpO&.qQWO'#FpO! PQYO,5?bO&,lQYO1G0YOFbQYO1G0YO&/xQ7^O'#CgO&0SQ7^O'#IgO&0^Q7^O'#IgOKYQYO1G1bOH_QWO,5<fO&.qQWO,5<fOH_QWO,5<hO&.qQWO,5<hOH_QWO,5<TO&.qQWO,5<TO&,lQYO1G1cOFbQYO1G1cO&,lQYO1G1cO&,lQYO1G0YOKYQYO7+&_OH_QWO1G1qO&.qQWO1G1qO&,lQYO7+&}OFbQYO7+&}O&,lQYO7+&}O&,lQYO7+%tOFbQYO7+%tO&,lQYO7+%tOH_QWO7+'pO&.qQWO7+'pO&0eQWO'#ESO&0jQWO'#ESO&0oQWO'#ESO&0wQWO'#ESO&1PQWO'#EpO!.OQYO'#DeO!.OQYO'#DmO&1UQWO'#IvO&1aQWO'#ItO&1lQWO,5:nO&1qQWO,5:nO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5:xO!.OQYO,5;[O&1vQ#tO,5;vO&1}QWO'#FiO&2SQWO'#FiO&2XQWO,5;wO&2aQWO,5;wO&2iQWO,5;wO&2qQ!LdO,5:PO&3OQWO,5:nO&3TQWO,5:nO&3]QWO,5:nO&3eQWO,5:nO&5aQ!LdO1G0dO&5nQ!LdO1G0dO&7uQ!LdO1G0dO&7|Q!LdO1G0dO&9}Q!LdO1G0dO&:UQ!LdO1G0dO&<VQ!LdO1G0dO&<^Q!LdO1G0dO&>_Q!LdO1G0dO&>fQ!LdO1G0dO&>mQ7^O1G0sO&>tQ!LdO1G0vO!.OQYO1G1bO&?RQWO,5<VO&?WQWO,5<VO&?]QWO1G1cO&?bQWO1G1cO&?gQWO1G1cO&?lQWO1G0YO&?qQWO1G0YO&?vQWO1G0YO!.OQYO7+&_O&?{Q!LdO7+&|O&@YQ#tO1G2UO&@aQ#tO1G2UO&@hQ!LdO<<IyO&,lQYO,5:nO&BiQ!LdO'#IhO&B|QWO'#EpO3mQWO'#F^O4wQWO'#F]O4wQWO'#F]O4wQWO'#F]OBUQWO'#EROBUQWO'#EROBUQWO'#EROKYQYO,5;XO&CRQ#tO,5;vO!)PQWO'#FkO!)PQWO'#FkO&CYQ7^O1G0sOIkQWO,5<jOIkQWO,5<jO! PQYO'#DmO! PQYO'#DeO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5:xO! PQYO,5;[O! PQYO1G1bO! PQYO7+&_O&CaQWO'#ESO&CfQWO'#ESO&CnQWO'#EpO&CsQ#tO,5;vO&CzQ7^O1G0sO3mQWO'#F^OKYQYO,5;XO&DRQ7^O'#IhO&DcQ7^O,5:PO&DpQ7^O1G0dO&FqQ7^O1G0dO&FxQ7^O1G0dO&HmQ7^O1G0dO&IQQ7^O1G0dO&K_Q7^O1G0dO&KfQ7^O1G0dO&MgQ7^O1G0dO&MnQ7^O1G0dO' cQ7^O1G0dO' vQ7^O1G0vO'!TQ7^O7+&|O'!bQ7^O<<IyO3mQWO'#F^OKYQYO,5;X",stateData:"'#b~O&}OSSOSTOS~OPTOQTOWwO]bO^gOamOblOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!OSO!YjO!_UO!bTO!cTO!dTO!eTO!fTO!ikO#jnO#n]O$uoO$wrO$ypO$zpO${qO%OsO%QtO%TuO%UuO%WvO%exO%kyO%mzO%o{O%q|O%t}O%z!OO&O!PO&Q!QO&S!RO&U!SO&W!TO'PPO']QO'q`O~OPZXYZX^ZXiZXqZXrZXtZX|ZX![ZX!]ZX!_ZX!eZX!tZX#OcX#RZX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#`ZX#eZX&{ZX']ZX'eZX'lZX'mZX~O!W$bX~P$tO&x!VO&y!UO&z!XO~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!O!`O!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#j!iO#n]O'P!YO']QO'q`O~O{!^O|!ZOy'`Py'iP~P'^O}!jO~P]OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!O!`O!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#j!iO#n]O'P8ZO']QO'q`O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!O!`O!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#j!iO#n]O']QO'q`O~O{!oO!|!rO!}!oO'P8[O!^'fP~P+oO#O!sO~O!W!tO#O!sO~OP#ZOY#aOi#OOq!xOr!xOt!yO|#_O![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#Z#RO#]#TO#_#VO#`#WO']QO'e#XO'l!zO'm!{O^'ZX&{'ZX!^'ZXy'ZX!O'ZX$v'ZX!W'ZX~O!t#bO#e#bOP'[XY'[X^'[Xi'[Xq'[Xr'[Xt'[X|'[X!['[X!]'[X!_'[X!e'[X#R'[X#S'[X#T'[X#U'[X#V'[X#W'[X#Y'[X#Z'[X#]'[X#_'[X#`'[X']'[X'e'[X'l'[X'm'[X~O#X'[X&{'[Xy'[X!^'[X'_'[X!O'[X$v'[X!W'[X~P0gO!t#bO~O#p#cO#w#gO~O!O#hO#n]O#z#iO#|#kO~O]#nOg#zOi#oOj#nOk#nOm#{Oo#|Ot#tO!O#uO!Y$RO!_#rO!}$SO#j$PO$T#}O$V$OO$Y$QO'P#mO'T'VP~O!_$TO~O!W$VO~O^$WO&{$WO~O'P$[O~O!_$TO'P$[O'Q$^O'U$_O~Ob$eO!_$TO'P$[O~O]$nOq$jO!O$gO!_$iO$w$mO'P$[O'Q$^O['yP~O!i$oO~Ot$pO!O$qO'P$[O~Ot$pO!O$qO%Q$uO'P$[O~O'P$vO~O$wrO$ypO$zpO${qO%OsO%QtO%TuO%UuO~Oa%POb%OO!i$|O$u$}O%Y${O~P7YOa%SOblO!O%RO!ikO$uoO$ypO$zpO${qO%OsO%QtO%TuO%UuO%WvO~O_%VO!t%YO$w%TO'Q$^O~P8XO!_%ZO!b%_O~O!_%`O~O!OSO~O^$WO&w%hO&{$WO~O^$WO&w%kO&{$WO~O^$WO&w%mO&{$WO~O&x!VO&y!UO&z%qO~OPZXYZXiZXqZXrZXtZX|ZX|cX![ZX!]ZX!_ZX!eZX!tZX!tcX#OcX#RZX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#`ZX#eZX']ZX'eZX'lZX'mZX~OyZXycX~P:tO{%sOy&]X|&]X~P)rO|!ZOy'`X~OP#ZOY#aOi#OOq!xOr!xOt!yO|!ZO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#Z#RO#]#TO#_#VO#`#WO']QO'e#XO'l!zO'm!{O~Oy'`X~P=kOy%xO~Ot%{O!R&VO!S&OO!T&OO'Q$^O~O]%|Oj%|O{&PO'Y%yO}'aP}'kP~P?nOy'hX|'hX!W'hX!^'hX'e'hX~O!t'hX#O!wX}'hX~P@gO!t&WOy'jX|'jX~O|&XOy'iX~Oy&ZO~O!t#bO~P@gOR&_O!O&[O!j&^O'P$[O~Ob&dO!_$TO'P$[O~Oq$jO!_$iO~O}&eO~P]Oq!xOr!xOt!yO!]!vO!_!wO']QOP!aaY!aai!aa|!aa![!aa!e!aa#R!aa#S!aa#T!aa#U!aa#V!aa#W!aa#X!aa#Y!aa#Z!aa#]!aa#_!aa#`!aa'e!aa'l!aa'm!aa~O^!aa&{!aay!aa!^!aa'_!aa!O!aa$v!aa!W!aa~PBpO!^&fO~O!W!tO!t&hO'e&gO|'gX^'gX&{'gX~O!^'gX~PEYO|&lO!^'fX~O!^&nO~Ot$pO!O$qO!}&oO'P$[O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!OSO!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#j!iO#n]O'P8ZO']QO'q`O~O]#nOg#zOi#oOj#nOk#nOm#{Oo8nOt#tO!O#uO!Y;OO!_#rO!}8tO#j$PO$T8pO$V8rO$Y$QO'P&rO~O#O&tO~O]#nOg#zOi#oOj#nOk#nOm#{Oo#|Ot#tO!O#uO!Y$RO!_#rO!}$SO#j$PO$T#}O$V$OO$Y$QO'P&rO~O'T'cP~PIkO{&xO!^'dP~P)rO'Y&zO~OP8VOQ8VO]bOa:yOb!gOgbOi8VOjbOkbOm8VOo8VOtROvbOwbOxbO!O!`O!Y8YO!_UO!b8VO!c8VO!d8VO!e8VO!f8VO!i!fO#j!iO#n]O'P'YO']QO'q:uO~O!_!wO~O|#_O^$Ra&{$Ra!^$Ray$Ra!O$Ra$v$Ra!W$Ra~O!W'bO!O'nX#m'nX#p'nX#w'nX~Oq'cO~PMvOq'cO!O'nX#m'nX#p'nX#w'nX~O!O'eO#m'iO#p'dO#w'jO~OP;TOQ;TO]bOa:{Ob!gOgbOi;TOjbOkbOm;TOo;TOtROvbOwbOxbO!O!`O!Y;UO!_UO!b;TO!c;TO!d;TO!e;TO!f;TO!i!fO#j!iO#n]O'P'YO']QO'q;{O~O{'mO~P! PO#p#cO#w'pO~Oq$ZXt$ZX!]$ZX'e$ZX'l$ZX'm$ZX~OReX|eX!teX'TeX'T$ZX~P!#]Oj'rO~Oq'tOt'uO'e#XO'l'wO'm'yO~O'T'sO~P!$ZO'T'|O~O]#nOg#zOi#oOj#nOk#nOm#{Oo8nOt#tO!O#uO!Y;OO!_#rO!}8tO#j$PO$T8pO$V8rO$Y$QO~O{(QO'P'}O!^'rP~P!$xO#O(SO~O{(WO'P(TOy'sP~P!$xO^(aOi(fOt(^O!R(dO!S(]O!T(]O!_(ZO!q(eO$m(`O'Q$^O'Y(YO~O}(cO~P!&mO!]!vOq'XXt'XX'e'XX'l'XX'm'XX|'XX!t'XX~O'T'XX#c'XX~P!'iOR(iO!t(hO|'WX'T'WX~O|(jO'T'VX~O'P(lO~O!_(qO~O!_(ZO~Ot$pO{!oO!O$qO!|!rO!}!oO'P$[O!^'fP~O!W!tO#O(uO~OP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#Z#RO#]#TO#_#VO#`#WO']QO'e#XO'l!zO'm!{O~O^!Xa|!Xa&{!Xay!Xa!^!Xa'_!Xa!O!Xa$v!Xa!W!Xa~P!)uOR(}O!O&[O!j(|O$v({O'U$_O~O'P$vO'T'VP~O!W)QO!O'SX^'SX&{'SX~O!_$TO'U$_O~O!_$TO'P$[O'U$_O~O!W!tO#O&tO~O'P)YO}'zP~O|)^O['yX~OP9jOQ9jO]bOa:zOb!gOgbOi9jOjbOkbOm9jOo9jOtROvbOwbOxbO!O!`O!Y9iO!_UO!b9jO!c9jO!d9jO!e9jO!f9jO!i!fO#j!iO#n]O'P8ZO']QO'q;jO~OY)bO~O[)cO~O!O$gO'P$[O'Q$^O['yP~Ot$pO{)hO!O$qO'P$[Oy'iP~O]&SOj&SO{)iO'Y&zO}'kP~O|)jO^'vX&{'vX~O!t)nO'U$_O~OR)qO!O#uO'U$_O~O!O)sO~Oq)uO!OSO~O!i)zO~Ob*PO~O'P(lO}'xP~Ob$eO~O$wrO'P$vO~P8XOY*VO[*UO~OPTOQTO]bOamOblOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!YjO!_UO!bTO!cTO!dTO!eTO!fTO!ikO#n]O$uoO']QO'q`O~O!O!`O#j!iO'P8ZO~P!3PO[*UO^$WO&{$WO~O^*ZO$y*]O$z*]O${*]O~P)rO!_%ZO~O%k*bO~O!O*dO~O%{*gO%|*fOP%yaQ%yaW%ya]%ya^%yaa%yab%yag%yai%yaj%yak%yam%yao%yat%yav%yaw%yax%ya!O%ya!Y%ya!_%ya!b%ya!c%ya!d%ya!e%ya!f%ya!i%ya#j%ya#n%ya$u%ya$w%ya$y%ya$z%ya${%ya%O%ya%Q%ya%T%ya%U%ya%W%ya%e%ya%k%ya%m%ya%o%ya%q%ya%t%ya%z%ya&O%ya&Q%ya&S%ya&U%ya&W%ya&v%ya'P%ya']%ya'q%ya}%ya%r%ya_%ya%w%ya~O'P*jO~O'_*mO~Oy&]a|&]a~P!)uO|!ZOy'`a~Oy'`a~P=kO|&XOy'ia~O|sX|!UX}sX}!UX!WsX!W!UX!_!UX!tsX'U!UX~O!W*tO!t*sO|!{X|'bX}!{X}'bX!W'bX!_'bX'U'bX~O!W*vO!_$TO'U$_O|!QX}!QX~O]%zOj%zOt%{O'Y(YO~OP;TOQ;TO]bOa:{Ob!gOgbOi;TOjbOkbOm;TOo;TOtROvbOwbOxbO!O!`O!Y;UO!_UO!b;TO!c;TO!d;TO!e;TO!f;TO!i!fO#j!iO#n]O']QO'q;{O~O'P8yO~P!<wO|*zO}'aX~O}*|O~O!W*tO!t*sO|!{X}!{X~O|*}O}'kX~O}+PO~O]%zOj%zOt%{O'Q$^O'Y(YO~O!S+QO!T+QO~P!?rOt$pO{+TO!O$qO'P$[Oy&bX|&bX~O^+XO!R+[O!S+WO!T+WO!m+^O!n+]O!o+]O!q+_O'Q$^O'Y(YO~O}+ZO~P!@sOR+dO!O&[O!j+cO~O!t+jO|'ga!^'ga^'ga&{'ga~O!W!tO~P!AwO|&lO!^'fa~Ot$pO{+mO!O$qO!|+oO!}+mO'P$[O|&dX!^&dX~O#O!sa|!sa!^!sa!t!sa!O!sa^!sa&{!say!sa~P!$ZO#O'XXP'XXY'XX^'XXi'XXr'XX!['XX!_'XX!e'XX#R'XX#S'XX#T'XX#U'XX#V'XX#W'XX#X'XX#Y'XX#Z'XX#]'XX#_'XX#`'XX&{'XX']'XX!^'XXy'XX!O'XX$v'XX'_'XX!W'XX~P!'iO|+xO'T'cX~P!$ZO'T+zO~O|+{O!^'dX~P!)uO!^,OO~Oy,PO~OP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO']QOY#Qi^#Qii#Qi|#Qi![#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi&{#Qi'e#Qi'l#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~O#R#Qi~P!FeO#R!|O~P!FeOP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O']QOY#Qi^#Qi|#Qi![#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi&{#Qi'e#Qi'l#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~Oi#Qi~P!IPOi#OO~P!IPOP#ZOi#OOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO']QO^#Qi|#Qi#Z#Qi#]#Qi#_#Qi#`#Qi&{#Qi'e#Qi'l#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~OY#Qi![#Qi#W#Qi#X#Qi#Y#Qi~P!KkOY#aO![#QO#W#QO#X#QO#Y#QO~P!KkOP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#Z#RO']QO^#Qi|#Qi#]#Qi#_#Qi#`#Qi&{#Qi'e#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~O'l#Qi~P!NcO'l!zO~P!NcOP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#Z#RO#]#TO']QO'l!zO^#Qi|#Qi#_#Qi#`#Qi&{#Qi'e#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~O'm#Qi~P#!}O'm!{O~P#!}OP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#Z#RO#]#TO#_#VO']QO'l!zO'm!{O~O^#Qi|#Qi#`#Qi&{#Qi'e#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~P#%iOPZXYZXiZXqZXrZXtZX![ZX!]ZX!_ZX!eZX!tZX#OcX#RZX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#`ZX#eZX']ZX'eZX'lZX'mZX|ZX}ZX~O#cZX~P#'|OP#ZOY8lOi8aOq!xOr!xOt!yO![8cO!]!vO!_!wO!e#ZO#R8_O#S8`O#T8`O#U8`O#V8bO#W8cO#X8cO#Y8cO#Z8dO#]8fO#_8hO#`8iO']QO'e#XO'l!zO'm!{O~O#c,RO~P#*WOP'[XY'[Xi'[Xq'[Xr'[Xt'[X!['[X!]'[X!_'[X!e'[X#R'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#`'[X#c'[X']'[X'e'[X'l'[X'm'[X~O!t8mO#e8mO~P#,RO^&ga|&ga&{&ga!^&ga'_&gay&ga!O&ga$v&ga!W&ga~P!)uOP#QiY#Qi^#Qii#Qir#Qi|#Qi![#Qi!]#Qi!_#Qi!e#Qi#R#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi&{#Qi']#Qiy#Qi!^#Qi'_#Qi!O#Qi$v#Qi!W#Qi~P!$ZO^#di|#di&{#diy#di!^#di'_#di!O#di$v#di!W#di~P!)uO#p,TO~O#p,UO~O!W'bO!t,VO!O#tX#m#tX#p#tX#w#tX~O{,WO~O!O'eO#m,YO#p'dO#w,ZO~OP#ZOY8lOi;XOq!xOr!xOt!yO|8jO![;ZO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO#V;YO#W;ZO#X;ZO#Y;ZO#Z;[O#];^O#_;`O#`;aO']QO'e#XO'l!zO'm!{O}'ZX~O},[O~O#w,^O~O],aOj,aOy,bO~O|cX!WcX!^cX!^$ZX'ecX~P!#]O!^,hO~P!$ZO|,iO!W!tO'e&gO!^'rX~O!^,nO~Oy$ZX|$ZX!W$bX~P!#]O|,pOy'sX~P!$ZO!W,rO~Oy,tO~O{(QO'P$[O!^'rP~Oi,xO!W!tO!_$TO'U$_O'e&gO~O!W)QO~O}-OO~P!&mO!S-PO!T-PO'Q$^O'Y(YO~Ot-RO'Y(YO~O!q-SO~O'P$vO|&lX'T&lX~O|(jO'T'Va~Oq-XOr-XOt-YO'ena'lna'mna|na!tna~O'Tna#cna~P#8dOq'tOt'uO'e$Sa'l$Sa'm$Sa|$Sa!t$Sa~O'T$Sa#c$Sa~P#9YOq'tOt'uO'e$Ua'l$Ua'm$Ua|$Ua!t$Ua~O'T$Ua#c$Ua~P#9{O]-ZO~O#O-[O~O'T$da|$da#c$da!t$da~P!$ZO#O-^O~OR-gO!O&[O!j-fO$v-eO~O'T-hO~O]#nOi#oOj#nOk#nOm#{Oo8nOt#tO!O#uO!Y;OO!_#rO!}8tO#j$PO$T8pO$V8rO$Y$QO~Og-jO'P-iO~P#;rO!W)QO!O'Sa^'Sa&{'Sa~O#O-pO~OYZX|cX}cX~O|-qO}'zX~O}-sO~OY-tO~O!O$gO'P$[O[&tX|&tX~O|)^O['ya~OP#ZOY#aOi9qOq!xOr!xOt!yO![9sO!]!vO!_!wO!e#ZO#R9oO#S9pO#T9pO#U9pO#V9rO#W9sO#X9sO#Y9sO#Z9tO#]9vO#_9xO#`9yO']QO'e#XO'l!zO'm!{O~O!^-wO~P#>gO]-yO~OY-zO~O[-{O~OR-gO!O&[O!j-fO$v-eO'U$_O~O|)jO^'va&{'va~O!t.RO~OR.UO!O#uO~O'Y&zO}'wP~OR.`O!O.[O!j._O$v.^O'U$_O~OY.jO|.hO}'xX~O}.kO~O[.mO^$WO&{$WO~O].nO~O#X.pO%i.qO~P0gO!t#bO#X.pO%i.qO~O^.rO~P)rO^.tO~O%r.xOP%piQ%piW%pi]%pi^%pia%pib%pig%pii%pij%pik%pim%pio%pit%piv%piw%pix%pi!O%pi!Y%pi!_%pi!b%pi!c%pi!d%pi!e%pi!f%pi!i%pi#j%pi#n%pi$u%pi$w%pi$y%pi$z%pi${%pi%O%pi%Q%pi%T%pi%U%pi%W%pi%e%pi%k%pi%m%pi%o%pi%q%pi%t%pi%z%pi&O%pi&Q%pi&S%pi&U%pi&W%pi&v%pi'P%pi']%pi'q%pi}%pi_%pi%w%pi~O_/OO}.|O%w.}O~P]O!OSO!_/RO~OP$RaY$Rai$Raq$Rar$Rat$Ra![$Ra!]$Ra!_$Ra!e$Ra#R$Ra#S$Ra#T$Ra#U$Ra#V$Ra#W$Ra#X$Ra#Y$Ra#Z$Ra#]$Ra#_$Ra#`$Ra']$Ra'e$Ra'l$Ra'm$Ra~O|#_O'_$Ra!^$Ra^$Ra&{$Ra~P#GwOy&]i|&]i~P!)uO|!ZOy'`i~O|&XOy'ii~Oy/VO~OP#ZOY8lOi;XOq!xOr!xOt!yO![;ZO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO#V;YO#W;ZO#X;ZO#Y;ZO#Z;[O#];^O#_;`O#`;aO']QO'e#XO'l!zO'm!{O~O|!Qa}!Qa~P#JoO]%zOj%zO{/]O'Y(YO|&^X}&^X~P?nO|*zO}'aa~O]&SOj&SO{)iO'Y&zO|&cX}&cX~O|*}O}'ka~Oy'ji|'ji~P!)uO^$WO!W!tO!_$TO!e/hO!t/fO&{$WO'U$_O'e&gO~O}/kO~P!@sO!S/lO!T/lO'Q$^O'Y(YO~O!R/nO!S/lO!T/lO!q/oO'Q$^O'Y(YO~O!n/pO!o/pO~P$ UO!O&[O~O!O&[O~P!$ZO|'gi!^'gi^'gi&{'gi~P!)uO!t/yO|'gi!^'gi^'gi&{'gi~O|&lO!^'fi~Ot$pO!O$qO!}/{O'P$[O~O#OnaPnaYna^naina![na!]na!_na!ena#Rna#Sna#Tna#Una#Vna#Wna#Xna#Yna#Zna#]na#_na#`na&{na']na!^nayna!Ona$vna'_na!Wna~P#8dO#O$SaP$SaY$Sa^$Sai$Sar$Sa![$Sa!]$Sa!_$Sa!e$Sa#R$Sa#S$Sa#T$Sa#U$Sa#V$Sa#W$Sa#X$Sa#Y$Sa#Z$Sa#]$Sa#_$Sa#`$Sa&{$Sa']$Sa!^$Say$Sa!O$Sa$v$Sa'_$Sa!W$Sa~P#9YO#O$UaP$UaY$Ua^$Uai$Uar$Ua![$Ua!]$Ua!_$Ua!e$Ua#R$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#`$Ua&{$Ua']$Ua!^$Uay$Ua!O$Ua$v$Ua'_$Ua!W$Ua~P#9{O#O$daP$daY$da^$dai$dar$da|$da![$da!]$da!_$da!e$da#R$da#S$da#T$da#U$da#V$da#W$da#X$da#Y$da#Z$da#]$da#_$da#`$da&{$da']$da!^$day$da!O$da!t$da$v$da'_$da!W$da~P!$ZO|&_X'T&_X~PIkO|+xO'T'ca~O{0TO|&`X!^&`X~P)rO|+{O!^'da~O|+{O!^'da~P!)uO#c!aa}!aa~PBpO#c!Xa~P#*WO!O0gO#n]O#u0hO~O}0lO~O^$Oq|$Oq&{$Oqy$Oq!^$Oq'_$Oq!O$Oq$v$Oq!W$Oq~P!)uOy0mO~O],aOj,aO~Oq'tOt'uO'm'yO'e$ni'l$ni|$ni!t$ni~O'T$ni#c$ni~P$.YOq'tOt'uO'e$pi'l$pi'm$pi|$pi!t$pi~O'T$pi#c$pi~P$.{O#c0nO~P!$ZO{0pO'P$[O|&hX!^&hX~O|,iO!^'ra~O|,iO!W!tO!^'ra~O|,iO!W!tO'e&gO!^'ra~O'T$]i|$]i#c$]i!t$]i~P!$ZO{0wO'P(TOy&jX|&jX~P!$xO|,pOy'sa~O|,pOy'sa~P!$ZO!W!tO~O!W!tO#X1RO~Oi1VO!W!tO'e&gO~O|'Wi'T'Wi~P!$ZO!t1YO|'Wi'T'Wi~P!$ZO!^1]O~O|1`O!O'tX~P!$ZO!O&[O$v1cO~O!O&[O$v1cO~P!$ZO!O$ZX$kZX^$ZX&{$ZX~P!#]O$k1gOqfXtfX!OfX'efX'lfX'mfX^fX&{fX~O$k1gO~O'P)YO|&sX}&sX~O|-qO}'za~O[1oO~O]1rO~OR1tO!O&[O!j1sO$v1cO~O^$WO&{$WO~P!$ZO!O#uO~P!$ZO|1yO!t1{O}'wX~O}1|O~Ot(^O!R2VO!S2OO!T2OO!m2UO!n2TO!o2TO!q2SO'Q$^O'Y(YO~O}2RO~P$6bOR2^O!O.[O!j2]O$v2[O~OR2^O!O.[O!j2]O$v2[O'U$_O~O'P(lO|&rX}&rX~O|.hO}'xa~O'Y2gO~O]2iO~O[2kO~O!^2nO~P)rO^2pO~O^2pO~P)rO#X2rO%i2sO~PEYO_/OO}2wO%w.}O~P]O!W2yO~O%|2zOP%yqQ%yqW%yq]%yq^%yqa%yqb%yqg%yqi%yqj%yqk%yqm%yqo%yqt%yqv%yqw%yqx%yq!O%yq!Y%yq!_%yq!b%yq!c%yq!d%yq!e%yq!f%yq!i%yq#j%yq#n%yq$u%yq$w%yq$y%yq$z%yq${%yq%O%yq%Q%yq%T%yq%U%yq%W%yq%e%yq%k%yq%m%yq%o%yq%q%yq%t%yq%z%yq&O%yq&Q%yq&S%yq&U%yq&W%yq&v%yq'P%yq']%yq'q%yq}%yq%r%yq_%yq%w%yq~O|!{i}!{i~P#JoO!t2|O|!{i}!{i~O|!Qi}!Qi~P#JoO^$WO!t3TO&{$WO~O^$WO!W!tO!t3TO&{$WO~O^$WO!W!tO!_$TO!e3XO!t3TO&{$WO'U$_O'e&gO~O!S3YO!T3YO'Q$^O'Y(YO~O!R3]O!S3YO!T3YO!q3^O'Q$^O'Y(YO~O^$WO!W!tO!e3XO!t3TO&{$WO'e&gO~O|'gq!^'gq^'gq&{'gq~P!)uO|&lO!^'fq~O#O$niP$niY$ni^$nii$nir$ni![$ni!]$ni!_$ni!e$ni#R$ni#S$ni#T$ni#U$ni#V$ni#W$ni#X$ni#Y$ni#Z$ni#]$ni#_$ni#`$ni&{$ni']$ni!^$niy$ni!O$ni$v$ni'_$ni!W$ni~P$.YO#O$piP$piY$pi^$pii$pir$pi![$pi!]$pi!_$pi!e$pi#R$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#`$pi&{$pi']$pi!^$piy$pi!O$pi$v$pi'_$pi!W$pi~P$.{O#O$]iP$]iY$]i^$]ii$]ir$]i|$]i![$]i!]$]i!_$]i!e$]i#R$]i#S$]i#T$]i#U$]i#V$]i#W$]i#X$]i#Y$]i#Z$]i#]$]i#_$]i#`$]i&{$]i']$]i!^$]iy$]i!O$]i!t$]i$v$]i'_$]i!W$]i~P!$ZO|&_a'T&_a~P!$ZO|&`a!^&`a~P!)uO|+{O!^'di~OP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO']QOY#Qii#Qi![#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi#c#Qi'e#Qi'l#Qi'm#Qi|#Qi}#Qi~O#R#Qi~P$GzOP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO']QOY#Qii#Qi![#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi#c#Qi'e#Qi'l#Qi'm#Qi~O#R8_O~P$I{OP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R8_O#S8`O#T8`O#U8`O']QOY#Qi![#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi#c#Qi'e#Qi'l#Qi'm#Qi~Oi#Qi~P$KvOi8aO~P$KvOP#ZOi8aOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R8_O#S8`O#T8`O#U8`O#V8bO']QO#Z#Qi#]#Qi#_#Qi#`#Qi#c#Qi'e#Qi'l#Qi'm#Qi~OY#Qi![#Qi#W#Qi#X#Qi#Y#Qi~P$MxOY8lO![8cO#W8cO#X8cO#Y8cO~P$MxOP#ZOY8lOi8aOq!xOr!xOt!yO![8cO!]!vO!_!wO!e#ZO#R8_O#S8`O#T8`O#U8`O#V8bO#W8cO#X8cO#Y8cO#Z8dO']QO#]#Qi#_#Qi#`#Qi#c#Qi'e#Qi'm#Qi~O'l#Qi~P%!WO'l!zO~P%!WOP#ZOY8lOi8aOq!xOr!xOt!yO![8cO!]!vO!_!wO!e#ZO#R8_O#S8`O#T8`O#U8`O#V8bO#W8cO#X8cO#Y8cO#Z8dO#]8fO']QO'l!zO#_#Qi#`#Qi#c#Qi'e#Qi~O'm#Qi~P%$YO'm!{O~P%$YOP#ZOY8lOi8aOq!xOr!xOt!yO![8cO!]!vO!_!wO!e#ZO#R8_O#S8`O#T8`O#U8`O#V8bO#W8cO#X8cO#Y8cO#Z8dO#]8fO#_8hO']QO'l!zO'm!{O~O#`#Qi#c#Qi'e#Qi~P%&[O^#ay|#ay&{#ayy#ay!^#ay'_#ay!O#ay$v#ay!W#ay~P!)uOP#QiY#Qii#Qir#Qi![#Qi!]#Qi!_#Qi!e#Qi#R#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi#c#Qi']#Qi|#Qi}#Qi~P!$ZO!]!vOP'XXY'XXi'XXq'XXr'XXt'XX!['XX!_'XX!e'XX#R'XX#S'XX#T'XX#U'XX#V'XX#W'XX#X'XX#Y'XX#Z'XX#]'XX#_'XX#`'XX#c'XX']'XX'e'XX'l'XX'm'XX|'XX}'XX~O#c#di~P#*WO}3mO~O|&ga}&ga#c&ga~P#JoO!W!tO'e&gO|&ha!^&ha~O|,iO!^'ri~O|,iO!W!tO!^'ri~Oy&ja|&ja~P!$ZO!W3tO~O|,pOy'si~P!$ZO|,pOy'si~Oy3zO~O!W!tO#X4QO~Oi4RO!W!tO'e&gO~Oy4TO~O'T$_q|$_q#c$_q!t$_q~P!$ZO|1`O!O'ta~O!O&[O$v4YO~O!O&[O$v4YO~P!$ZOY4]O~O|-qO}'zi~O]4_O~O[4`O~O'Y&zO|&oX}&oX~O|1yO}'wa~O}4mO~P$6bO!R4pO!S4oO!T4oO!q/oO'Q$^O'Y(YO~O!n4qO!o4qO~P%1OO!S4oO!T4oO'Q$^O'Y(YO~O!O.[O~O!O.[O$v4sO~O!O.[O$v4sO~P!$ZOR4xO!O.[O!j4wO$v4sO~OY4}O|&ra}&ra~O|.hO}'xi~O]5QO~O!^5RO~O!^5SO~O!^5TO~O!^5TO~P)rO^5VO~O!W5YO~O!^5[O~O|'ji}'ji~P#JoO^$WO&{$WO~P#>gO^$WO!t5aO&{$WO~O^$WO!W!tO!t5aO&{$WO~O^$WO!W!tO!e5fO!t5aO&{$WO'e&gO~O!_$TO'U$_O~P%5RO!S5gO!T5gO'Q$^O'Y(YO~O|'gy!^'gy^'gy&{'gy~P!)uO#O$_qP$_qY$_q^$_qi$_qr$_q|$_q![$_q!]$_q!_$_q!e$_q#R$_q#S$_q#T$_q#U$_q#V$_q#W$_q#X$_q#Y$_q#Z$_q#]$_q#_$_q#`$_q&{$_q']$_q!^$_qy$_q!O$_q!t$_q$v$_q'_$_q!W$_q~P!$ZO|&`i!^&`i~P!)uO|8jO#c$Ra~P#GwOq-XOr-XOt-YOPnaYnaina![na!]na!_na!ena#Rna#Sna#Tna#Una#Vna#Wna#Xna#Yna#Zna#]na#_na#`na#cna']na'ena'lna'mna|na}na~Oq'tOt'uOP$SaY$Sai$Sar$Sa![$Sa!]$Sa!_$Sa!e$Sa#R$Sa#S$Sa#T$Sa#U$Sa#V$Sa#W$Sa#X$Sa#Y$Sa#Z$Sa#]$Sa#_$Sa#`$Sa#c$Sa']$Sa'e$Sa'l$Sa'm$Sa|$Sa}$Sa~Oq'tOt'uOP$UaY$Uai$Uar$Ua![$Ua!]$Ua!_$Ua!e$Ua#R$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#`$Ua#c$Ua']$Ua'e$Ua'l$Ua'm$Ua|$Ua}$Ua~OP$daY$dai$dar$da![$da!]$da!_$da!e$da#R$da#S$da#T$da#U$da#V$da#W$da#X$da#Y$da#Z$da#]$da#_$da#`$da#c$da']$da|$da}$da~P!$ZO#c$Oq~P#*WO}5oO~O'T$ry|$ry#c$ry!t$ry~P!$ZO!W!tO|&hi!^&hi~O!W!tO'e&gO|&hi!^&hi~O|,iO!^'rq~Oy&ji|&ji~P!$ZO|,pOy'sq~Oy5vO~P!$ZOy5vO~O|'Wy'T'Wy~P!$ZO|&ma!O&ma~P!$ZO!O$jq^$jq&{$jq~P!$ZO|-qO}'zq~O]6PO~O!O&[O$v6QO~O!O&[O$v6QO~P!$ZO!t6RO|&oa}&oa~O|1yO}'wi~P#JoO!S6XO!T6XO'Q$^O'Y(YO~O!R6ZO!S6XO!T6XO!q3^O'Q$^O'Y(YO~O!O.[O$v6^O~O!O.[O$v6^O~P!$ZO'Y6dO~O|.hO}'xq~O!^6gO~O!^6gO~P)rO!^6iO~O!^6jO~O|!{y}!{y~P#JoO^$WO!t6oO&{$WO~O^$WO!W!tO!t6oO&{$WO~O^$WO!W!tO!e6sO!t6oO&{$WO'e&gO~O#O$ryP$ryY$ry^$ryi$ryr$ry|$ry![$ry!]$ry!_$ry!e$ry#R$ry#S$ry#T$ry#U$ry#V$ry#W$ry#X$ry#Y$ry#Z$ry#]$ry#_$ry#`$ry&{$ry']$ry!^$ryy$ry!O$ry!t$ry$v$ry'_$ry!W$ry~P!$ZO#c#ay~P#*WOP$]iY$]ii$]ir$]i![$]i!]$]i!_$]i!e$]i#R$]i#S$]i#T$]i#U$]i#V$]i#W$]i#X$]i#Y$]i#Z$]i#]$]i#_$]i#`$]i#c$]i']$]i|$]i}$]i~P!$ZOq'tOt'uO'm'yOP$niY$nii$nir$ni![$ni!]$ni!_$ni!e$ni#R$ni#S$ni#T$ni#U$ni#V$ni#W$ni#X$ni#Y$ni#Z$ni#]$ni#_$ni#`$ni#c$ni']$ni'e$ni'l$ni|$ni}$ni~Oq'tOt'uOP$piY$pii$pir$pi![$pi!]$pi!_$pi!e$pi#R$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#`$pi#c$pi']$pi'e$pi'l$pi'm$pi|$pi}$pi~O!W!tO|&hq!^&hq~O|,iO!^'ry~Oy&jq|&jq~P!$ZOy6yO~P!$ZO|1yO}'wq~O!S7UO!T7UO'Q$^O'Y(YO~O!O.[O$v7XO~O!O.[O$v7XO~P!$ZO!^7[O~O%|7]OP%y!ZQ%y!ZW%y!Z]%y!Z^%y!Za%y!Zb%y!Zg%y!Zi%y!Zj%y!Zk%y!Zm%y!Zo%y!Zt%y!Zv%y!Zw%y!Zx%y!Z!O%y!Z!Y%y!Z!_%y!Z!b%y!Z!c%y!Z!d%y!Z!e%y!Z!f%y!Z!i%y!Z#j%y!Z#n%y!Z$u%y!Z$w%y!Z$y%y!Z$z%y!Z${%y!Z%O%y!Z%Q%y!Z%T%y!Z%U%y!Z%W%y!Z%e%y!Z%k%y!Z%m%y!Z%o%y!Z%q%y!Z%t%y!Z%z%y!Z&O%y!Z&Q%y!Z&S%y!Z&U%y!Z&W%y!Z&v%y!Z'P%y!Z']%y!Z'q%y!Z}%y!Z%r%y!Z_%y!Z%w%y!Z~O^$WO!t7aO&{$WO~O^$WO!W!tO!t7aO&{$WO~OP$_qY$_qi$_qr$_q![$_q!]$_q!_$_q!e$_q#R$_q#S$_q#T$_q#U$_q#V$_q#W$_q#X$_q#Y$_q#Z$_q#]$_q#_$_q#`$_q#c$_q']$_q|$_q}$_q~P!$ZO|&oq}&oq~P#JoO^$WO!t7uO&{$WO~OP$ryY$ryi$ryr$ry![$ry!]$ry!_$ry!e$ry#R$ry#S$ry#T$ry#U$ry#V$ry#W$ry#X$ry#Y$ry#Z$ry#]$ry#_$ry#`$ry#c$ry']$ry|$ry}$ry~P!$ZO|#_O'_'ZX!^'ZX^'ZX&{'ZX~P!)uO'_'ZX~P.ZO'_ZXyZX!^ZX%iZX!OZX$vZX!WZX~P$tO!WcX!^ZX!^cX'ecX~P:tOP;TOQ;TO]bOa:{Ob!gOgbOi;TOjbOkbOm;TOo;TOtROvbOwbOxbO!OSO!Y;UO!_UO!b;TO!c;TO!d;TO!e;TO!f;TO!i!fO#j!iO#n]O'P'YO']QO'q;{O~O|8jO}$Ra~O]#nOg#zOi#oOj#nOk#nOm#{Oo8oOt#tO!O#uO!Y;PO!_#rO!}8uO#j$PO$T8qO$V8sO$Y$QO'P&rO~O}ZX}cX~P:tO|8jO#c'ZX~P#JoO#c'ZX~P#2iO#O8]O~O#O8^O~O!W!tO#O8]O~O!W!tO#O8^O~O!t8mO~O!t8vO|'jX}'jX~O!t;bO|'hX}'hX~O#O8wO~O#O8xO~O'T8|O~P!$ZO#O9RO~O#O9SO~O!W!tO#O9TO~O!W!tO#O9UO~O!W!tO#O9VO~O!^!Xa^!Xa&{!Xa~P#>gO#O9WO~O!W!tO#O8wO~O!W!tO#O8xO~O!W!tO#O9WO~OP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R9oO']QOY#Qii#Qi![#Qi!^#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi'e#Qi'l#Qi'm#Qi^#Qi&{#Qi~O#S#Qi#T#Qi#U#Qi~P&3mO#S9pO#T9pO#U9pO~P&3mOP#ZOi9qOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R9oO#S9pO#T9pO#U9pO']QOY#Qi![#Qi!^#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi'e#Qi'l#Qi'm#Qi^#Qi&{#Qi~O#V#Qi~P&5{O#V9rO~P&5{OP#ZOY#aOi9qOq!xOr!xOt!yO![9sO!]!vO!_!wO!e#ZO#R9oO#S9pO#T9pO#U9pO#V9rO#W9sO#X9sO#Y9sO']QO!^#Qi#]#Qi#_#Qi#`#Qi'e#Qi'l#Qi'm#Qi^#Qi&{#Qi~O#Z#Qi~P&8TO#Z9tO~P&8TOP#ZOY#aOi9qOq!xOr!xOt!yO![9sO!]!vO!_!wO!e#ZO#R9oO#S9pO#T9pO#U9pO#V9rO#W9sO#X9sO#Y9sO#Z9tO']QO'l!zO!^#Qi#_#Qi#`#Qi'e#Qi'm#Qi^#Qi&{#Qi~O#]#Qi~P&:]O#]9vO~P&:]OP#ZOY#aOi9qOq!xOr!xOt!yO![9sO!]!vO!_!wO!e#ZO#R9oO#S9pO#T9pO#U9pO#V9rO#W9sO#X9sO#Y9sO#Z9tO#]9vO']QO'l!zO'm!{O!^#Qi#`#Qi'e#Qi^#Qi&{#Qi~O#_#Qi~P&<eO#_9xO~P&<eO#c9XO~P#*WO!^#di^#di&{#di~P#>gO#O9YO~O#O9ZO~O#O9[O~O#O9]O~O#O9^O~O#O9_O~O#O9`O~O#O9aO~O!^$Oq^$Oq&{$Oq~P#>gO#c9bO~P!$ZO#c9cO~P!$ZO!^#ay^#ay&{#ay~P#>gOP'[XY'[Xi'[Xq'[Xr'[Xt'[X!['[X!]'[X!_'[X!e'[X#R'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#`'[X']'[X'e'[X'l'[X'm'[X~O!t9zO#e9zO!^'[X^'[X&{'[X~P&@uO!t9zO~O'T:dO~P!$ZO#c:mO~P#*WO#O:rO~O!W!tO#O:rO~O!t;bO~O'T;cO~P!$ZO#c;dO~P#*WO!t;bO#e;bO|'[X}'[X~P#,RO|!Xa}!Xa#c!Xa~P#JoO#R;VO~P$GzOP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO']QOY#Qi|#Qi}#Qi![#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#Z#Qi#]#Qi#_#Qi#`#Qi'e#Qi'l#Qi'm#Qi#c#Qi~Oi#Qi~P&DwOi;XO~P&DwOP#ZOi;XOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO#V;YO']QO|#Qi}#Qi#Z#Qi#]#Qi#_#Qi#`#Qi'e#Qi'l#Qi'm#Qi#c#Qi~OY#Qi![#Qi#W#Qi#X#Qi#Y#Qi~P&GPOY8lO![;ZO#W;ZO#X;ZO#Y;ZO~P&GPOP#ZOY8lOi;XOq!xOr!xOt!yO![;ZO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO#V;YO#W;ZO#X;ZO#Y;ZO#Z;[O']QO|#Qi}#Qi#]#Qi#_#Qi#`#Qi'e#Qi'm#Qi#c#Qi~O'l#Qi~P&IeO'l!zO~P&IeOP#ZOY8lOi;XOq!xOr!xOt!yO![;ZO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO#V;YO#W;ZO#X;ZO#Y;ZO#Z;[O#];^O']QO'l!zO|#Qi}#Qi#_#Qi#`#Qi'e#Qi#c#Qi~O'm#Qi~P&KmO'm!{O~P&KmOP#ZOY8lOi;XOq!xOr!xOt!yO![;ZO!]!vO!_!wO!e#ZO#R;VO#S;WO#T;WO#U;WO#V;YO#W;ZO#X;ZO#Y;ZO#Z;[O#];^O#_;`O']QO'l!zO'm!{O~O|#Qi}#Qi#`#Qi'e#Qi#c#Qi~P&MuO|#di}#di#c#di~P#JoO|$Oq}$Oq#c$Oq~P#JoO|#ay}#ay#c#ay~P#JoO#n~!]!m!o!|!}'q$T$V$Y$k$u$v$w%O%Q%T%U%W%Y~TS#n'q#p'Y'P&}#Sx~",goto:"$!x(OPPPPPPP(PP(aP)|PPPP._PP.t4x6k7QP7QPPP7QP7QP8oPP8tP9]PPPP?RPPPP?RBoPPPBuDxP?RPGgPPPPIv?RPPPPPLW?RPP!!T!#QPPP!#UP!#^!$_P?R?R!'x!+y!1w!1w!6WPPP!6_?RPPPPPPPPP!:TP!;uPP?R!=_P?RP?R?R?R?RP?R!?zPP!CoP!G`!Gh!Gl!GlP!ClP!Gp!GpP!KaP!Ke?R?R!Kk# _7QP7QP7Q7QP#!v7Q7Q#$l7Q7Q7Q#&o7Q7Q#']#)W#)W#)[#)W#)dP#)WP7Q#*`7Q#+k7Q7Q._PPP#,yPPP#-c#-cP#-cP#-x#-cPP#.OP#-uP#-u#.b!#Y#-u#/P#/V#/Y(P#/](PP#/d#/d#/dP(PP(PP(PP(PPP(PP#/j#/mP#/m(PPPP(PP(PP(PP(PP(PP(P(P#/q#/{#0R#0a#0g#0m#0w#0}#1X#1_#1m#1s#1y#2a#2v#4Z#4i#4o#4u#4{#5R#5]#5c#5i#5s#5}#6TPPPPPPPP#6ZPP#6}#:{PP#<`#<i#<sP#AS#DVP#K}P#LR#LU#LX#Ld#LgP#Lj#Ln#M]#NQ#NU#NhPP#Nl#Nr#NvP#Ny#N}$ Q$ p$!W$!]$!`$!c$!i$!l$!p$!tmgOSi{!k$V%^%a%b%d*_*d.x.{Q$dlQ$knQ%UwS&O!`*zQ&c!gS(]#u(bQ)W$eQ)d$mQ*O%OQ+Q&VS+W&[+YQ+h&dQ-P(dQ.g*PU/l+[+]+^S2O.[2QS3Y/n/pU4o2T2U2VQ5g3]S6X4p4qR7U6Z$hZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V%V%Y%^%`%a%b%d%h%s%{&W&^&h&t&x's(u(|*Z*_*d+c+j+{,R-Y-^-f-p._.p.q.r.t.x.{.}/y0T1s2]2p2r2s4w5V8^8x9U9]9`x'[#Y8V8Y8_8`8a8b8c8d8e8f8g8h8i8m8|9X:|;k;|Q(m#|Q)]$gQ*Q%RQ*X%ZQ+s8nQ-k)QQ.o*VQ1l-qQ2e.hQ3g8o!O:s$i/f3T5a6o7a7u9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m!q;l#h&P'm*s*v,W/]0g1{2|6R8]8j8v8w9T9V9W9[9^9_9a:r;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;dpdOSiw{!k$V%T%^%a%b%d*_*d.x.{R*S%V(WVOSTijm{!Q!U!Z!h!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:y:z:{:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|W!aRU!^&PQ$]kQ$clS$hn$mv$rpq!o!r$T$p&X&l&o)h)i)j*]*t+T+m+o/R/{Q$zuQ&`!fQ&b!gS(P#r(ZS)V$d$eQ)Z$gQ)g$oQ)y$|Q)}%OS+g&c&dQ,m(QQ-o)WQ-u)^Q-x)bQ.b)zS.f*O*PQ/w+hQ0o,iQ1k-qQ1n-tQ1q-zQ2d.gQ3q0pR5}4]!W$al!g$c$d$e%}&b&c&d([)V)W*w+V+g+h,y-o/b/i/m/w1U3W3[5e6rQ)O$]Q)o$wQ)r$xQ)|%OQ-|)gQ.a)yU.e)}*O*PQ2_.bS2c.f.gQ4j1}Q4|2dS6V4k4nS7S6W6YQ7l7TR7z7m[#x`$_(j:u;j;{S$wr%TQ$xsQ$ytR)m$u$X#w`!t!v#a#r#t#}$O$S&_'x'z'{(S(W(h(i({(})Q)n)q+d+x,p,r-[-e-g.R.U.^.`0n0w1R1Y1`1c1g1t2[2^3t4Q4Y4s4x6Q6^7X8l8p8q8r8s8t8u8}9O9P9Q9R9S9Y9Z9b9c:u;R;S;j;{V(n#|8n8oU&S!`$q*}Q&{!xQ)a$jQ,`'tQ.V)sQ1Z-XR4f1y(UbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|%]#^Y!]!l$Z%r%v&w&}'O'P'Q'R'S'T'U'V'W'X'Z'^'a'k)`*o*x+R+i+},Q,S,_/W/Z/x0S0W0X0Y0Z0[0]0^0_0`0a0b0c0f0k3O3R3b3e3k4h5]5`5k6m7O7_7s7}8W8X8z8{:R:W:X:Y:Z:[:]:^:_:`:a:b:c:n:q;Q;i;m;n;o;p;q;r;s;t;u;v;w;x;y;z(VbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|Q&Q!`R/^*zY%z!`&O&V*z+QS([#u(bS+V&[+YS,y(](dQ,z(^Q-Q(eQ.X)uS/i+W+[S/m+]+^S/q+_2SQ1U-PQ1W-RQ1X-SS1}.[2QS3W/l/nQ3Z/oQ3[/pS4k2O2VS4n2T2US5e3Y3]Q5h3^S6W4o4pQ6Y4qQ6r5gS7T6X6ZR7m7UlgOSi{!k$V%^%a%b%d*_*d.x.{Q%f!OW&p!s8]8^:rQ)T$bQ)w$zQ)x${Q+e&aW+w&t8w8x9WW-](u9T9U9VQ-m)UQ.Z)vQ/P*fQ/Q*gQ/Y*uQ/u+fW1_-^9[9]9^Q1h-nW1j-p9_9`9aQ2}/[Q3Q/dQ3`/vQ4[1iQ5Z2zQ5^3PQ5b3VQ5i3aQ6k5[Q6n5cQ7`6pQ7q7]R7t7b%S#]Y!]!l%r%v&w&}'O'P'Q'R'S'T'U'V'W'X'Z'^'a'k)`*o*x+R+i+},Q,_/W/Z/x0S0W0X0Y0Z0[0]0^0_0`0a0b0c0f0k3O3R3b3e3k4h5]5`5k6m7O7_7s7}8W8X8z8{:W:X:Y:Z:[:]:^:_:`:a:b:c:n:q;Q;i;n;o;p;q;r;s;t;u;v;w;x;y;zU(g#v&s0eX(y$Z,S:R;m%S#[Y!]!l%r%v&w&}'O'P'Q'R'S'T'U'V'W'X'Z'^'a'k)`*o*x+R+i+},Q,_/W/Z/x0S0W0X0Y0Z0[0]0^0_0`0a0b0c0f0k3O3R3b3e3k4h5]5`5k6m7O7_7s7}8W8X8z8{:W:X:Y:Z:[:]:^:_:`:a:b:c:n:q;Q;i;n;o;p;q;r;s;t;u;v;w;x;y;zQ']#]W(x$Z,S:R;mR-_(y(UbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|Q%ayQ%bzQ%d|Q%e}R.w*bQ&]!fQ(z$]Q+b&`S-d)O)gS/r+`+aW1b-a-b-c-|S3_/s/tU4X1d1e1fU5{4W4b4cQ6{5|R7h6}T+X&[+YS+X&[+YT2P.[2QS&j!n.uQ,l(PQ,w([S/h+V1}Q0t,mS1O,x-QU3X/m/q4nQ3p0oS4O1V1XU5f3Z3[6YQ5q3qQ5z4RR6s5hQ!uXS&i!n.uQ(v$UQ)R$`Q)X$fQ+k&jQ,k(PQ,v([Q,{(_Q-l)SQ.c){S/g+V1}S0s,l,mS0},w-QQ1Q,zQ1T,|Q2a.dW3U/h/m/q4nQ3o0oQ3s0tS3x1O1XQ4P1WQ4z2bW5d3X3Z3[6YS5p3p3qQ5u3zQ5x4OQ6T4iQ6b4{S6q5f5hQ6u5qQ6w5vQ6z5zQ7Q6UQ7Z6cQ7c6sQ7f6yQ7j7RQ7x7kQ8P7yQ8T8QQ9m9fQ9n9gQ:S;fQ:g:OQ:h:PQ:i:QQ:j:TQ:k:UR:l:V$jWORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&t&x's(u(|*Z*_*d+c+j+{,R-Y-^-f-p._.p.q.r.t.x.{.}/y0T1s2]2p2r2s4w5V8^8x9U9]9`S!um!hx9d#Y8V8Y8_8`8a8b8c8d8e8f8g8h8i8m8|9X:|;k;|!O9e$i/f3T5a6o7a7u9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:mQ9m:yQ9n:zQ:S:{!q;e#h&P'm*s*v,W/]0g1{2|6R8]8j8v8w9T9V9W9[9^9_9a:r;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d$jXORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&t&x's(u(|*Z*_*d+c+j+{,R-Y-^-f-p._.p.q.r.t.x.{.}/y0T1s2]2p2r2s4w5V8^8x9U9]9`Q$Ua!W$`l!g$c$d$e%}&b&c&d([)V)W*w+V+g+h,y-o/b/i/m/w1U3W3[5e6rS$fm!hQ)S$aQ){%OW.d)|)}*O*PU2b.e.f.gQ4i1}S4{2c2dU6U4j4k4nQ6c4|U7R6V6W6YS7k7S7TS7y7l7mQ8Q7zx9f#Y8V8Y8_8`8a8b8c8d8e8f8g8h8i8m8|9X:|;k;|!O9g$i/f3T5a6o7a7u9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:mQ:O:vQ:P:wQ:Q:xQ:T:yQ:U:zQ:V:{!q;f#h&P'm*s*v,W/]0g1{2|6R8]8j8v8w9T9V9W9[9^9_9a:r;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d$b[OSTij{!Q!U!Z!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V%V%Y%^%`%a%b%d%h%s%{&W&^&h&t&x's(u(|*Z*_*d+c+j+{,R-Y-^-f-p._.p.q.r.t.x.{.}/y0T1s2]2p2r2s4w5V8^8x9U9]9`U!eRU!^v$rpq!o!r$T$p&X&l&o)h)i)j*]*t+T+m+o/R/{Q*Y%Zx9h#Y8V8Y8_8`8a8b8c8d8e8f8g8h8i8m8|9X:|;k;|Q9l&P!O:t$i/f3T5a6o7a7u9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m!o;g#h'm*s*v,W/]0g1{2|6R8]8j8v8w9T9V9W9[9^9_9a:r;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;dS&T!`$qR/`*}$hZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V%V%Y%^%`%a%b%d%h%s%{&W&^&h&t&x's(u(|*Z*_*d+c+j+{,R-Y-^-f-p._.p.q.r.t.x.{.}/y0T1s2]2p2r2s4w5V8^8x9U9]9`x'[#Y8V8Y8_8`8a8b8c8d8e8f8g8h8i8m8|9X:|;k;|Q*X%Z!O:s$i/f3T5a6o7a7u9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m!q;l#h&P'm*s*v,W/]0g1{2|6R8]8j8v8w9T9V9W9[9^9_9a:r;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d!Q#SY!]$Z%r%v&w'U'V'W'X'^'a*o+R+i+},_/x0S0c3b3e8W8Xh8e'Z,S0_0`0a0b0f3k5k:b;Q;in9u)`3R5`6m7_7s7}:R:^:_:`:a:c:n:qw;]'k*x/W/Z0k3O4h5]7O8z8{;m;t;u;v;w;x;y;z|#UY!]$Z%r%v&w'W'X'^'a*o+R+i+},_/x0S0c3b3e8W8Xd8g'Z,S0a0b0f3k5k:b;Q;ij9w)`3R5`6m7_7s7}:R:`:a:c:n:qs;_'k*x/W/Z0k3O4h5]7O8z8{;m;v;w;x;y;zx#YY!]$Z%r%v&w'^'a*o+R+i+},_/x0S0c3b3e8W8Xp'{#p&u(t,g,o-T-U0Q1^3n4S9{:o:p:};h`:|'Z,S0f3k5k:b;Q;i!^;R&q'`(O(U+a+v,s-`-c.Q.S/t0P0u0y1f1v1x2Y3d3u3{4U4Z4c4v5j5s5y6`Y;S0d3j5l6t7df;k)`3R5`6m7_7s7}:R:c:n:qo;|'k*x/W/Z0k3O4h5]7O8z8{;m;x;y;z(UbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|S#i_#jR0h,V(]^ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,V,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|S#d]#kT'd#f'hT#e]#kT'f#f'h(]_ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&t&x'm's(u(|*Z*_*d*s*v+c+j+{,R,V,W-Y-^-f-p._.p.q.r.t.x.{.}/]/f/y0T0g1s1{2]2p2r2s2|3T4w5V5a6R6o7a7u8V8Y8]8^8_8`8a8b8c8d8e8f8g8h8i8j8m8v8w8x8|9T9U9V9W9X9[9]9^9_9`9a9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m:r:|;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d;k;|T#i_#jQ#l_R'o#j$jaORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&t&x's(u(|*Z*_*d+c+j+{,R-Y-^-f-p._.p.q.r.t.x.{.}/y0T1s2]2p2r2s4w5V8^8x9U9]9`x:v#Y8V8Y8_8`8a8b8c8d8e8f8g8h8i8m8|9X:|;k;|!O:w$i/f3T5a6o7a7u9i9j9o9p9q9r9s9t9u9v9w9x9y9z:d:m!q:x#h&P'm*s*v,W/]0g1{2|6R8]8j8v8w9T9V9W9[9^9_9a:r;T;U;V;W;X;Y;Z;[;];^;_;`;a;b;c;d#{cOSUi{!Q!U!k!s!y#h$V%V%Y%Z%^%`%a%b%d%h%{&^&t'm(u(|*Z*_*d+c,W-Y-^-f-p._.p.q.r.t.x.{.}0g1s2]2p2r2s4w5V8]8^8w8x9T9U9V9W9[9]9^9_9`9a:rx#v`!v#}$O$S'x'z'{(S(h(i+x-[0n1Y:u;R;S;j;{!z&s!t#a#r#t&_(W({(})Q)n)q+d,p,r-e-g.R.U.^.`0w1R1`1c1g1t2[2^3t4Q4Y4s4x6Q6^7X8p8r8t8}9P9R9Y9bQ(r$Qc0e8l8q8s8u9O9Q9S9Z9cx#s`!v#}$O$S'x'z'{(S(h(i+x-[0n1Y:u;R;S;j;{S(_#u(bQ(s$RQ,|(`!z9|!t#a#r#t&_(W({(})Q)n)q+d,p,r-e-g.R.U.^.`0w1R1`1c1g1t2[2^3t4Q4Y4s4x6Q6^7X8p8r8t8}9P9R9Y9bb9}8l8q8s8u9O9Q9S9Z9cQ:e;OR:f;PleOSi{!k$V%^%a%b%d*_*d.x.{Q(V#tQ*k%kQ*l%mR0v,p$W#w`!t!v#a#r#t#}$O$S&_'x'z'{(S(W(h(i({(})Q)n)q+d+x,p,r-[-e-g.R.U.^.`0n0w1R1Y1`1c1g1t2[2^3t4Q4Y4s4x6Q6^7X8l8p8q8r8s8t8u8}9O9P9Q9R9S9Y9Z9b9c:u;R;S;j;{Q)p$xQ.T)rQ1w.SR4e1xT(a#u(bS(a#u(bT2P.[2QQ)R$`Q,{(_Q-l)SQ.c){Q2a.dQ4z2bQ6T4iQ6b4{Q7Q6UQ7Z6cQ7j7RQ7x7kQ8P7yR8T8Qp'x#p&u(t,g,o-T-U0Q1^3n4S9{:o:p:};h!^8}&q'`(O(U+a+v,s-`-c.Q.S/t0P0u0y1f1v1x2Y3d3u3{4U4Z4c4v5j5s5y6`Z9O0d3j5l6t7dr'z#p&u(t,e,g,o-T-U0Q1^3n4S9{:o:p:};h!`9P&q'`(O(U+a+v,s-`-c.Q.S/t/}0P0u0y1f1v1x2Y3d3u3{4U4Z4c4v5j5s5y6`]9Q0d3j5l5m6t7dpdOSiw{!k$V%T%^%a%b%d*_*d.x.{Q%QvR*Z%ZpdOSiw{!k$V%T%^%a%b%d*_*d.x.{R%QvQ)t$yR.P)mqdOSiw{!k$V%T%^%a%b%d*_*d.x.{Q.])yS2Z.a.bW4r2W2X2Y2_U6]4t4u4vU7V6[6_6`Q7n7WR7{7oQ%XwR*T%TR2h.jR6e4}S$hn$mR-u)^Q%^xR*_%_R*e%eT.y*d.{QiOQ!kST$Yi!kQ!WQR%p!WQ![RU%t![%u*pQ%u!]R*p%vQ*{&QR/_*{Q+y&uR0R+yQ+|&wS0U+|0VR0V+}Q+Y&[R/j+YQ&Y!cQ*q%wT+U&Y*qQ+O&TR/a+OQ&m!pQ+l&kU+p&m+l/|R/|+qQ'h#fR,X'hQ#j_R'n#jQ#`YW'_#`*n3f8kQ*n8WS+r8X8{Q3f8zR8k'kQ,j(PW0q,j0r3r5rU0r,k,l,mS3r0s0tR5r3s#s'v#p&q&u'`(O(U(o(p(t+a+t+u+v,e,f,g,o,s-T-U-`-c.Q.S/t/}0O0P0Q0d0u0y1^1f1v1x2Y3d3h3i3j3n3u3{4S4U4Z4c4v5j5l5m5n5s5y6`6t7d9{:o:p:};hQ,q(UU0x,q0z3vQ0z,sR3v0yQ(b#uR,}(bQ(k#yR-W(kQ1a-`R4V1aQ)k$sR.O)kQ1z.VS4g1z6SR6S4hQ)v$zR.Y)vQ2Q.[R4l2QQ.i*QS2f.i5OR5O2hQ-r)ZS1m-r4^R4^1nQ)_$hR-v)_Q.{*dR2v.{WhOSi!kQ%c{Q(w$VQ*^%^Q*`%aQ*a%bQ*c%dQ.v*_S.y*d.{R2u.xQ$XfQ%g!PQ%j!RQ%l!SQ%n!TQ)f$nQ)l$tQ*S%XQ*i%iS.l*T*WQ/S*hQ/T*kQ/U*lS/e+V1}Q0{,uQ0|,vQ1S,{Q1p-yQ1u.QQ2`.cQ2j.nQ2t.wY3S/g/h/m/q4nQ3w0}Q3y1PQ3|1TQ4a1rQ4d1vQ4y2aQ5P2i[5_3R3U3X3Z3[6YQ5t3xQ5w3}Q6O4_Q6a4zQ6f5QW6l5`5d5f5hQ6v5uQ6x5xQ6|6PQ7P6TQ7Y6bU7^6m6q6sQ7e6wQ7g6zQ7i7QQ7p7ZS7r7_7cQ7v7fQ7w7jQ7|7sQ8O7xQ8R7}Q8S8PR8U8TQ$blQ&a!gU)U$c$d$eQ*u%}U+f&b&c&dQ,u([S-n)V)WQ/[*wQ/d+VS/v+g+hQ1P,yQ1i-oQ3P/bS3V/i/mQ3a/wQ3}1US5c3W3[Q6p5eR7b6rW#q`:u;j;{R)P$_Y#y`$_:u;j;{R-V(jQ#p`S&q!t)QQ&u!vQ'`#aQ(O#rQ(U#tQ(o#}Q(p$OQ(t$SQ+a&_Q+t8pQ+u8rQ+v8tQ,e'xQ,f'zQ,g'{Q,o(SQ,s(WQ-T(hQ-U(id-`({-e.^1c2[4Y4s6Q6^7XQ-c(}Q.Q)nQ.S)qQ/t+dQ/}8}Q0O9PQ0P9RQ0Q+xQ0d8lQ0u,pQ0y,rQ1^-[Q1f-gQ1v.RQ1x.UQ2Y.`Q3d9YQ3h8qQ3i8sQ3j8uQ3n0nQ3u0wQ3{1RQ4S1YQ4U1`Q4Z1gQ4c1tQ4v2^Q5j9bQ5l9SQ5m9OQ5n9QQ5s3tQ5y4QQ6`4xQ6t9ZQ7d9cQ9{:uQ:o;RQ:p;SQ:};jR;h;{lfOSi{!k$V%^%a%b%d*_*d.x.{S!mU%`Q%i!QQ%o!UW&p!s8]8^:rQ&|!yQ'l#hS*W%V%YQ*[%ZQ*h%hQ*r%{Q+`&^W+w&t8w8x9WQ,]'mW-](u9T9U9VQ-b(|Q.s*ZQ/s+cQ0j,WQ1[-YW1_-^9[9]9^Q1e-fW1j-p9_9`9aQ2X._Q2l.pQ2m.qQ2o.rQ2q.tQ2x.}Q3l0gQ4b1sQ4u2]Q5U2pQ5W2rQ5X2sQ6_4wR6h5V!vYOSUi{!Q!k!y$V%V%Y%Z%^%`%a%b%d%h%{&^(|*Z*_*d+c-Y-f._.p.q.r.t.x.{.}1s2]2p2r2s4w5VQ!]RS!lT9jQ$ZjQ%r!ZQ%v!^Q&w!wS&}!|9oQ'O!}Q'P#OQ'Q#PQ'R#QQ'S#RQ'T#SQ'U#TQ'V#UQ'W#VQ'X#WQ'Z#YQ'^#_Q'a#bW'k#h'm,W0gQ)`$iQ*o%sS*x&P/]Q+R&WQ+i&hQ+}&xS,Q8V;TQ,S8YQ,_'sQ/W*sQ/Z*vQ/x+jQ0S+{S0W8_;VQ0X8`Q0Y8aQ0Z8bQ0[8cQ0]8dQ0^8eQ0_8fQ0`8gQ0a8hQ0b8iQ0c,RQ0f8mQ0k8jQ3O8vQ3R/fQ3b/yQ3e0TQ3k8|Q4h1{Q5]2|Q5`3TQ5k9XQ6m5aQ7O6RQ7_6oQ7s7aQ7}7u[8W!U8^8x9U9]9`Y8X!s&t(u-^-pY8z8]8w9T9[9_Y8{9V9W9^9a:rQ:R9iQ:W9pQ:X9qQ:Y9rQ:Z9sQ:[9tQ:]9uQ:^9vQ:_9wQ:`9xQ:a9yQ:b:|Q:c9zQ:n:dQ:q:mQ;Q;kQ;i;|Q;m;UQ;n;WQ;o;XQ;p;YQ;q;ZQ;r;[Q;s;]Q;t;^Q;u;_Q;v;`Q;w;aQ;x;bQ;y;cR;z;dT!VQ!WR!_RR&R!`S%}!`*zS*w&O&VR/b+QR&v!vR&y!wT!qU$TS!pU$TU$spq*]S&k!o!rQ+n&lQ+q&oQ-})jS/z+m+oR3c/{[!bR!^$p&X)h+Th!nUpq!o!r$T&l&o)j+m+o/{Q.u*]Q/X*tQ2{/RT9k&P)iT!dR$pS!cR$pS%w!^)hS*y&P)iQ+S&XR/c+TT&U!`$qQ#f]R'q#kT'g#f'hR0i,VT(R#r(ZR(X#tQ-a({Q1d-eQ2W.^Q4W1cQ4t2[Q5|4YQ6[4sQ6}6QQ7W6^R7o7XlgOSi{!k$V%^%a%b%d*_*d.x.{Q%WwR*S%TV$tpq*]R.W)sR*R%RQ$lnR)e$mR)[$gT%[x%_T%]x%_T.z*d.{",nodeNames:"⚠ ArithOp ArithOp extends LineComment BlockComment Script ExportDeclaration export Star as VariableName from String ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyNameDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract PropertyDeclaration readonly Optional TypeAnnotation Equals FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var const TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:321,nodeProps:[[Fc.group,-26,7,14,16,53,174,178,182,183,185,188,191,202,204,210,212,214,216,219,225,229,231,233,235,237,239,240,"Statement",-30,11,13,23,26,27,37,38,39,40,42,47,55,63,69,70,83,84,93,94,109,112,114,115,116,117,119,120,138,139,141,"Expression",-21,22,24,28,30,142,144,146,147,149,150,151,153,154,155,157,158,159,168,170,172,173,"Type",-2,74,78,"ClassItem"],[Fc.closedBy,36,"]",46,"}",61,")",122,"JSXSelfCloseEndTag JSXEndTag",136,"JSXEndTag"],[Fc.openedBy,41,"[",45,"{",60,"(",121,"JSXStartTag",131,"JSXStartTag JSXStartCloseTag"]],skippedNodes:[0,4,5],repeatNodeCount:27,tokenData:"!Ck~R!ZOX$tX^%S^p$tpq%Sqr&rrs'zst$ttu/wuv2Xvw2|wx3zxy:byz:rz{;S{|<S|}<g}!O<S!O!P<w!P!QAT!Q!R!0Z!R![!2j![!]!8Y!]!^!8l!^!_!8|!_!`!9y!`!a!;U!a!b!<{!b!c$t!c!}/w!}#O!>^#O#P$t#P#Q!>n#Q#R!?O#R#S/w#S#T!?c#T#o/w#o#p!?s#p#q!?x#q#r!@`#r#s!@r#s#y$t#y#z%S#z$f$t$f$g%S$g#BY/w#BY#BZ!AS#BZ$IS/w$IS$I_!AS$I_$I|/w$I|$JO!AS$JO$JT/w$JT$JU!AS$JU$KV/w$KV$KW!AS$KW&FU/w&FU&FV!AS&FV~/wW$yR#zWO!^$t!_#o$t#p~$t,T%Zg#zW&}+{OX$tX^%S^p$tpq%Sq!^$t!_#o$t#p#y$t#y#z%S#z$f$t$f$g%S$g#BY$t#BY#BZ%S#BZ$IS$t$IS$I_%S$I_$I|$t$I|$JO%S$JO$JT$t$JT$JU%S$JU$KV$t$KV$KW%S$KW&FU$t&FU&FV%S&FV~$t$T&yS#zW!e#{O!^$t!_!`'V!`#o$t#p~$t$O'^S#Z#v#zWO!^$t!_!`'j!`#o$t#p~$t$O'qR#Z#v#zWO!^$t!_#o$t#p~$t'u(RZ#zW]!ROY'zYZ(tZr'zrs*Rs!^'z!^!_*e!_#O'z#O#P,q#P#o'z#o#p*e#p~'z&r(yV#zWOr(trs)`s!^(t!^!_)p!_#o(t#o#p)p#p~(t&r)gR#u&j#zWO!^$t!_#o$t#p~$t&j)sROr)prs)|s~)p&j*RO#u&j'u*[R#u&j#zW]!RO!^$t!_#o$t#p~$t'm*jV]!ROY*eYZ)pZr*ers+Ps#O*e#O#P+W#P~*e'm+WO#u&j]!R'm+ZROr*ers+ds~*e'm+kU#u&j]!ROY+}Zr+}rs,fs#O+}#O#P,k#P~+}!R,SU]!ROY+}Zr+}rs,fs#O+}#O#P,k#P~+}!R,kO]!R!R,nPO~+}'u,vV#zWOr'zrs-]s!^'z!^!_*e!_#o'z#o#p*e#p~'z'u-fZ#u&j#zW]!ROY.XYZ$tZr.Xrs/Rs!^.X!^!_+}!_#O.X#O#P/c#P#o.X#o#p+}#p~.X!Z.`Z#zW]!ROY.XYZ$tZr.Xrs/Rs!^.X!^!_+}!_#O.X#O#P/c#P#o.X#o#p+}#p~.X!Z/YR#zW]!RO!^$t!_#o$t#p~$t!Z/hT#zWO!^.X!^!_+}!_#o.X#o#p+}#p~.X&i0S_#zW#pS'Yp'P%kOt$ttu/wu}$t}!O1R!O!Q$t!Q![/w![!^$t!_!c$t!c!}/w!}#R$t#R#S/w#S#T$t#T#o/w#p$g$t$g~/w[1Y_#zW#pSOt$ttu1Ru}$t}!O1R!O!Q$t!Q![1R![!^$t!_!c$t!c!}1R!}#R$t#R#S1R#S#T$t#T#o1R#p$g$t$g~1R$O2`S#T#v#zWO!^$t!_!`2l!`#o$t#p~$t$O2sR#zW#e#vO!^$t!_#o$t#p~$t%r3TU'm%j#zWOv$tvw3gw!^$t!_!`2l!`#o$t#p~$t$O3nS#zW#_#vO!^$t!_!`2l!`#o$t#p~$t'u4RZ#zW]!ROY3zYZ4tZw3zwx*Rx!^3z!^!_5l!_#O3z#O#P7l#P#o3z#o#p5l#p~3z&r4yV#zWOw4twx)`x!^4t!^!_5`!_#o4t#o#p5`#p~4t&j5cROw5`wx)|x~5`'m5qV]!ROY5lYZ5`Zw5lwx+Px#O5l#O#P6W#P~5l'm6ZROw5lwx6dx~5l'm6kU#u&j]!ROY6}Zw6}wx,fx#O6}#O#P7f#P~6}!R7SU]!ROY6}Zw6}wx,fx#O6}#O#P7f#P~6}!R7iPO~6}'u7qV#zWOw3zwx8Wx!^3z!^!_5l!_#o3z#o#p5l#p~3z'u8aZ#u&j#zW]!ROY9SYZ$tZw9Swx/Rx!^9S!^!_6}!_#O9S#O#P9|#P#o9S#o#p6}#p~9S!Z9ZZ#zW]!ROY9SYZ$tZw9Swx/Rx!^9S!^!_6}!_#O9S#O#P9|#P#o9S#o#p6}#p~9S!Z:RT#zWO!^9S!^!_6}!_#o9S#o#p6}#p~9S%V:iR!_$}#zWO!^$t!_#o$t#p~$tZ:yR!^R#zWO!^$t!_#o$t#p~$t%R;]U'Q!R#U#v#zWOz$tz{;o{!^$t!_!`2l!`#o$t#p~$t$O;vS#R#v#zWO!^$t!_!`2l!`#o$t#p~$t$u<ZSi$m#zWO!^$t!_!`2l!`#o$t#p~$t&i<nR|&a#zWO!^$t!_#o$t#p~$t&i=OVq%n#zWO!O$t!O!P=e!P!Q$t!Q![>Z![!^$t!_#o$t#p~$ty=jT#zWO!O$t!O!P=y!P!^$t!_#o$t#p~$ty>QR{q#zWO!^$t!_#o$t#p~$ty>bZ#zWjqO!Q$t!Q![>Z![!^$t!_!g$t!g!h?T!h#R$t#R#S>Z#S#X$t#X#Y?T#Y#o$t#p~$ty?YZ#zWO{$t{|?{|}$t}!O?{!O!Q$t!Q![@g![!^$t!_#R$t#R#S@g#S#o$t#p~$ty@QV#zWO!Q$t!Q![@g![!^$t!_#R$t#R#S@g#S#o$t#p~$ty@nV#zWjqO!Q$t!Q![@g![!^$t!_#R$t#R#S@g#S#o$t#p~$t,TA[`#zW#S#vOYB^YZ$tZzB^z{HT{!PB^!P!Q!*|!Q!^B^!^!_Da!_!`!+u!`!a!,t!a!}B^!}#O!-s#O#P!/o#P#oB^#o#pDa#p~B^XBe[#zWxPOYB^YZ$tZ!PB^!P!QCZ!Q!^B^!^!_Da!_!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^XCb_#zWxPO!^$t!_#Z$t#Z#[CZ#[#]$t#]#^CZ#^#a$t#a#bCZ#b#g$t#g#hCZ#h#i$t#i#jCZ#j#m$t#m#nCZ#n#o$t#p~$tPDfVxPOYDaZ!PDa!P!QD{!Q!}Da!}#OEd#O#PFP#P~DaPEQUxP#Z#[D{#]#^D{#a#bD{#g#hD{#i#jD{#m#nD{PEgTOYEdZ#OEd#O#PEv#P#QDa#Q~EdPEyQOYEdZ~EdPFSQOYDaZ~DaXF_Y#zWOYFYYZ$tZ!^FY!^!_Ed!_#OFY#O#PF}#P#QB^#Q#oFY#o#pEd#p~FYXGSV#zWOYFYYZ$tZ!^FY!^!_Ed!_#oFY#o#pEd#p~FYXGnV#zWOYB^YZ$tZ!^B^!^!_Da!_#oB^#o#pDa#p~B^,TH[^#zWxPOYHTYZIWZzHTz{Ki{!PHT!P!Q!)j!Q!^HT!^!_Mt!_!}HT!}#O!%e#O#P!(x#P#oHT#o#pMt#p~HT,TI]V#zWOzIWz{Ir{!^IW!^!_Jt!_#oIW#o#pJt#p~IW,TIwX#zWOzIWz{Ir{!PIW!P!QJd!Q!^IW!^!_Jt!_#oIW#o#pJt#p~IW,TJkR#zWT+{O!^$t!_#o$t#p~$t+{JwROzJtz{KQ{~Jt+{KTTOzJtz{KQ{!PJt!P!QKd!Q~Jt+{KiOT+{,TKp^#zWxPOYHTYZIWZzHTz{Ki{!PHT!P!QLl!Q!^HT!^!_Mt!_!}HT!}#O!%e#O#P!(x#P#oHT#o#pMt#p~HT,TLu_#zWT+{xPO!^$t!_#Z$t#Z#[CZ#[#]$t#]#^CZ#^#a$t#a#bCZ#b#g$t#g#hCZ#h#i$t#i#jCZ#j#m$t#m#nCZ#n#o$t#p~$t+{MyYxPOYMtYZJtZzMtz{Ni{!PMt!P!Q!$a!Q!}Mt!}#O! w#O#P!#}#P~Mt+{NnYxPOYMtYZJtZzMtz{Ni{!PMt!P!Q! ^!Q!}Mt!}#O! w#O#P!#}#P~Mt+{! eUT+{xP#Z#[D{#]#^D{#a#bD{#g#hD{#i#jD{#m#nD{+{! zWOY! wYZJtZz! wz{!!d{#O! w#O#P!#k#P#QMt#Q~! w+{!!gYOY! wYZJtZz! wz{!!d{!P! w!P!Q!#V!Q#O! w#O#P!#k#P#QMt#Q~! w+{!#[TT+{OYEdZ#OEd#O#PEv#P#QDa#Q~Ed+{!#nTOY! wYZJtZz! wz{!!d{~! w+{!$QTOYMtYZJtZzMtz{Ni{~Mt+{!$f_xPOzJtz{KQ{#ZJt#Z#[!$a#[#]Jt#]#^!$a#^#aJt#a#b!$a#b#gJt#g#h!$a#h#iJt#i#j!$a#j#mJt#m#n!$a#n~Jt,T!%j[#zWOY!%eYZIWZz!%ez{!&`{!^!%e!^!_! w!_#O!%e#O#P!(W#P#QHT#Q#o!%e#o#p! w#p~!%e,T!&e^#zWOY!%eYZIWZz!%ez{!&`{!P!%e!P!Q!'a!Q!^!%e!^!_! w!_#O!%e#O#P!(W#P#QHT#Q#o!%e#o#p! w#p~!%e,T!'hY#zWT+{OYFYYZ$tZ!^FY!^!_Ed!_#OFY#O#PF}#P#QB^#Q#oFY#o#pEd#p~FY,T!(]X#zWOY!%eYZIWZz!%ez{!&`{!^!%e!^!_! w!_#o!%e#o#p! w#p~!%e,T!(}X#zWOYHTYZIWZzHTz{Ki{!^HT!^!_Mt!_#oHT#o#pMt#p~HT,T!)qc#zWxPOzIWz{Ir{!^IW!^!_Jt!_#ZIW#Z#[!)j#[#]IW#]#^!)j#^#aIW#a#b!)j#b#gIW#g#h!)j#h#iIW#i#j!)j#j#mIW#m#n!)j#n#oIW#o#pJt#p~IW,T!+TV#zWS+{OY!*|YZ$tZ!^!*|!^!_!+j!_#o!*|#o#p!+j#p~!*|+{!+oQS+{OY!+jZ~!+j$P!,O[#zW#e#vxPOYB^YZ$tZ!PB^!P!QCZ!Q!^B^!^!_Da!_!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^]!,}[#mS#zWxPOYB^YZ$tZ!PB^!P!QCZ!Q!^B^!^!_Da!_!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^X!-xY#zWOY!-sYZ$tZ!^!-s!^!_!.h!_#O!-s#O#P!/T#P#QB^#Q#o!-s#o#p!.h#p~!-sP!.kTOY!.hZ#O!.h#O#P!.z#P#QDa#Q~!.hP!.}QOY!.hZ~!.hX!/YV#zWOY!-sYZ$tZ!^!-s!^!_!.h!_#o!-s#o#p!.h#p~!-sX!/tV#zWOYB^YZ$tZ!^B^!^!_Da!_#oB^#o#pDa#p~B^y!0bd#zWjqO!O$t!O!P!1p!P!Q$t!Q![!2j![!^$t!_!g$t!g!h?T!h#R$t#R#S!2j#S#U$t#U#V!4Q#V#X$t#X#Y?T#Y#b$t#b#c!3p#c#d!5`#d#l$t#l#m!6h#m#o$t#p~$ty!1wZ#zWjqO!Q$t!Q![!1p![!^$t!_!g$t!g!h?T!h#R$t#R#S!1p#S#X$t#X#Y?T#Y#o$t#p~$ty!2q_#zWjqO!O$t!O!P!1p!P!Q$t!Q![!2j![!^$t!_!g$t!g!h?T!h#R$t#R#S!2j#S#X$t#X#Y?T#Y#b$t#b#c!3p#c#o$t#p~$ty!3wR#zWjqO!^$t!_#o$t#p~$ty!4VW#zWO!Q$t!Q!R!4o!R!S!4o!S!^$t!_#R$t#R#S!4o#S#o$t#p~$ty!4vW#zWjqO!Q$t!Q!R!4o!R!S!4o!S!^$t!_#R$t#R#S!4o#S#o$t#p~$ty!5eV#zWO!Q$t!Q!Y!5z!Y!^$t!_#R$t#R#S!5z#S#o$t#p~$ty!6RV#zWjqO!Q$t!Q!Y!5z!Y!^$t!_#R$t#R#S!5z#S#o$t#p~$ty!6mZ#zWO!Q$t!Q![!7`![!^$t!_!c$t!c!i!7`!i#R$t#R#S!7`#S#T$t#T#Z!7`#Z#o$t#p~$ty!7gZ#zWjqO!Q$t!Q![!7`![!^$t!_!c$t!c!i!7`!i#R$t#R#S!7`#S#T$t#T#Z!7`#Z#o$t#p~$t%w!8cR!WV#zW#c%hO!^$t!_#o$t#p~$t!P!8sR^w#zWO!^$t!_#o$t#p~$t+c!9XR'Ud![%Y#n&s'qP!P!Q!9b!^!_!9g!_!`!9tW!9gO#|W#v!9lP#V#v!_!`!9o#v!9tO#e#v#v!9yO#W#v%w!:QT!t%o#zWO!^$t!_!`!:a!`!a!:t!a#o$t#p~$t$O!:hS#Z#v#zWO!^$t!_!`'j!`#o$t#p~$t$P!:{R#O#w#zWO!^$t!_#o$t#p~$t%w!;aT'T!s#W#v#wS#zWO!^$t!_!`!;p!`!a!<Q!a#o$t#p~$t$O!;wR#W#v#zWO!^$t!_#o$t#p~$t$O!<XT#V#v#zWO!^$t!_!`2l!`!a!<h!a#o$t#p~$t$O!<oS#V#v#zWO!^$t!_!`2l!`#o$t#p~$t%w!=SV'e%o#zWO!O$t!O!P!=i!P!^$t!_!a$t!a!b!=y!b#o$t#p~$t$`!=pRr$W#zWO!^$t!_#o$t#p~$t$O!>QS#zW#`#vO!^$t!_!`2l!`#o$t#p~$t&e!>eRt&]#zWO!^$t!_#o$t#p~$tZ!>uRyR#zWO!^$t!_#o$t#p~$t$O!?VS#]#v#zWO!^$t!_!`2l!`#o$t#p~$t$P!?jR#zW']#wO!^$t!_#o$t#p~$t~!?xO!O~%r!@PT'l%j#zWO!^$t!_!`2l!`#o$t#p#q!=y#q~$t$u!@iR}$k#zW'_QO!^$t!_#o$t#p~$tX!@yR!fP#zWO!^$t!_#o$t#p~$t,T!Aar#zW#pS'Yp'P%k&}+{OX$tX^%S^p$tpq%Sqt$ttu/wu}$t}!O1R!O!Q$t!Q![/w![!^$t!_!c$t!c!}/w!}#R$t#R#S/w#S#T$t#T#o/w#p#y$t#y#z%S#z$f$t$f$g%S$g#BY/w#BY#BZ!AS#BZ$IS/w$IS$I_!AS$I_$I|/w$I|$JO!AS$JO$JT/w$JT$JU!AS$JU$KV/w$KV$KW!AS$KW&FU/w&FU&FV!AS&FV~/w",tokenizers:[zm,Ym,Lm,0,1,2,3,4,5,6,7,8,Fm],topRules:{Script:[0,6]},dialects:{jsx:12773,ts:12775},dynamicPrecedences:{139:1,166:1},specialized:[{term:277,get:(e,t)=>function(e,t){return"extends"==e&&t.dialectEnabled(1)?3:-1}(e,t)<<1|1},{term:277,get:e=>Zm[e]||-1},{term:286,get:e=>qm[e]||-1},{term:58,get:e=>Bm[e]||-1}],tokenPrec:12795});Hd("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Hd("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Hd("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Hd("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),Hd("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Hd('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Hd('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"});const jm=au.define({parser:Mm.configure({props:[ku.add({IfStatement:Tu({except:/^\s*({|else\b)/}),TryStatement:Tu({except:/^\s*({|catch|finally)\b/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),i=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:i?1:2)*e.unit},Block:function(e){let t=e.closing,n=e.align,i=void 0===n||n,r=e.units,s=void 0===r?1:r;return e=>Cu(e,i,s,t)}({closing:"}"}),"TemplateString BlockComment":()=>-1,"Statement Property":Tu({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.state.doc.lineAt(e.node.from))+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.state.doc.lineAt(e.node.from))+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),Wu.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":e=>({from:e.from+1,to:e.to-1}),BlockComment:e=>({from:e.from+2,to:e.to-2})}),mp({"get set async static":qp.modifier,"for while do if else switch try catch finally return throw break continue default case":qp.controlKeyword,"in of await yield void typeof delete instanceof":qp.operatorKeyword,"export import let var const function class extends":qp.definitionKeyword,"with debugger from as new":qp.keyword,TemplateString:qp.special(qp.string),Super:qp.atom,BooleanLiteral:qp.bool,this:qp.self,null:qp.null,Star:qp.modifier,VariableName:qp.variableName,"CallExpression/VariableName":qp.function(qp.variableName),VariableDefinition:qp.definition(qp.variableName),Label:qp.labelName,PropertyName:qp.propertyName,"CallExpression/MemberExpression/PropertyName":qp.function(qp.propertyName),"FunctionDeclaration/VariableDefinition":qp.function(qp.definition(qp.variableName)),"ClassDeclaration/VariableDefinition":qp.definition(qp.className),PropertyNameDefinition:qp.definition(qp.propertyName),UpdateOp:qp.updateOperator,LineComment:qp.lineComment,BlockComment:qp.blockComment,Number:qp.number,String:qp.string,ArithOp:qp.arithmeticOperator,LogicOp:qp.logicOperator,BitOp:qp.bitwiseOperator,CompareOp:qp.compareOperator,RegExp:qp.regexp,Equals:qp.definitionOperator,"Arrow : Spread":qp.punctuation,"( )":qp.paren,"[ ]":qp.squareBracket,"{ }":qp.brace,".":qp.derefOperator,", ;":qp.separator,TypeName:qp.typeName,TypeDefinition:qp.definition(qp.typeName),"type enum interface implements namespace module declare":qp.definitionKeyword,"abstract global privacy readonly":qp.modifier,"is keyof unique infer":qp.operatorKeyword,JSXAttributeValue:qp.string,JSXText:qp.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":qp.angleBracket,"JSXIdentifier JSXNameSpacedName":qp.typeName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":qp.propertyName})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/,wordChars:"$"}});jm.configure({dialect:"ts"}),jm.configure({dialect:"jsx"}),jm.configure({dialect:"jsx ts"});const Vm=["_blank","_self","_top","_parent"],Im=["ascii","utf-8","utf-16","latin1","latin1"],Um=["get","post","put","delete"],Nm=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Gm=["true","false"],Hm={},Km={a:{attrs:{href:null,ping:null,type:null,media:null,target:Vm,hreflang:null}},abbr:Hm,acronym:Hm,address:Hm,applet:Hm,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Hm,aside:Hm,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Hm,base:{attrs:{href:null,target:Vm}},basefont:Hm,bdi:Hm,bdo:Hm,big:Hm,blockquote:{attrs:{cite:null}},body:Hm,br:Hm,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Nm,formmethod:Um,formnovalidate:["novalidate"],formtarget:Vm,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Hm,center:Hm,cite:Hm,code:Hm,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Hm,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Hm,dir:Hm,div:Hm,dl:Hm,dt:Hm,em:Hm,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Hm,figure:Hm,font:Hm,footer:Hm,form:{attrs:{action:null,name:null,"accept-charset":Im,autocomplete:["on","off"],enctype:Nm,method:Um,novalidate:["novalidate"],target:Vm}},frame:Hm,frameset:Hm,h1:Hm,h2:Hm,h3:Hm,h4:Hm,h5:Hm,h6:Hm,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Hm,hgroup:Hm,hr:Hm,html:{attrs:{manifest:null},children:["head","body"]},i:Hm,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Nm,formmethod:Um,formnovalidate:["novalidate"],formtarget:Vm,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Hm,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Hm,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Hm,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Im,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Hm,noframes:Hm,noscript:Hm,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Hm,param:{attrs:{name:null,value:null}},pre:Hm,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Hm,rt:Hm,ruby:Hm,s:Hm,samp:Hm,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Im}},section:Hm,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},small:Hm,source:{attrs:{src:null,type:null,media:null}},span:Hm,strike:Hm,strong:Hm,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Hm,summary:Hm,sup:Hm,table:Hm,tbody:Hm,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Hm,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Hm,time:{attrs:{datetime:null}},title:Hm,tr:Hm,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},tt:Hm,u:Hm,ul:{children:["li","script","template","ul","ol"]},var:Hm,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Hm},Jm={accesskey:null,class:null,contenteditable:Gm,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Gm,autocorrect:Gm,autocapitalize:Gm,style:null,tabindex:null,title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Gm,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Gm,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Gm,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Gm,"aria-hidden":Gm,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Gm,"aria-multiselectable":Gm,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Gm,"aria-relevant":null,"aria-required":Gm,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},ey=Object.keys(Km),ty=Object.keys(Jm);function ny(e,t){let n=t.firstChild;if(!n||"OpenTag"!=n.name)return"";let i=n.getChild("TagName");return i?e.sliceString(i.from,i.to):""}function iy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=e.parent;n;n=n.parent)if("Element"==n.name){if(!t)return n;t=!1}return null}function ry(e,t){let n=iy(t,!0),i=n?Km[ny(e,n)]:null;return(null==i?void 0:i.children)||ey}function sy(e,t){let n=[];for(let i=t;i=iy(i);){let t=ny(e,i);if(t&&"CloseTag"==i.lastChild.name)break;t&&n.indexOf(t)<0&&n.push(t)}return n}const oy=/^[:\-\.\w\u00b7-\uffff]+$/;function ay(e,t,n,i){let r=/\s*>/.test(e.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:ry(e.doc,t).map((e=>({label:e,type:"type"}))).concat(sy(e.doc,t).map(((e,t)=>({label:"/"+e,apply:"/"+e+r,type:"type",boost:99-t})))),span:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function ly(e,t,n,i){let r=/\s*>/.test(e.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:sy(e.doc,t).map(((e,t)=>({label:e,apply:e+r,type:"type",boost:99-t}))),span:oy}}const cy=au.define({parser:gm.configure({props:[ku.add({Element(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.state.doc.lineAt(e.node.from))+(t?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit}),Wu.add({Element(e){let t=e.firstChild,n=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==n.name?n.from:e.to}:null}}),mp({AttributeValue:qp.string,"Text RawText":qp.content,"StartTag StartCloseTag SelfCloserEndTag EndTag SelfCloseEndTag":qp.angleBracket,TagName:qp.typeName,"MismatchedCloseTag/TagName":[qp.typeName,qp.invalid],AttributeName:qp.propertyName,UnquotedAttributeValue:qp.string,Is:qp.definitionOperator,"EntityReference CharacterReference":qp.character,Comment:qp.blockComment,ProcessingInst:qp.processingInstruction,DoctypeDecl:qp.documentMeta})],nested:function(e){return{elementContent:pm(e)}}([{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:jm.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:Wm.parser}])}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/$/}});cy.data.of({autocomplete:function(e){let t=e.state,n=e.pos,i=lu(t).resolve(n),r=i.resolve(n,-1);return"TagName"==r.name?r.parent&&/CloseTag$/.test(r.parent.name)?ly(t,r,r.from,n):ay(t,r,r.from,n):"StartTag"==r.name?ay(t,r,n,n):"StartCloseTag"==r.name||"IncompleteCloseTag"==r.name?ly(t,r,n,n):e.explicit&&("OpenTag"==r.name||"SelfClosingTag"==r.name)||"AttributeName"==r.name?function(e,t,n,i){let r=iy(t),s=r?Km[ny(e.doc,r)]:null;return{from:n,to:i,options:(s&&s.attrs?Object.keys(s.attrs).concat(ty):ty).map((e=>({label:e,type:"property"}))),span:oy}}(t,r,"AttributeName"==r.name?r.from:n,n):"Is"==r.name||"AttributeValue"==r.name||"UnquotedAttributeValue"==r.name?function(e,t,n,i){var r;let s,a=null===(r=t.parent)||void 0===r?void 0:r.getChild("AttributeName"),l=[];if(a){let r=e.sliceDoc(a.from,a.to),h=Jm[r];if(!h){let n=iy(t),i=n?Km[ny(e.doc,n)]:null;h=(null==i?void 0:i.attrs)&&i.attrs[r]}if(h){let t=e.sliceDoc(n,i).toLowerCase(),r='"',a='"';/^['"]/.test(t)?(s='"'==t[0]?/^[^"]*$/:/^[^']*$/,r="",a=e.sliceDoc(i,i+1)==t[0]?"":t[0],t=t.slice(1),n++):s=/^[^\s<>='"]*$/;var c,u=o(h);try{for(u.s();!(c=u.n()).done;){let e=c.value;l.push({label:e,apply:r+e+a,type:"constant"})}}catch(e){u.e(e)}finally{u.f()}}}return{from:n,to:i,options:l,span:s}}(t,r,"Is"==r.name?n:r.from,n):!e.explicit||"Element"!=i.name&&"Text"!=i.name&&"Document"!=i.name?null:function(e,t,n){let i=[],r=0;var s,a=o(ry(e.doc,t));try{for(a.s();!(s=a.n()).done;){let e=s.value;i.push({label:"<"+e,type:"type"})}}catch(e){a.e(e)}finally{a.f()}var l,c=o(sy(e.doc,t));try{for(c.s();!(l=c.n()).done;){let e=l.value;i.push({label:"</"+e+">",type:"type",boost:99-r++})}}catch(e){c.e(e)}finally{c.f()}return{from:n,to:n,options:i,span:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(t,r,n)}});const uy=ru({block:{open:"\x3c!--",close:"--\x3e"}}),hy=dg.configure({props:[mp({"Blockquote/...":qp.quote,HorizontalRule:qp.contentSeparator,"ATXHeading1/... SetextHeading1/...":qp.heading1,"ATXHeading2/... SetextHeading2/...":qp.heading2,"ATXHeading3/...":qp.heading3,"ATXHeading4/...":qp.heading4,"ATXHeading5/...":qp.heading5,"ATXHeading6/...":qp.heading6,"Comment CommentBlock":qp.comment,Escape:qp.escape,Entity:qp.character,"Emphasis/...":qp.emphasis,"StrongEmphasis/...":qp.strong,"Link/... Image/...":qp.link,"OrderedList/... BulletList/...":qp.list,"BlockQuote/...":qp.quote,InlineCode:qp.monospace,URL:qp.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":qp.processingInstruction,"CodeInfo LinkLabel":qp.labelName,LinkTitle:qp.string}),Wu.add((e=>{if(e.is("Block")&&!e.is("Document"))return(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})),ku.add({Document:()=>null}),iu.add({Document:uy})],htmlParser:cy.parser.configure({dialect:"noMatch"})}),fy=py(hy),dy=py(hy.configure([bg,wg,xg,$g,{props:[mp({"TableDelimiter SubscriptMark SuperscriptMark StrikethroughMark":qp.processingInstruction,"TableHeader/...":qp.heading,"Strikethrough/...":qp.deleted,TaskMarker:qp.atom,Emoji:qp.character,"Subscript Superscript":qp.special(qp.content)})]}]));function py(e){return new su(uy,e)}function Oy(e,t){return{codeParser(n){let i=n&&yu.matchLanguageName(e,n,!0);return i?i.support?i.support.language.parser:(i.load(),uu.skippingParser):t?t.parser:null}}}function gy(e,t){return t.sliceString(e.from,e.from+50)}function my(e,t,n){let i=[];for(let t=e;t&&"Document"!=t.name;t=t.parent)"ListItem"!=t.name&&"Blockquote"!=t.name||i.push(t);let r=[],s=0;for(let e=i.length-1;e>=0;e--){let o,a=i[e];if("Blockquote"==a.name&&(o=/^\s*> ?/.exec(t.slice(s))))r.push({from:s,string:o[0],node:a}),s+=o[0].length;else if("ListItem"==a.name&&"OrderedList"==a.parent.name&&(o=/^\s*\d+([.)])\s*/.exec(gy(a,n)))){let e=o[1].length>=4?o[0].length-o[1].length+1:o[0].length;r.push({from:s,string:t.slice(s,s+e).replace(/\S/g," "),node:a}),s+=e}else if("ListItem"==a.name&&"BulletList"==a.parent.name&&(o=/^\s*[-+*] (\s*)/.exec(gy(a,n)))){let e=o[1].length>=4?o[0].length-o[1].length:o[0].length;r.push({from:s,string:t.slice(s,s+e).replace(/\S/g," "),node:a}),s+=e}}return r}const yy=[{key:"Enter",run:e=>{let t=e.state,n=e.dispatch,i=lu(t),r=null,s=t.changeByRange((e=>{if(e.empty&&dy.isActiveAt(t,e.from)){let n=t.doc.lineAt(e.from),r=my(i.resolve(e.from,-1),n.text,t.doc),s=e.from,o=[];if(r.length){let i=r[r.length-1],a=i.from+i.string.length;if(e.from-n.from>=a&&!/\S/.test(n.text.slice(a,e.from-n.from))){let e=/List/.test(i.node.name)?i.from:a;for(;e>0&&/\s/.test(n.text[e-1]);)e--;s=n.from+e}"ListItem"==i.node.name&&(s<e.from&&i.node.parent.from==i.node.from?i.string="":(i.string=n.text.slice(i.from,i.from+i.string.length),"OrderedList"==i.node.parent.name&&s==e.from&&(i.string=i.string.replace(/\d+/,(e=>+e+1)),function(e,t,n){for(let i=-1,r=e;;){if("ListItem"==r.name){let e=/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(r.from,r.from+10));if(!e)return;let s=+e[2];if(i>=0){if(s!=i+1)return;n.push({from:r.from+e[1].length,to:r.from+e[0].length,insert:String(i+2)})}i=s}let e=r.nextSibling;if(!e)break;r=e}}(i.node,t.doc,o))))}let a=r.map((e=>e.string)).join("");return e.from-n.from<a.length&&(a=""),o.push({from:s,to:e.from,insert:Xi.of(["",a])}),{range:tr.cursor(s+1+a.length),changes:o}}return r={range:e}}));return!r&&(n(t.update(s,{scrollIntoView:!0})),!0)}},{key:"Backspace",run:e=>{let t=e.state,n=e.dispatch,i=lu(t),r=null,s=t.changeByRange((e=>{if(e.empty&&dy.isActiveAt(t,e.from)){let n=t.doc.lineAt(e.from),r=my(i.resolve(e.from,-1),n.text,t.doc);if(r.length){let t=r[r.length-1],i=t.from+t.string.length;if(e.from>i+n.from&&!/\S/.test(n.text.slice(i,e.from-n.from)))return{range:tr.cursor(i+n.from),changes:{from:i+n.from,to:e.from}};if(e.from-n.from==i){let r=n.from+t.from;return"ListItem"==t.node.name&&t.node.parent.from<t.node.from&&/\S/.test(n.text.slice(t.from,i))?{range:e,changes:{from:r,to:r+t.string.length,insert:t.string}}:{range:tr.cursor(r),changes:{from:r,to:e.from}}}}}return r={range:e}}));return!r&&(n(t.update(s,{scrollIntoView:!0})),!0)}}];function vy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.codeLanguages,n=e.defaultCodeLanguage,i=e.addKeymap,r=void 0===i||i,s=e.base,o=void 0===s?fy:s,a=o.parser,l=e.extensions?[e.extensions]:[];if(!(a instanceof zO))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");return(t||n)&&l.push(Oy(t||[],n)),new mu(py(a.configure(l)),r?Or.extend(Fl.of(yy)):[])}const by=Qp.define({tag:qp.monospace,color:"#a48a8a",fontFamily:"monospace !important"},{tag:qp.link,textDecoration:"underline"},{tag:qp.emphasis,fontStyle:"italic"},{tag:qp.strong,fontWeight:"bold"},{tag:qp.keyword,color:"#708"},{tag:[qp.atom,qp.bool,qp.url,qp.contentSeparator,qp.labelName],color:"#219",cursor:"pointer"},{tag:[qp.literal,qp.inserted],color:"#164"},{tag:[qp.string,qp.deleted],color:"#a11"},{tag:[qp.regexp,qp.escape,qp.special(qp.string)],color:"#e40"},{tag:qp.definition(qp.variableName),color:"#00f"},{tag:qp.local(qp.variableName),color:"#30a"},{tag:[qp.typeName,qp.namespace],color:"#085"},{tag:qp.className,color:"#167"},{tag:[qp.special(qp.variableName),qp.macroName,qp.local(qp.variableName)],color:"#256"},{tag:qp.definition(qp.propertyName),color:"#00c"},{tag:qp.comment,color:"#940"},{tag:qp.meta,color:"#7a757a"},{tag:qp.invalid,color:"#f00"});function Qy(e){let t,n,r,s,o,l,c,h,f,d,p,O,v,w,k,D,A,C,T,W=Qn.fullTitle(e[1].key)+"",R=e[1].value.group?` (${e[1].value.group})`:"";return{c(){t=b("main"),n=b("div"),r=b("h1"),s=Q(W),o=x(),l=b("span"),c=Q(R),h=x(),f=b("div"),d=b("span"),d.innerHTML='#<span class="icon-flash svelte-1na4zbj"></span>',O=x(),v=b("div"),w=Q("#L"),D=x(),A=b("div"),S(l,"class","group svelte-1na4zbj"),S(r,"class","svelte-1na4zbj"),S(d,"class","link"),S(f,"title",p=e[3]("editor.buttons.quicklink")),S(f,"class","svelte-1na4zbj"),S(v,"title",k=e[3]("editor.buttons.link")),S(v,"class","svelte-1na4zbj"),S(n,"class","toolbar svelte-1na4zbj"),S(A,"class","textarea svelte-1na4zbj"),S(t,"class","editor svelte-1na4zbj")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(r,s),g(r,o),g(r,l),g(l,c),g(n,h),g(n,f),g(f,d),g(n,O),g(n,v),g(v,w),g(t,D),g(t,A),e[8](A),C||(T=[$(r,"click",e[7]),$(f,"click",e[5]),$(v,"click",e[4])],C=!0)},p(e,t){let n=i(t,1)[0];2&n&&W!==(W=Qn.fullTitle(e[1].key)+"")&&P(s,W),2&n&&R!==(R=e[1].value.group?` (${e[1].value.group})`:"")&&P(c,R),8&n&&p!==(p=e[3]("editor.buttons.quicklink"))&&S(f,"title",p),8&n&&k!==(k=e[3]("editor.buttons.link"))&&S(v,"title",k)},i:a,o:a,d(n){n&&y(t),e[8](null),C=!1,u(T)}}}function xy(e,t,n){let i,r;p(e,wn,(e=>n(1,i=e))),p(e,on,(e=>n(3,r=e)));let s,a,l=t.showSidemenu;const c=(u=e=>{if(e.startsWith("#")){const t=e.substr(1);if(t!=Qn.sanitizeKey(t))return;Qn.update((e=>{let n=e.chapters;return n[t]||(n[t]=Qn.newChapter()),{chapters:n,key:t}}))}},[oc(),yc(),Zr.allowMultipleSelections.of(!0),Sl.lineWrapping,Sl.domEventHandlers({click:e=>{const t=e.target;"rgb(34, 17, 153)"===getComputedStyle(t).getPropertyValue("color")&&u(String(t.innerHTML).trim())}}),Zr.transactionFilter.of((e=>{if(!e.docChanged||"input"!=e.annotation(Cr.userEvent))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,i=e.newSelection.main.head,r=n.lineAt(i);if(i>r.from+200)return e;let s=n.sliceString(r.from,i);if(!t.some((e=>e.test(s))))return e;let a=e.state,l=-1,c=[];var u,h=o(a.selection.ranges);try{for(h.s();!(u=h.n()).done;){let e=u.value.head,t=a.doc.lineAt(e);if(t.from==l)continue;l=t.from;let n=wu(a,t.from);if(null==n)continue;let i=/^\s*/.exec(t.text)[0],r=xu(a,n);i!=r&&c.push({from:t.from,to:t.from+i.length,insert:r})}}catch(e){h.e(e)}finally{h.f()}return c.length?[e,{changes:c}]:e})),Or.fallback(by),Lu(),[Sl.inputHandler.of(Ih),Bh],Jd(),hp(),fc,Qf(),Fl.of([...Uh,...zh,...jf,...Rc,...sp,...ep,...Jp]),vy()]);var u,h;h=()=>{n(6,a=new Sl({state:Zr.create({doc:i.value.text,extensions:c}),parent:s}))},X().$$.on_mount.push(h),Qn.beforeUpdate((e=>{let t=e.chapters,n=e.key;if(a)return t[n].text=a.state.doc.toString().replace(/[\n\s]+$/,""),{chapters:t}}));const f=()=>{a.dispatch(a.state.changeByRange((e=>({changes:[{from:e.from,insert:"[](#"},{from:e.to,insert:")"}],range:tr.range(e.from+4,e.to+4),scrollIntoView:!0})))),a.focus()},d=()=>{let e=Qn.availableKey();const t="[](#"+e+")";let n;a.dispatch(a.state.changeByRange((e=>(n=e.from+t.length-1,{changes:[{from:e.from,insert:t}],range:tr.range(e.from+t.length,e.from+t.length)})))),Qn.update((t=>{let n=t.chapters;return n[e]=Qn.newChapter(),{chapters:n}})),a.focus(),a.scrollPosIntoView(n)};pn({K:()=>d(),L:()=>f()});return e.$$set=e=>{"showSidemenu"in e&&n(0,l=e.showSidemenu)},e.$$.update=()=>{if(66&e.$$.dirty&&a){const e=i.value.text;e!==a.state.doc.toString()&&(a.setState(Zr.create({doc:e,extensions:c,selection:tr.range(e.length,e.length)})),a.focus(),a.scrollDOM.scrollTo(0,0))}},[l,i,s,r,f,d,a,()=>n(0,l=!l),function(e){Y[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class wy extends ue{constructor(e){super(),ce(this,e,xy,Qy,f,{showSidemenu:0})}}function $y(e,t,n){const i=e.slice();return i[17]=t[n],i}function ky(e){let t,n,i;function r(){return e[13](e[17])}return{c(){t=b("div"),t.innerHTML=`<img alt="${e[17]}" src="./static/img/flags/${e[17]}.png" class="svelte-1h6v3vg"/> \n      `,S(t,"class","svelte-1h6v3vg"),R(t,"selected",e[5][e[17]])},m(e,s){m(e,t,s),n||(i=$(t,"click",r),n=!0)},p(n,i){e=n,32&i&&R(t,"selected",e[5][e[17]])},d(e){e&&y(t),n=!1,i()}}}function Sy(e){let t,n,r,s,o,l,c,h,f,d,p,O,w,k,D,T,W,R,_,E,X,F,z,Y,L,Z,q,B,M,j,V,I,U,N,G=e[7]("dialogs.chapter.name")+"",H=e[7]("dialogs.chapter.title")+"",K=e[7]("dialogs.chapter.group")+"",J=e[7]("dialogs.chapter.hint")+"",ee=e[7]("dialogs.ok")+"",te=e[7]("dialogs.cancel")+"",ne=["final","fixed","death"],ie=[];for(let t=0;t<3;t+=1)ie[t]=ky($y(e,ne,t));return{c(){t=b("div"),n=b("h3"),r=Q(e[1]),s=x(),o=b("div"),l=b("span"),c=Q(G),h=x(),f=b("input"),d=x(),p=b("div"),O=b("span"),w=Q(H),k=x(),D=b("input"),T=x(),W=b("div"),R=b("span"),_=Q(K),E=x(),X=b("input"),F=x(),z=b("div");for(let e=0;e<3;e+=1)ie[e].c();Y=x(),L=b("p"),Z=Q(J),q=x(),B=b("button"),M=Q(ee),j=x(),V=b("button"),I=Q(te),S(l,"class","svelte-1h6v3vg"),S(f,"type","text"),S(f,"class","svelte-1h6v3vg"),S(o,"class","input svelte-1h6v3vg"),S(O,"class","svelte-1h6v3vg"),S(D,"type","text"),S(D,"class","svelte-1h6v3vg"),S(p,"class","input svelte-1h6v3vg"),S(R,"class","svelte-1h6v3vg"),S(X,"type","text"),S(X,"class","svelte-1h6v3vg"),S(W,"class","input svelte-1h6v3vg"),S(z,"class","flags svelte-1h6v3vg"),C(L,"font-size","85%"),S(B,"class","ok"),S(V,"class","cancel"),S(t,"class","dialog")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(t,s),g(t,o),g(o,l),g(l,c),g(o,h),g(o,f),A(f,e[2]),g(t,d),g(t,p),g(p,O),g(O,w),g(p,k),g(p,D),A(D,e[4]),g(t,T),g(t,W),g(W,R),g(R,_),g(W,E),g(W,X),A(X,e[6]),g(t,F),g(t,z);for(let e=0;e<3;e+=1)ie[e].m(z,null);g(t,Y),g(t,L),g(L,Z),g(t,q),g(t,B),g(B,M),g(t,j),g(t,V),g(V,I),U||(N=[$(f,"input",e[10]),$(D,"input",e[11]),$(X,"input",e[12]),$(B,"click",e[14]),$(V,"click",e[15])],U=!0)},p(e,t){let n=i(t,1)[0];if(2&n&&P(r,e[1]),128&n&&G!==(G=e[7]("dialogs.chapter.name")+"")&&P(c,G),4&n&&f.value!==e[2]&&A(f,e[2]),128&n&&H!==(H=e[7]("dialogs.chapter.title")+"")&&P(w,H),16&n&&D.value!==e[4]&&A(D,e[4]),128&n&&K!==(K=e[7]("dialogs.chapter.group")+"")&&P(_,K),64&n&&X.value!==e[6]&&A(X,e[6]),32&n){let t;for(ne=["final","fixed","death"],t=0;t<3;t+=1){const i=$y(e,ne,t);ie[t]?ie[t].p(i,n):(ie[t]=ky(i),ie[t].c(),ie[t].m(z,null))}for(;t<3;t+=1)ie[t].d(1)}128&n&&J!==(J=e[7]("dialogs.chapter.hint")+"")&&P(Z,J),128&n&&ee!==(ee=e[7]("dialogs.ok")+"")&&P(M,ee),128&n&&te!==(te=e[7]("dialogs.cancel")+"")&&P(I,te)},i:a,o:a,d(e){e&&y(t),v(ie,e),U=!1,u(N)}}}function Dy(e,t,r){let s;p(e,on,(e=>r(7,s=e)));let o,a,l,c,u,h,f=t.params,d=t.callback;const O=()=>Object.keys(u).filter((e=>u[e]));F(f.subscribe((e=>{var t,n,s,f,d;r(1,(n=i(t=e,3),o=n[0],a=n[1],l=n[2],t),o,r(2,a),r(3,l)),r(4,(f=(s=l).title,c=void 0===f?"":f,d=s.group,h=void 0===d?"":d,s),c,r(6,h));const p=l.flags||[];r(5,u={final:p.includes("final"),fixed:p.includes("fixed"),death:p.includes("death")})})));return e.$$set=e=>{"params"in e&&r(9,f=e.params),"callback"in e&&r(0,d=e.callback)},[d,o,a,l,c,u,h,s,O,f,function(){a=this.value,r(2,a)},function(){c=this.value,r(4,c)},function(){h=this.value,r(6,h)},e=>r(5,u[e]=!u[e],u),()=>d({key:a,value:n(n({},l),{},{title:c,group:h,flags:O()})}),()=>d(!1)]}class Py extends ue{constructor(e){super(),ce(this,e,Dy,Sy,f,{params:9,callback:0})}}function Ay(e){let t,n,r,s,o,l,c,h,f,d,p,O,v,w,k=e[4]("dialogs.ok")+"",D=e[4]("dialogs.cancel")+"";return{c(){t=b("div"),n=b("h3"),r=Q(e[2]),s=x(),o=b("p"),l=Q(e[3]),c=x(),h=b("button"),f=Q(k),d=x(),p=b("button"),O=Q(D),S(h,"class","ok"),S(p,"class","cancel"),S(t,"class","dialog")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(t,s),g(t,o),g(o,l),g(t,c),g(t,h),g(h,f),g(t,d),g(t,p),g(p,O),v||(w=[$(h,"click",e[6]),$(p,"click",e[7])],v=!0)},p(e,t){let n=i(t,1)[0];4&n&&P(r,e[2]),8&n&&P(l,e[3]),16&n&&k!==(k=e[4]("dialogs.ok")+"")&&P(f,k),16&n&&D!==(D=e[4]("dialogs.cancel")+"")&&P(O,D)},i:a,o:a,d(e){e&&y(t),v=!1,u(w)}}}function Cy(e,t,n){let r,s,o=a,l=()=>(o(),o=d(c,(e=>n(5,r=e))),c);p(e,on,(e=>n(4,s=e))),e.$$.on_destroy.push((()=>o()));let c=t.params;l();let u,h,f=t.callback;return e.$$set=e=>{"params"in e&&l(n(0,c=e.params)),"callback"in e&&n(1,f=e.callback)},e.$$.update=()=>{var t,s;32&e.$$.dirty&&n(2,(s=i(t=r,2),u=s[0],h=s[1],t),u,(n(3,h),n(5,r)))},[c,f,u,h,s,r,()=>f(!0),()=>f(!1)]}class Ty extends ue{constructor(e){super(),ce(this,e,Cy,Ay,f,{params:0,callback:1})}}function Wy(e){let t,n,r,s,o,l,c,u,h,f,d,p=e[4]("dialogs.ok")+"";return{c(){t=b("div"),n=b("h3"),r=Q(e[2]),s=x(),o=b("p"),l=Q(e[3]),c=x(),u=b("button"),h=Q(p),S(u,"class","ok"),S(t,"class","dialog")},m(i,a){m(i,t,a),g(t,n),g(n,r),g(t,s),g(t,o),g(o,l),g(t,c),g(t,u),g(u,h),f||(d=$(u,"click",e[6]),f=!0)},p(e,t){let n=i(t,1)[0];4&n&&P(r,e[2]),8&n&&P(l,e[3]),16&n&&p!==(p=e[4]("dialogs.ok")+"")&&P(h,p)},i:a,o:a,d(e){e&&y(t),f=!1,d()}}}function Ry(e,t,n){let r,s,o=a,l=()=>(o(),o=d(c,(e=>n(5,r=e))),c);p(e,on,(e=>n(4,s=e))),e.$$.on_destroy.push((()=>o()));let c=t.params;l();let u,h,f=t.callback;return e.$$set=e=>{"params"in e&&l(n(0,c=e.params)),"callback"in e&&n(1,f=e.callback)},e.$$.update=()=>{var t,s;32&e.$$.dirty&&n(2,(s=i(t=r,2),u=s[0],h=s[1],t),u,(n(3,h),n(5,r)))},[c,f,u,h,s,r,()=>f(!0)]}class _y extends ue{constructor(e){super(),ce(this,e,Ry,Wy,f,{params:0,callback:1})}}function Ey(e){let t,n,r,s,o,l,c,h,f,d,p;return{c(){t=b("div"),n=b("div"),s=x(),o=b("div"),c=x(),h=b("div"),S(n,"class","icon-plus svelte-18eohpr"),S(n,"title",r=e[0]("sidemenu.actions.add")),S(o,"class","icon-pencil svelte-18eohpr"),S(o,"title",l=e[0]("sidemenu.actions.edit")),S(h,"class","icon-trash svelte-18eohpr"),S(h,"title",f=e[0]("sidemenu.actions.delete")),S(t,"class","buttons svelte-18eohpr")},m(i,r){m(i,t,r),g(t,n),g(t,s),g(t,o),g(t,c),g(t,h),d||(p=[$(n,"click",e[1]),$(o,"click",e[2]),$(h,"click",e[3])],d=!0)},p(e,t){let s=i(t,1)[0];1&s&&r!==(r=e[0]("sidemenu.actions.add"))&&S(n,"title",r),1&s&&l!==(l=e[0]("sidemenu.actions.edit"))&&S(o,"title",l),1&s&&f!==(f=e[0]("sidemenu.actions.delete"))&&S(h,"title",f)},i:a,o:a,d(e){e&&y(t),d=!1,u(p)}}}function Xy(e,t,n){let i,r;p(e,on,(e=>n(0,i=e))),p(e,wn,(e=>n(5,r=e)));let s=t.showSidemenu;const o=()=>{var e,t,r,o;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=Qn.newChapter(),a.next=3,regeneratorRuntime.awrap(un(Py,i("dialogs.chapter.add"),Qn.availableKey(),e));case 3:if(t=a.sent){a.next=6;break}return a.abrupt("return");case 6:if(r=t.key,o=t.value,r=Qn.sanitizeKey(r),o.group=Qn.sanitizeKey(o.group||""),r){a.next=11;break}return a.abrupt("return");case 11:Qn.update((e=>{let t=e.chapters;return r in t?(un(_y,i("dialogs.error"),i("dialogs.chapter.exists")),{}):(t[r]=o,{key:r,chapters:t})})),n(4,s=!1);case 13:case"end":return a.stop()}}),null,null,null,Promise)},a=()=>{var e,t,o;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(un(Py,i("dialogs.chapter.edit"),r.key,r.value));case 2:if(e=a.sent){a.next=5;break}return a.abrupt("return");case 5:if(t=e.key,o=e.value,t=Qn.sanitizeKey(t),o.group=Qn.sanitizeKey(o.group||""),t){a.next=10;break}return a.abrupt("return");case 10:Qn.update((e=>{let n=e.chapters;return t!==r.key&&t in n?(un(_y,i("dialogs.error"),i("dialogs.chapter.exists")),{}):(delete n[r.key],n[t]=o,{key:t,chapters:n})})),n(4,s=!1);case 12:case"end":return a.stop()}}),null,null,null,Promise)},l=()=>regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(un(Ty,i("dialogs.confirm"),i("dialogs.chapter.delete")));case 2:if(!e.sent){e.next=5;break}Qn.update((e=>{let t=e.chapters;const n=Object.keys(t).indexOf(r.key)-1;return delete t[r.key],{key:Object.keys(t)[n],chapters:t}})),n(4,s=!1);case 5:case"end":return e.stop()}}),null,null,null,Promise);return pn({R:()=>o(),E:()=>a(),D:()=>l()}),e.$$set=e=>{"showSidemenu"in e&&n(4,s=e.showSidemenu)},[i,o,a,l,s]}class Fy extends ue{constructor(e){super(),ce(this,e,Xy,Ey,f,{showSidemenu:4})}}function zy(e,t,n){const i=e.slice();return i[14]=t[n],i}function Yy(e,t,n){const i=e.slice();return i[17]=t[n],i}function Ly(e,t,n){const i=e.slice();return i[14]=t[n],i}function Zy(e,t,n){const i=e.slice();return i[17]=t[n],i}function qy(e,t,n){const i=e.slice();return i[24]=t[n],i}function By(e){let t,n,i,r=e[24]+"";return{c(){t=b("option"),n=Q(r),t.__value=i=e[24],t.value=t.__value},m(e,i){m(e,t,i),g(t,n)},p(e,s){4&s&&r!==(r=e[24]+"")&&P(n,r),4&s&&i!==(i=e[24])&&(t.__value=i,t.value=t.__value)},d(e){e&&y(t)}}}function My(e){let t,n,i;return{c(){t=b("img"),t.src!==(n=`./static/img/flags/${e[17]}.png`)&&S(t,"src",n),S(t,"alt",i=e[17])},m(e,n){m(e,t,n)},p(e,r){40&r&&t.src!==(n=`./static/img/flags/${e[17]}.png`)&&S(t,"src",n),40&r&&i!==(i=e[17])&&S(t,"alt",i)},d(e){e&&y(t)}}}function jy(e){let t,n,i,r,s,o,a,l,c,u=e[14]+"",h=(e[3].chapters[e[14]].title||"")+"",f=e[3].chapters[e[14]].flags||[],d=[];for(let t=0;t<f.length;t+=1)d[t]=My(Zy(e,f,t));function p(){return e[12](e[14])}return{c(){t=b("li"),n=Q(u),i=x(),r=b("b"),s=Q(h),o=x();for(let e=0;e<d.length;e+=1)d[e].c();a=x(),S(r,"class","svelte-r74l02"),S(t,"class","svelte-r74l02"),R(t,"selected",e[14]==e[4].key)},m(e,u){m(e,t,u),g(t,n),g(t,i),g(t,r),g(r,s),g(t,o);for(let e=0;e<d.length;e+=1)d[e].m(t,null);g(t,a),l||(c=$(t,"click",p),l=!0)},p(i,r){if(e=i,32&r&&u!==(u=e[14]+"")&&P(n,u),40&r&&h!==(h=(e[3].chapters[e[14]].title||"")+"")&&P(s,h),40&r){let n;for(f=e[3].chapters[e[14]].flags||[],n=0;n<f.length;n+=1){const i=Zy(e,f,n);d[n]?d[n].p(i,r):(d[n]=My(i),d[n].c(),d[n].m(t,a))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}48&r&&R(t,"selected",e[14]==e[4].key)},d(e){e&&y(t),v(d,e),l=!1,c()}}}function Vy(e){let t,n,i;return{c(){t=b("img"),t.src!==(n=`./static/img/flags/${e[17]}.png`)&&S(t,"src",n),S(t,"alt",i=e[17])},m(e,n){m(e,t,n)},p(e,r){72&r&&t.src!==(n=`./static/img/flags/${e[17]}.png`)&&S(t,"src",n),72&r&&i!==(i=e[17])&&S(t,"alt",i)},d(e){e&&y(t)}}}function Iy(e){let t,n,i,r,s,o,a,l,c,u=e[14]+"",h=(e[3].chapters[e[14]].title||"")+"",f=e[3].chapters[e[14]].flags||[],d=[];for(let t=0;t<f.length;t+=1)d[t]=Vy(Yy(e,f,t));function p(){return e[13](e[14])}return{c(){t=b("li"),n=Q(u),i=x(),r=b("b"),s=Q(h),o=x();for(let e=0;e<d.length;e+=1)d[e].c();a=x(),S(r,"class","svelte-r74l02"),S(t,"class","svelte-r74l02"),R(t,"selected",e[14]==e[4].key)},m(e,u){m(e,t,u),g(t,n),g(t,i),g(t,r),g(r,s),g(t,o);for(let e=0;e<d.length;e+=1)d[e].m(t,null);g(t,a),l||(c=$(t,"click",p),l=!0)},p(i,r){if(e=i,64&r&&u!==(u=e[14]+"")&&P(n,u),72&r&&h!==(h=(e[3].chapters[e[14]].title||"")+"")&&P(s,h),72&r){let n;for(f=e[3].chapters[e[14]].flags||[],n=0;n<f.length;n+=1){const i=Yy(e,f,n);d[n]?d[n].p(i,r):(d[n]=Vy(i),d[n].c(),d[n].m(t,a))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}80&r&&R(t,"selected",e[14]==e[4].key)},d(e){e&&y(t),v(d,e),l=!1,c()}}}function Uy(e){let t,n,r,s,o,a,l,c,h,f,d,p,w,k,D,A,C,W,R,_,E,X,F,z,L,Z,q,B,M=e[7]("sidemenu.chapters")+"",j=e[7]("sidemenu.allgroup")+"",U=e[7]("sidemenu.linkshere")+"",N=e[4].key+"",G=e[2],H=[];for(let t=0;t<G.length;t+=1)H[t]=By(qy(e,G,t));function K(t){e[11](t)}let J={};void 0!==e[0]&&(J.showSidemenu=e[0]),w=new Fy({props:J}),Y.push((()=>re(w,"showSidemenu",K)));let ee=e[5],te=[];for(let t=0;t<ee.length;t+=1)te[t]=jy(Ly(e,ee,t));let le=e[6],ce=[];for(let t=0;t<le.length;t+=1)ce[t]=Iy(zy(e,le,t));return{c(){t=b("div"),r=x(),s=b("aside"),o=b("h1"),a=Q(M),l=Q(":\n    "),c=b("span"),h=b("select"),f=b("option"),d=Q(j);for(let e=0;e<H.length;e+=1)H[e].c();p=x(),se(w.$$.fragment),D=x(),A=b("ul");for(let e=0;e<te.length;e+=1)te[e].c();C=x(),W=b("h1"),R=Q(U),_=x(),E=Q(N),X=Q(":"),F=x(),z=b("ul");for(let e=0;e<ce.length;e+=1)ce[e].c();S(t,"class",n=O("mask "+(e[0]?"foreground":""))+" svelte-r74l02"),f.__value="allgroupidtag",f.value=f.__value,S(h,"class","svelte-r74l02"),void 0===e[1]&&V((()=>e[10].call(h))),S(c,"class","select-dropdown"),S(o,"class","svelte-r74l02"),S(A,"class","chapters svelte-r74l02"),S(W,"class","svelte-r74l02"),S(z,"class","links-here svelte-r74l02"),S(s,"class",L=O(e[0]?"foreground":"")+" svelte-r74l02")},m(n,i){m(n,t,i),m(n,r,i),m(n,s,i),g(s,o),g(o,a),g(o,l),g(o,c),g(c,h),g(h,f),g(f,d);for(let e=0;e<H.length;e+=1)H[e].m(h,null);T(h,e[1]),g(s,p),oe(w,s,null),g(s,D),g(s,A);for(let e=0;e<te.length;e+=1)te[e].m(A,null);g(s,C),g(s,W),g(W,R),g(W,_),g(W,E),g(W,X),g(s,F),g(s,z);for(let e=0;e<ce.length;e+=1)ce[e].m(z,null);Z=!0,q||(B=[$(t,"click",e[9]),$(h,"change",e[10])],q=!0)},p(e,r){let o=i(r,1)[0];if((!Z||1&o&&n!==(n=O("mask "+(e[0]?"foreground":""))+" svelte-r74l02"))&&S(t,"class",n),(!Z||128&o)&&M!==(M=e[7]("sidemenu.chapters")+"")&&P(a,M),(!Z||128&o)&&j!==(j=e[7]("sidemenu.allgroup")+"")&&P(d,j),4&o){let t;for(G=e[2],t=0;t<G.length;t+=1){const n=qy(e,G,t);H[t]?H[t].p(n,o):(H[t]=By(n),H[t].c(),H[t].m(h,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=G.length}6&o&&T(h,e[1]);const l={};if(!k&&1&o&&(k=!0,l.showSidemenu=e[0],I((()=>k=!1))),w.$set(l),312&o){let t;for(ee=e[5],t=0;t<ee.length;t+=1){const n=Ly(e,ee,t);te[t]?te[t].p(n,o):(te[t]=jy(n),te[t].c(),te[t].m(A,null))}for(;t<te.length;t+=1)te[t].d(1);te.length=ee.length}if((!Z||128&o)&&U!==(U=e[7]("sidemenu.linkshere")+"")&&P(R,U),(!Z||16&o)&&N!==(N=e[4].key+"")&&P(E,N),344&o){let t;for(le=e[6],t=0;t<le.length;t+=1){const n=zy(e,le,t);ce[t]?ce[t].p(n,o):(ce[t]=Iy(n),ce[t].c(),ce[t].m(z,null))}for(;t<ce.length;t+=1)ce[t].d(1);ce.length=le.length}(!Z||1&o&&L!==(L=O(e[0]?"foreground":"")+" svelte-r74l02"))&&S(s,"class",L)},i(e){Z||(ne(w.$$.fragment,e),Z=!0)},o(e){ie(w.$$.fragment,e),Z=!1},d(e){e&&y(t),e&&y(r),e&&y(s),v(H,e),ae(w),v(te,e),v(ce,e),q=!1,u(B)}}}function Ny(e,t,n){let i,r,s,o,a,l;p(e,Qn,(e=>n(3,o=e))),p(e,wn,(e=>n(4,a=e))),p(e,on,(e=>n(7,l=e)));let c="allgroupidtag";const u=e=>{Qn.update((()=>({key:e}))),n(0,f=!1)};let h=t.showSidemenu,f=void 0!==h&&h;return e.$$set=e=>{"showSidemenu"in e&&n(0,f=e.showSidemenu)},e.$$.update=()=>{8&e.$$.dirty&&n(2,i=[...new Set(Object.values(o.chapters).map((e=>e.group||"")))].filter((e=>e&&""!=e))),6&e.$$.dirty&&([...i,"allgroupidtag"].includes(c)||n(1,c="allgroupidtag")),10&e.$$.dirty&&n(5,r=Qn.sortedKeys(o.chapters).filter((e=>{if(!c||"allgroupidtag"==c)return!0;const t=o.chapters[e].group;return t&&t==c}))),16&e.$$.dirty&&n(6,s=Qn.linksTo(a.key))},[f,c,i,o,a,r,s,l,u,()=>n(0,f=!1),function(){c=W(this),n(1,c),n(2,i),n(3,o),n(2,i),n(3,o)},function(e){f=e,n(0,f)},e=>u(e),e=>u(e)]}class Gy extends ue{constructor(e){super(),ce(this,e,Ny,Uy,f,{showSidemenu:0})}}function Hy(e){let t,n,r,s,o,a,l,c,u,h,f,d,p;function O(t){e[2](t)}t=new fn({});let g={};function v(t){e[3](t)}void 0!==e[0]&&(g.showSidemenu=e[0]),r=new xi({props:g}),Y.push((()=>re(r,"showSidemenu",O)));let b={};function Q(t){e[4](t)}void 0!==e[0]&&(b.showSidemenu=e[0]),a=new Gy({props:b}),Y.push((()=>re(a,"showSidemenu",v)));let w={};return void 0!==e[0]&&(w.showSidemenu=e[0]),u=new wy({props:w}),Y.push((()=>re(u,"showSidemenu",Q))),{c(){se(t.$$.fragment),n=x(),se(r.$$.fragment),o=x(),se(a.$$.fragment),c=x(),se(u.$$.fragment)},m(e,i){oe(t,e,i),m(e,n,i),oe(r,e,i),m(e,o,i),oe(a,e,i),m(e,c,i),oe(u,e,i),f=!0,d||(p=$(window,"keydown",On),d=!0)},p(e,t){let n=i(t,1)[0];const o={};!s&&1&n&&(s=!0,o.showSidemenu=e[0],I((()=>s=!1))),r.$set(o);const c={};!l&&1&n&&(l=!0,c.showSidemenu=e[0],I((()=>l=!1))),a.$set(c);const f={};!h&&1&n&&(h=!0,f.showSidemenu=e[0],I((()=>h=!1))),u.$set(f)},i(e){f||(ne(t.$$.fragment,e),ne(r.$$.fragment,e),ne(a.$$.fragment,e),ne(u.$$.fragment,e),f=!0)},o(e){ie(t.$$.fragment,e),ie(r.$$.fragment,e),ie(a.$$.fragment,e),ie(u.$$.fragment,e),f=!1},d(e){ae(t,e),e&&y(n),ae(r,e),e&&y(o),ae(a,e),e&&y(c),ae(u,e),d=!1,p()}}}function Ky(e,t,n){let i;p(e,Qn,(e=>n(1,i=e)));let r=!1;return e.$$.update=()=>{2&e.$$.dirty&&(/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent)||i.properties.title&&(document.title=(i.properties.title||"")+"("+String(i.properties.revision||"1").trim()+") - Magebook"))},[r,i,function(e){r=e,n(0,r)},function(e){r=e,n(0,r)},function(e){r=e,n(0,r)}]}var Jy={dialogs:{confirm:"Confirm?",error:"Error",ok:"Ok",cancel:"Cancel",chapter:{add:"Add chapter",edit:"Edit chapter",delete:"Chapter will be deleted",exists:"Chapter already exists",name:"Key*",title:"Title",group:"Group*",hint:"*Key and Group may contain only alphanumeric characters (a-z,A-Z,0-9)"},newbook:{new:"Create a New Book",title:"Title",author:"Author",hint:"<b>Warning:</b> current book will be overwritten if not saved."},shuffle:{title:"Shuffle",hint:"Shuffle chapters with numeric key. You may choose to shuffle only chapters belonging to some groups, or to exclude chapters based on their flags.",group:"Group filter",flags:"Exclude flags"}},navbar:{file:{title:"File",new:"New",open:"Open...",save:"Save",recover:"Recover session"},book:{title:"Book",graph:"View graph",shuffle:"Shuffle"},export:{title:"Export",docx:"Word (.docx)",fodt:"Libreoffice (.fodt)",xlgc:"LibroGameCreator 3",json:"Json",vuejs:"Vue.js"},help:{title:"Help",guide:"Guide",guidefile:"guide-en.pdf",forum:"Lgl forum",about:"About"}},sidemenu:{toggle:"Toggle sidemenu",chapters:"Chapters",allgroup:"All",linkshere:"Links to",actions:{add:"Add entity (ctrl+R)",edit:"Edit entity (ctrl+E)",delete:"Delete entity (ctrl+D)"}},editor:{buttons:{quicklink:"Link to the first avaiable chapter (ctrl+K)",link:"Add link (ctrl+L)"}},about:{contact:"Contact me",text:"Lgcjs is a gamebook web editor developed by <b>Luca Fabbian</b> with support of Lgl community,\nbased on LibroGameCreator3 by <b>Matteo Poropat</b>."}};var ev={dialogs:{confirm:"Confermi?",error:"Errore",ok:"Ok",cancel:"Annulla",chapter:{add:"Aggiungi paragrafo",edit:"Modifica paragrafo",delete:"Il paragrafo verrà eliminato",exist:"Questo paragrafo esiste già",name:"Key*",title:"Titolo",group:"Gruppo*",hint:"*Key e Gruppo possono contenere solo caratteri alfanumerici (a-z, A-Z, 0-9)"},newbook:{new:"Crea un nuovo Libro",title:"Titolo",author:"Autore",hint:"<b>Attenzione:</b> il libro attuale verrà sovrascritto se non salvato."},shuffle:{title:"Rimescola",hint:"Rimescola i paragrafi con chiave numerica. Puoi scegliere di mescolare solo i paragrafi che fanno parte di alcuni gruppi, o di escludere i paragrafi con determinati simboli.",group:"Filtro gruppi",flags:"Escludi simboli"}},navbar:{file:{title:"File",new:"Nuovo",open:"Apri...",save:"Salva",recover:"Recupera sessione"},book:{title:"Libro",graph:"Visualizza grafico",shuffle:"Rimescola"},export:{title:"Esporta",docx:"Word (.docx)",fodt:"Libreoffice (.fodt)",xlgc:"LibroGameCreator 3",json:"Json",vuejs:"Vue.js"},help:{title:"Aiuto",guide:"Guida",guidefile:"guide-it.pdf",forum:"Forum Lgl",about:"Info"}},sidemenu:{toggle:"Apri menu laterale",chapters:"Paragrafi",allgroup:"Tutti",linkshere:"Link al par.",actions:{add:"Aggiungi entità (ctrl+R)",edit:"Modifica entità (ctrl+E)",delete:"Elimina entità (ctrl+D)"}},editor:{buttons:{quicklink:"Link al primo paragrafo disponibile (ctrl+K)",link:"Aggiungi link (ctrl+L)"}},about:{contact:"Contattami",text:"Lgcjs è un editor di librogame sviluppato da <b>Luca Fabbian</b> con il supporto della community di Lgl,\nbasato su LibroGameCreator3 di <b>Matteo Poropat</b>."},book:{guide:"",welcome:"# Welcome\nauthor: \n\n\n"}};const tv=("undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0]).split("-")[0];Ct("en",Jy),Ct("it",ev),function(e){const t=e.formats,n=Xt(e,["formats"]),i=e.initialLocale||e.fallbackLocale;Object.assign(Ft,n,{initialLocale:i}),t&&("number"in t&&Object.assign(Ft.formats.number,t.number),"date"in t&&Object.assign(Ft.formats.date,t.date),"time"in t&&Object.assign(Ft.formats.time,t.time)),Zt.set(i)}({fallbackLocale:"en",initialLocale:tv}),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js")})),xn.load(),new class extends ue{constructor(e){super(),ce(this,e,Ky,Hy,f,{})}}({target:document.body})}();
